{"version":3,"sources":["axios.js","routers.js","redux/slices/userSlice.js","components/Header.jsx","components/BottomNav.jsx","components/Biz.jsx","components/Work.jsx","components/Rent.jsx","panels/Main.jsx","components/BizLot.jsx","panels/shop/BizList.jsx","components/CarLot.jsx","panels/shop/CarList.jsx","components/HouseLot.jsx","panels/shop/HouseList.jsx","panels/Property.jsx","panels/bank/Report.jsx","panels/bank/Credit.jsx","panels/bank/Deposit.jsx","panels/Bank.jsx","panels/Intro.jsx","panels/Register.jsx","img/bank.png","img/choose.png","img/deals.png","img/header.png","img/main.png","img/profile.png","panels/Training.jsx","panels/Settings.jsx","panels/Pause.jsx","panels/profile/Home.jsx","components/Friend.jsx","panels/profile/Friends.jsx","panels/profile/Raiting.jsx","panels/Profile.jsx","redux/slices/housesSlice.js","redux/slices/carsSlice.js","redux/slices/bizsSlice.js","App.js","redux/store.js","index.js"],"names":["instance","axios","create","baseURL","PAGE_REGISTER","PAGE_TRAINING","PAGE_SETTINGS","PAGE_PAUSE","PAGE_MAIN","PAGE_PROPERTY","PAGE_BANK","PAGE_PROFILE","PANEL_INTRO","PANEL_REGISTER","PANEL_TRAINING","PANEL_SETTINGS","PANEL_PAUSE","PANEL_MAIN","PANEL_PROPERTY","PANEL_BANK","PANEL_PROFILE","VIEW_MAIN","routes","Page","router","Router","start","getUsers","createAsyncThunk","_","a","rejectWithValue","dispatch","get","res","setUsers","data","getProfs","setProfs","userSlice","createSlice","name","initialState","user","users","friends","profs","debts","greetings","theme","reducers","setUser","state","action","payload","setFriends","setDebts","setGreetings","setTheme","actions","Header","fetchedUser","info","useRouter","useDispatch","React","useState","openEnergizer","setOpenEnergizer","openTime","setOpenTime","openAge","setOpenAge","openInfo","setOpenInfo","energyColor","setEnergyColor","timeLeft","setTimeLeft","enerTime","setEnerTime","activity","setActivity","freeTime","setFreeTime","useSelector","bizTime","bizs","filter","_id","includes","map","item","requiredTime","reduce","prev","curr","useEffect","energizer","energy","maxEnergy","prof","time","workTime","interval","setInterval","freeEnergizer","date","Date","fields","freeEnergizerOn","save","clearInterval","patch","Stack","Typography","Fragment","IconButton","size","color","onClick","fontSize","AppBar","component","sx","padding","borderRadius","top","marginBottom","position","Toolbar","disableGutters","direction","width","spacing","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","Avatar","pushPage","src","photo_200","variant","first_name","last_name","balance","marginTop","justifyContent","alignItems","Chip","label","deleteIcon","onDelete","newEnergizer","newEnergy","icon","Math","trunc","age","freeEnergizerCount","disabled","handleFreeEnergy","milliseconds","hours","absoluteHours","floor","h","minutes","absoluteMinutes","m","seconds","absoluteSeconds","parseMillisecondsIntoReadableTime","marginLeft","Skeleton","height","animation","Container","ListItemText","primary","secondary","Snackbar","open","onClose","message","BottomNav","value","Paper","bottom","left","right","elevation","BottomNavigation","onChange","event","newValue","BottomNavigationAction","invisible","Biz","biz","setColor","Restaurant","setOpen","Market","Service","Production","green","profitColor","setProfitColor","maxProfit","minProfit","profit","setProfit","isCounting","setIsCounting","myBizs","bizIcon","setBizIcon","bizType","result","min","max","p","ceil","random","pink","onGame","datePoint","pause","ListItem","disablePadding","secondaryAction","price","requiredEnergy","newBalance","handleStart","ListItemAvatar","bizName","LinearProgress","Divider","Dialog","fullWidth","DialogTitle","DialogContent","DialogContentText","sellPrice","DialogActions","Button","id","myNewBizs","sellBiz","Work","cars","myHouses","houses","house","myCars","car","sumHouseExp","expenses","sumCarExp","ageTime","setAgeTime","ageInterval","salary","agePlus","quit","Rent","sumRent","rent","rentPrice","Main","myRents","sumHouses","sumCars","sumRentExp","sumRents","sumCreditsDebt","credits","debt","sumCreditsPayments","payment","totalExp","children","remind","setRemind","bankrot","setBankrot","ageLimit","setAgeLimit","winning","setWinning","length","record","cashflow","round","deposit","amount","newRecord","bizCount","rentCount","houseSumm","carSum","ageLimitListener","newAge","newDebts","content","i","credit","push","sort","x","y","getNewCreditData","accruePayments","style","transform","bgcolor","boxShadow","BizPlaceHolder","InvestPlaceHolder","RentPlaceHolder","Info","minHeight","List","dense","index","newDeposit","takeDividends","Modal","Box","summ","victory","BizLot","setDisabled","bizPrice","buyBiz","BizList","c","Set","avBizs","has","CarLot","isMy","carsTime","Grid","Card","CardMedia","image","imageUrl","CardContent","gutterBottom","CardActions","myCars1","myEnergy","myTime","console","log","sellCar","buyCar","CarList","field","avCars","container","b","HouseLot","isRent","rentHouses","myHouse","sellHouse","rentHouse","derentHouse","buyHouse","HouseList","avHouses","c2","avHouses2","Property","setValue","Tabs","textColor","indicatorColor","Tab","Report","sumBizProfit","sumCredits","myCredits","newCredit","payCreditDebt","toLocaleDateString","year","month","day","payOff","Credit","setAmount","term","setTerm","setPayment","creditAmount","setCreditAmount","canCal","setCanCal","calculated","setCalculated","creditLimit","setCreditLimit","xs","FormControl","error","InputLabel","Select","labelId","target","MenuItem","terms","takeCredit","Deposit","withdrawAmount","setWithdrawAmount","disabledWithdraw","setDisabledWithdraw","TextField","type","InputLabelProps","shrink","Number","invest","withdraw","Bank","Intro","firstTime","setFirstTime","getPlayer","then","catch","centered","Register","profession","setProfession","getProf","Object","keys","profName","firstName","photo100","photo_100","userId","childCount","greetingIn","greetingOut","promoter","post","lifesCount","CircularProgress","Training","ImageList","cols","ImageListItem","choose","header","main","deals","bank","profile","popPage","Settings","checkPost","setCheckPost","checkGroup","setCheckGroup","checkMessages","setCheckMessages","bridge","send","group_id","attachments","post_id","ToggleButtonGroup","exclusive","newTheme","ToggleButton","Checkbox","checked","joinGroup","messagesFromGroup","recommend","Pause","pauseTime","setPauseTime","ad_format","play","t","Home","Friend","friend","saveForFriend","friendFields","sendHi","Collapse","in","timeout","unmountOnExit","Friends","ids","u","string","String","myFriends","hiInFriends","hiOutFriends","disableds","noHiFriends","Record","Profile","app_id","scope","response","method","params","order","v","access_token","items","fetchFriends","getHouses","setHouses","houseSlice","getCars","setCars","carSlice","getBizs","setBizs","bizSlice","withRouter","scheme","setScheme","location","useLocation","subscribe","detail","fetchData","themeMode","createTheme","palette","mode","typography","fontFamily","join","background","default","paper","ThemeProvider","history","hasOverlay","getViewHistory","activePanel","getViewActivePanel","store","configureStore","reducer","carsSlice","bizsSlice","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.cc27e960.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://financial-freedom-game.ru',\r\n});\r\n\r\nexport default instance;","import { Page, Router } from '@happysanta/router';\r\nimport { useSelector } from 'react-redux';\r\nimport axios from './axios.js';\r\n\r\nexport const PAGE_INTRO = '/';\r\nexport const PAGE_REGISTER = '/register';\r\nexport const PAGE_TRAINING = '/training';\r\nexport const PAGE_SETTINGS = '/settings';\r\nexport const PAGE_PAUSE = '/pause';\r\nexport const PAGE_MAIN = '/main';\r\nexport const PAGE_PROPERTY = '/property';\r\nexport const PAGE_BANK = '/bank';\r\nexport const PAGE_PROFILE = '/profile';\r\n\r\nexport const PANEL_INTRO = 'panel_intro';\r\nexport const PANEL_REGISTER = 'panel_register';\r\nexport const PANEL_TRAINING = 'panel_training';\r\nexport const PANEL_SETTINGS = 'panel_settings';\r\nexport const PANEL_PAUSE = 'panel_pause';\r\nexport const PANEL_MAIN = 'panel_main';\r\nexport const PANEL_PROPERTY = 'panel_property';\r\nexport const PANEL_BANK = 'panel_bank';\r\nexport const PANEL_PROFILE = 'panel_profile';\r\n\r\nexport const VIEW_MAIN = 'view_main';\r\n\r\nconst routes = {\r\n\t[PAGE_INTRO]: new Page(PANEL_INTRO, VIEW_MAIN),\r\n\t[PAGE_REGISTER]: new Page(PANEL_REGISTER, VIEW_MAIN),\r\n\t[PAGE_TRAINING]: new Page(PANEL_TRAINING, VIEW_MAIN),\r\n\t[PAGE_SETTINGS]: new Page(PANEL_SETTINGS, VIEW_MAIN),\r\n    [PAGE_PAUSE]: new Page(PANEL_PAUSE, VIEW_MAIN),\r\n    [PAGE_MAIN]: new Page(PANEL_MAIN, VIEW_MAIN),\r\n    [PAGE_PROPERTY]: new Page(PANEL_PROPERTY, VIEW_MAIN),\r\n    [PAGE_BANK]: new Page(PANEL_BANK, VIEW_MAIN),\r\n    [PAGE_PROFILE]: new Page(PANEL_PROFILE, VIEW_MAIN),\r\n};\r\n\r\nexport const router = new Router(routes);\r\n\r\n\r\nrouter.start();","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    user: {},\r\n    users: [],\r\n    friends: [],\r\n    profs: [],\r\n    debts: false,\r\n    greetings: false,\r\n    theme: 'auto',\r\n};\r\n\r\nexport const getUsers = createAsyncThunk('users/getUsers', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/auth/users')\r\n    dispatch(setUsers((res).data))\r\n})\r\n\r\nexport const getProfs = createAsyncThunk('users/getProfs', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/profs')\r\n    dispatch(setProfs((res).data))\r\n})\r\n\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducers: {\r\n        setUser: ( state, action ) => {\r\n            state.user = action.payload\r\n        },\r\n        setUsers: ( state, action ) => {\r\n            state.users = action.payload\r\n        },\r\n        setFriends: ( state, action ) => {\r\n            state.friends = action.payload\r\n        },\r\n        setProfs: ( state, action ) => {\r\n            state.profs = action.payload\r\n        },\r\n        setDebts: ( state, action ) => {\r\n            state.debts = action.payload\r\n        },\r\n        setGreetings: ( state, action ) => {\r\n            state.greetings = action.payload\r\n        },\r\n        setTheme: ( state, action ) => {\r\n            state.theme = action.payload\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setUser, setUsers, setFriends, setDebts, setGreetings, setProfs, setTheme } = userSlice.actions;\r\n\r\nexport default userSlice.reducer;","\r\nimport { AppBar, Avatar, Container, ListItemText, Skeleton, Toolbar, Typography, Stack, Chip, Snackbar, Button, IconButton, Badge } from '@mui/material'\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js';\r\nimport { PAGE_INTRO } from '../routers';\r\nimport { useRouter } from '@happysanta/router';\r\n\r\nimport BoltIcon from '@mui/icons-material/Bolt';\r\nimport QueryBuilderOutlinedIcon from '@mui/icons-material/QueryBuilderOutlined';\r\nimport BatteryChargingFullOutlinedIcon from '@mui/icons-material/BatteryChargingFullOutlined';\r\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\r\nimport HourglassEmptyIcon from '@mui/icons-material/HourglassEmpty';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\r\n\r\nexport const Header = ({fetchedUser, info}) => {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch()\r\n  const [openEnergizer, setOpenEnergizer] = React.useState(false);\r\n  const [openTime, setOpenTime] = React.useState(false);\r\n  const [openAge, setOpenAge] = React.useState(false);\r\n  const [openInfo, setOpenInfo] = React.useState(false);\r\n  const [energyColor, setEnergyColor] = React.useState(\"default\")\r\n  const [timeLeft, setTimeLeft] = React.useState(0)\r\n  const [enerTime, setEnerTime] = React.useState(0)\r\n  const [activity, setActivity] = React.useState(<b>E</b>)\r\n  const [freeTime, setFreeTime] = React.useState(0)\r\n  const user = useSelector((state) => state.user.user)\r\n  const bizs = useSelector((state) => state.bizs.bizs)\r\n  const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n  const bizTime = myBizs.map(item => item.requiredTime).reduce((prev, curr) => prev + curr, 0)\r\n\r\n  React.useEffect( () => {\r\n    if(user.energizer > 0){\r\n      if(user.energy < user.maxEnergy){\r\n        setEnergyColor(\"primary\")\r\n      } else setEnergyColor(\"default\")\r\n    } else setEnergyColor(\"default\")\r\n\r\n    if(user.prof == 'Малый бизнес'||user.prof == 'Средний бизнес'){\r\n      setActivity(<b>S</b>)\r\n      setFreeTime(user.time - (bizTime + user.workTime))\r\n    }\r\n    if(user.prof == 'Крупный бизнес'){\r\n      setActivity(<b>B</b>)\r\n      setFreeTime(user.time)\r\n    }\r\n    if(user.prof == 'Инвестор'){\r\n      setActivity(<b>I</b>)\r\n      setFreeTime(user.time)\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      !user.freeEnergizer && setTimeLeft((timeLeft) => (timeLeft >= 100 ? 100 : timeLeft +1 ))\r\n      const date = +new Date\r\n      if(date > user.freeEnergizer){\r\n        const fields = {\r\n          ...user,\r\n          freeEnergizerOn: true,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n      }\r\n      setEnerTime(user.freeEnergizer - date)\r\n      \r\n      if (timeLeft == 100) {\r\n        setTimeLeft(0)\r\n      }\r\n    },100)\r\n    return () => {\r\n        clearInterval(interval)\r\n    }\r\n  },[user, setTimeLeft])\r\n  \r\n  const handlePlusEnergy = () => {\r\n    if(user.energizer > 0){\r\n      if(user.energy < user.maxEnergy){\r\n        const newEnergizer = user.energizer - 1\r\n        const newEnergy = user.maxEnergy\r\n        const fields = {\r\n          ...user,\r\n          energizer: newEnergizer,\r\n          energy: newEnergy,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFreeEnergy = () => {\r\n    const date = +new Date\r\n    const newEnergizer = user.energizer + user.freeEnergizerCount\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tenergizer: newEnergizer,\r\n      freeEnergizer: date + 86400000,\r\n      freeEnergizerOn: false,\r\n      disabled:[], \r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n  }\r\n\r\n  const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)}\r\n\r\n  const textInfo = (\r\n    <Stack direction=\"column\">\r\n      <Typography></Typography><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <BoltIcon />\r\n        <Typography>Энергия - расходуется каждый раз когда фиксируется прибыль от бизнеса. \r\n          Купив недвижимость, не сдавая её в аренду, можно увеличить максимальное количество энергии.<br/><br/>\r\n          Пополнить энергию можно с помощью энергетика.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <BatteryChargingFullOutlinedIcon />\r\n        <Typography>Энергетик восстанавливает энергию. Каждые 24 часа предлагается 2 бесплатных энергетика, \r\n          их колисество можно увеличить до 10, выполнив некоторые условия в настройках.\r\n          Энергия - расходуется каждый раз когда фиксируется прибыль от бизнеса.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <QueryBuilderOutlinedIcon />\r\n        <Typography> Время необходимо для покупки бизнеса. Общее количество времени 10 ч. Увеличить его можно купив транспорт.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <HourglassEmptyIcon />\r\n        <Typography>Возраст игрока на данный момент, по достижении 60 лет игра заканчивается.\r\n        </Typography>\r\n      </Stack>\r\n    </Stack>\r\n  )\r\n\r\n  const action = (\r\n    <React.Fragment>\r\n      <IconButton\r\n        size=\"small\"\r\n        aria-label=\"close\"\r\n        color=\"inherit\"\r\n        onClick={()=>{\r\n          setOpenAge(false)\r\n          setOpenEnergizer(false)\r\n          setOpenTime(false)\r\n          setOpenInfo(false)\r\n        }}\r\n      >\r\n        <CloseIcon fontSize=\"small\" />\r\n      </IconButton>\r\n    </React.Fragment>\r\n  );\r\n\r\n  function parseMillisecondsIntoReadableTime(milliseconds){\r\n    //Get hours from milliseconds\r\n    var hours = milliseconds / (1000*60*60);\r\n    var absoluteHours = Math.floor(hours);\r\n    var h = absoluteHours > 9 ? absoluteHours : '0' + absoluteHours;\r\n  \r\n    //Get remainder from hours and convert to minutes\r\n    var minutes = (hours - absoluteHours) * 60;\r\n    var absoluteMinutes = Math.floor(minutes);\r\n    var m = absoluteMinutes > 9 ? absoluteMinutes : '0' +  absoluteMinutes;\r\n  \r\n    //Get remainder from minutes and convert to seconds\r\n    var seconds = (minutes - absoluteMinutes) * 60;\r\n    var absoluteSeconds = Math.floor(seconds);\r\n    var s = absoluteSeconds > 9 ? absoluteSeconds : '0' + absoluteSeconds;\r\n  \r\n  \r\n    return h + ':' + m + ':' + s;\r\n  }\r\n\r\n  return (\r\n      <AppBar component=\"nav\" color=\"inherit\" sx={{padding:'10px', borderRadius:'10px', top: 10, marginBottom: '10px'}} position='sticky'>\r\n        {fetchedUser ?\r\n        <Toolbar disableGutters>\r\n          <Stack direction=\"column\" sx={{ width: '100%' }} >\r\n          <Stack direction=\"row\" spacing={1}>\r\n          <Stack>\r\n            <Badge\r\n              overlap='rectangular'\r\n              anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n              badgeContent={activity}\r\n            >\r\n              <Avatar onClick={()=>{router.pushPage(PAGE_INTRO)}} src={fetchedUser.photo_200}/>\r\n            </Badge>\r\n          </Stack>\r\n          <Stack direction=\"column\">\r\n            <Typography variant='caption' >{fetchedUser.first_name} {fetchedUser.last_name}</Typography>\r\n            <Typography>Баланс: {user.balance} K</Typography>\r\n          </Stack>\r\n          </Stack>\r\n          <Stack \r\n            sx={{ marginTop: '15px'}}\r\n            direction=\"row\"\r\n            justifyContent=\"flex-start\"\r\n            alignItems=\"center\"\r\n            spacing={1}>\r\n              <Chip \r\n                label={<Typography variant='caption'><b>{user.energy}/{user.maxEnergy}</b></Typography>} \r\n                deleteIcon={<AddCircleIcon sx={{ color: 'black' }}/>} \r\n                onDelete={handlePlusEnergy} \r\n                icon={<BoltIcon/>} \r\n                size=\"small\"\r\n                color={energyColor}\r\n              />\r\n              <Chip \r\n                label={<Typography variant='caption'><b>{user.energizer}</b></Typography>} \r\n                icon={<BatteryChargingFullOutlinedIcon sx={{ color: 'black' }}/>} \r\n                onClick={()=>setOpenEnergizer(true)}\r\n                size=\"small\"\r\n                color=\"secondary\" \r\n              />\r\n              <Chip \r\n                label={<Typography variant='caption'><b>{freeTime}/{user.time}</b></Typography>} \r\n                icon={<QueryBuilderOutlinedIcon sx={{ color: 'black' }}/>} \r\n                onClick={()=>setOpenTime(true)}\r\n                size=\"small\" \r\n                color=\"success\" \r\n              />\r\n              <Chip \r\n                label={<Typography variant='caption'><b>{Math.trunc(user.age/12)}/60</b></Typography>} \r\n                icon={<AccessibilityNewIcon/>} \r\n                onClick={()=>setOpenAge(true)}\r\n                size=\"small\" \r\n                color=\"warning\" \r\n              />\r\n            </Stack>\r\n            <Stack \r\n              direction=\"row\"\r\n              sx={{ marginTop: '15px'}}>\r\n                {user.freeEnergizerOn ? <Chip label={<b>Энергетики +{user.freeEnergizerCount}</b>} onClick={()=>handleFreeEnergy()} color=\"primary\" icon={<BatteryChargingFullOutlinedIcon />} size=\"small\" />:\r\n                <Chip label={`Бесплатные через ${parseMillisecondsIntoReadableTime(enerTime)}`} icon={<BatteryChargingFullOutlinedIcon />} size=\"small\" />}\r\n                <InfoOutlinedIcon onClick={()=>setOpenInfo(true)} color=\"primary\" sx={{marginLeft:'auto'}}/>\r\n              </Stack>\r\n            </Stack>\r\n        </Toolbar> : \r\n        <Toolbar> \r\n          <Skeleton variant=\"circular\" width={40} height={40} animation=\"wave\" /> \r\n          <Container>\r\n          <ListItemText \r\n              primary={<Skeleton/>} \r\n              secondary={<Skeleton/>}/>\r\n          </Container>\r\n        </Toolbar>}\r\n        <div>\r\n          <Snackbar\r\n            open={openEnergizer}\r\n            onClose={()=>setOpenEnergizer(false)}\r\n            message={<><BatteryChargingFullOutlinedIcon/><Typography><b>Энергетик</b> восстанавливает энергию.<br/><br/> Каждые 24 часа предлагается <b>2 бесплатных энергетика</b>, \r\n              их количество можно увеличить до 10, выполнив некоторые условия в <b>настройках</b>.<br/><br/>\r\n              Энергия - <b>расходуется</b> каждый раз когда фиксируется прибыль от бизнеса.\r\n            </Typography></>}\r\n            action={action}\r\n          />\r\n          <Snackbar\r\n            open={openTime}\r\n            onClose={()=>setOpenTime(false)}\r\n            message={<><QueryBuilderOutlinedIcon/><Typography>Время <b>необходимо</b> для покупки бизнеса.<br/><br/> Максимальное количество времени 14 ч.<br/><br/> Увеличить до максимума можно купив транспорт.\r\n              </Typography></>}\r\n            action={action}\r\n          />\r\n          <Snackbar\r\n            open={openAge}\r\n            onClose={()=>setOpenAge(false)}\r\n            message={<><AccessibilityNewIcon/><Typography>Возраст игрока на данный момент, по достижении 60 лет игра заканчивается.\r\n              </Typography></>}\r\n            action={action}\r\n          />\r\n          <Snackbar\r\n            open={openInfo}\r\n            onClose={()=>setOpenInfo(false)}\r\n            message={info}\r\n            action={action}\r\n          />\r\n        </div>\r\n      </AppBar>\r\n    \r\n  )\r\n}\r\n","import { Badge, BottomNavigation, BottomNavigationAction, Paper } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN, PAGE_PROPERTY, PAGE_BANK, PAGE_PROFILE } from '../routers';\r\n\r\nimport HandshakeIcon from '@mui/icons-material/Handshake';\r\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn';\r\n\r\nfunction BottomNav({value}) {\r\n    const router = useRouter()\r\n    const debts = useSelector((state) => state.user.debts)\r\n    const greetings = useSelector((state) => state.user.greetings)\r\n    const handleChange = (event, newValue) => {\r\n        router.pushPage(newValue)\r\n      };\r\n    return (\r\n        <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n        <BottomNavigation\r\n            value={value}\r\n            onChange={handleChange}\r\n        >\r\n            <BottomNavigationAction label=\"Главная\" value={PAGE_MAIN} icon={<MonetizationOnIcon/>}/>\r\n            <BottomNavigationAction label=\"Сделки\" value={PAGE_PROPERTY} icon={<HandshakeIcon/>}/>\r\n            <BottomNavigationAction label=\"Банк\" value={PAGE_BANK} icon={\r\n                <Badge color=\"secondary\" variant=\"dot\" invisible={!debts}>\r\n                    <AccountBalanceIcon/>\r\n                </Badge>\r\n            }/>\r\n            <BottomNavigationAction label='Профиль' value={PAGE_PROFILE} icon={\r\n                <Badge color=\"secondary\" variant=\"dot\" invisible={!greetings}>\r\n                    <AccountCircleIcon/>\r\n                </Badge>\r\n            }/>\r\n\r\n        </BottomNavigation>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default BottomNav","import { ListItem, Stack, Typography, ListItemAvatar, Avatar, ListItemText,\r\n    LinearProgress, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, IconButton, Button, Divider, Skeleton } from '@mui/material'\r\nimport { green, pink } from '@mui/material/colors';\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nimport PaymentsIcon from '@mui/icons-material/Payments';\r\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\nimport HomeRepairServiceIcon from '@mui/icons-material/HomeRepairService';\r\nimport EngineeringIcon from '@mui/icons-material/Engineering';\r\n\r\nfunction Biz({ biz }) {\r\n\r\n    const [ color, setColor ] = React.useState(\"inherit\")\r\n    const Restaurant = () => {\r\n        return(\r\n            <RestaurantIcon color={\"warning\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const Market = () => {\r\n        return(\r\n            <StorefrontIcon color={\"success\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const Service = () => {\r\n        return(\r\n            <HomeRepairServiceIcon color={\"secondary\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const Production = () => {\r\n        return(\r\n            <EngineeringIcon onClick={()=>setOpen(true)} />\r\n        )\r\n    }\r\n\r\n    const SkeletonIcon = () => {\r\n        return(\r\n            <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n        )\r\n    }\r\n\r\n    const [ profitColor, setProfitColor ] = React.useState(green[300])\r\n    const [ open, setOpen ] = React.useState(false)\r\n    const [ profit, setProfit ] = React.useState(((biz.maxProfit - biz.minProfit)/2)+biz.minProfit)\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const value = timeLeft * 10\r\n    const [ isCounting, setIsCounting ] = React.useState(true)\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    const bizTime = myBizs.map(item => item.requiredTime).reduce((prev, curr) => prev + curr, 0)\r\n    \r\n    const [ bizIcon, setBizIcon ] = React.useState(SkeletonIcon)\r\n\r\n    React.useEffect(()=>{\r\n        if(biz.bizType == \"Услуги\") {\r\n            setColor(\"secondary\")\r\n            setBizIcon(Service)\r\n        } else\r\n        if(biz.bizType == \"Общепит\") { \r\n            setColor(\"warning\")\r\n            setBizIcon(Restaurant)\r\n        } else\r\n        if(biz.bizType == \"Торговля\") {\r\n            setColor(\"success\")\r\n            setBizIcon(Market)\r\n        }else\r\n        if(biz.bizType == \"Производство\") {\r\n            setBizIcon(Production)\r\n        }\r\n    },[biz.bizType])\r\n\r\n    const getRandomIntInclusive = (min, max) => {\r\n\t\tmin = Math.ceil(min);\r\n\t\tmax = Math.floor(max);\r\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n\t  }\r\n\r\n    const result = () => {\r\n\t\tsetIsCounting(false)\r\n\t\tconst p = getRandomIntInclusive( biz.minProfit, biz.maxProfit)\r\n        if( p > 0 ) {setProfitColor(green[700])} else {setProfitColor(pink[500])}\r\n\t\tsetProfit(p)\r\n\t}\r\n\r\n    const handleStart = (price,requiredEnergy) => {\r\n        setIsCounting(true)\r\n        if (timeLeft == 10)setTimeLeft(0)\r\n        const newBalance = user.balance + price\r\n        const newEnergy = user.energy - 3\r\n        const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n            energy: newEnergy,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n        save(fields)\r\n    }\r\n\r\n    const sellBiz = ( id, price) => {\r\n\t\tconst newBalance = user.balance + price\r\n\t\tconst myNewBizs = myBizs.filter((biz) => biz._id !== id)\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\tbizs: myNewBizs.map(item => item._id)\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const pause = () => {\r\n        const date = +new Date\r\n        const fields = {\r\n            ...user,\r\n            onGame: false,\r\n            datePoint: date + 300000\r\n        }\r\n        dispatch(setUser(fields))\r\n\t\tsave(fields)\r\n        //router.pushPage(PAGE_PAUSE)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            \r\n            if(!biz.requiredTime <= (user.time - (bizTime + user.workTime))||user.prof == 'Средний бизнес'||user.prof == 'Крупный бизнес'){\r\n                isCounting && setTimeLeft((timeLeft) => (timeLeft >= 10 ? 10 : timeLeft +1 ))\r\n            }\r\n\t\t\t\r\n            if (timeLeft == 10) {\r\n                if(user.energy <= 0){\r\n                    pause()\r\n                } else {\r\n                    result()\r\n                }\r\n\t\t\t}\r\n        },500)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    },[isCounting, timeLeft, biz])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n            secondaryAction={<Stack alignItems=\"flex-end\">\r\n                <Typography variant=\"h6\" sx={{ color: profitColor }}>{Math.trunc(profit)} K</Typography>\r\n                <IconButton \r\n                    onClick={()=>handleStart(Math.trunc(profit),biz.requiredEnergy)} \r\n                    color=\"primary\" \r\n                    disabled={isCounting} \r\n                    variant=\"contained\" \r\n                    size=\"small\"\r\n                ><PaymentsIcon/></IconButton></Stack>}\r\n        >\r\n            <ListItemAvatar>\r\n                <Avatar>\r\n                {bizIcon}\r\n                </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<React.Fragment>{biz.bizName}<br/><Typography variant=\"caption\">Макс. прибыль: {biz.maxProfit} K</Typography></React.Fragment>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={value} color={color}/>}\r\n            />\r\n        </ListItem>\r\n        \r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/>\r\n        <Dialog\r\n            open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            {biz.bizName}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Вид бизнеса: <b>{biz.bizType}</b><br/>\r\n                Расход времени: <b>{biz.requiredTime}ч.</b><br/>\r\n                Максимальная прибыль: <b>{biz.maxProfit} K</b><br/>\r\n                Минимальная прибыль: <b>{biz.minProfit} K</b><br/>\r\n                Сумма продажи: <b>{biz.sellPrice} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={()=>{\r\n                sellBiz(biz._id,biz.sellPrice); \r\n                setOpen(false)\r\n                }}>\r\n                Продать\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n    }\r\n\r\nexport default Biz","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\n\r\nimport { Avatar, Typography, Dialog, DialogContent, DialogContentText, DialogActions, Button, LinearProgress, ListItem, ListItemAvatar, DialogTitle, ListItemText } from '@mui/material'\r\n\r\nimport EngineeringIcon from '@mui/icons-material/Engineering';\r\n\r\nfunction Work() {\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n\tconst houses = useSelector((state) => state.houses.houses)\r\n\t\r\n\tconst myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n\tconst myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    \r\n    const [ ageTime, setAgeTime ] = React.useState(0)\r\n    const [ open, setOpen ] = React.useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n    \r\n\tconst agePlus = () => {\r\n        const newBalance = user.balance + user.salary\r\n        const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n    }\r\n\r\n    const quit = () => {\r\n        const fields = {\r\n\t\t\t...user,\r\n            prof: 'Малый бизнес',\r\n            workTime: 0,\r\n            salary: 0,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const ageInterval = setInterval(() => {\r\n            setAgeTime((ageTime) => (ageTime >= 99 ? 99 : ageTime +1 ))\r\n            if (ageTime == 99 ) {\r\n                agePlus()\r\n\t\t\t\tsetAgeTime(0)\r\n            }\r\n        },100)\r\n        return () => {\r\n            clearInterval(ageInterval)\r\n        }\r\n    },[ageTime])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n          secondaryAction={<Typography variant=\"h6\">{user.salary} K</Typography>}>\r\n            <ListItemAvatar onClick={()=>setOpen(true)}>\r\n            <Avatar>\r\n                <EngineeringIcon color=\"action\"/>\r\n            </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<React.Fragment>Профессия: {user.prof}<br/></React.Fragment>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={ageTime} color=\"inherit\"/>}\r\n            />\r\n        </ListItem>\r\n        <Dialog\r\n            open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            Работа\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Профессия: <b>{user.prof}</b><br/>\r\n                Расход времени: <b>8ч.</b><br/>\r\n                Расходы на дом: <b>{sumHouseExp} K</b><br/>\r\n                Расходы на транспорт: <b>{sumCarExp} K</b><br/>\r\n                Общие расходы: <b>{user.expenses} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={()=>{ \r\n                quit()\r\n                setOpen(false)\r\n                }}>\r\n                Уволиться\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n}\r\n\r\nexport default Work","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\n\r\nimport { Avatar, Typography, LinearProgress, ListItem, ListItemAvatar, ListItemText, Divider, Stack, IconButton } from '@mui/material'\r\n\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport PaymentsIcon from '@mui/icons-material/Payments';\r\n\r\nfunction Rent() {\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const [isCounting, setIsCounting] = React.useState(true)\r\n    const value = timeLeft\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n\r\n    const result = () => {\r\n        setIsCounting(true)\r\n\t\tconst newBalance = user.balance + sumRent\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n        setTimeLeft(0)\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            \r\n            isCounting && setTimeLeft((timeLeft) => (timeLeft >= 100 ? 100 : timeLeft +1 ))\r\n\t\t\t\r\n            if (timeLeft == 100) {\r\n\t\t\t\tsetIsCounting(false)\r\n\t\t\t}\r\n        },100)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    },[timeLeft])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n          secondaryAction={<Stack alignItems=\"flex-end\">\r\n            <Typography variant=\"h6\">{sumRent} K</Typography>\r\n            <IconButton \r\n                        onClick={()=>result()} \r\n                        color=\"primary\" \r\n                        disabled={isCounting} \r\n                        variant=\"contained\" \r\n                        size=\"small\"\r\n                    ><PaymentsIcon/>\r\n                    </IconButton>\r\n            </Stack>}>\r\n            <ListItemAvatar>\r\n            <Avatar>\r\n                <BusinessIcon color=\"action\"/>\r\n            </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<Typography variant=\"body2\">Недвижимость в аренде</Typography>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={value} color=\"inherit\"/>}\r\n            />\r\n        </ListItem>\r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/></>\r\n    )\r\n    }\r\n\r\nexport default Rent","import { IconButton, Toolbar, List, Container, Stack, Typography, ListItem, ListItemAvatar, Avatar, ListItemText, LinearProgress, Modal, Box, Button, Paper } from '@mui/material'\r\nimport { grey } from '@mui/material/colors';\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useRouter } from '@happysanta/router'\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\nimport { PAGE_PAUSE, PAGE_REGISTER, PAGE_MAIN } from '../routers';\r\n\r\nimport { Header } from '../components/Header.jsx';\r\nimport BottomNav from '../components/BottomNav';\r\nimport Biz from '../components/Biz.jsx';\r\nimport Work from '../components/Work.jsx';\r\nimport Rent from '../components/Rent.jsx';\r\nimport SavingsIcon from '@mui/icons-material/Savings';\r\nimport PaymentsIcon from '@mui/icons-material/Payments';\r\nimport BusinessCenterIcon from '@mui/icons-material/BusinessCenter';\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn';\r\nimport { Panel } from '@vkontakte/vkui';\r\n\r\nfunction Main({fetchedUser}) {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    \r\n    const user = useSelector((state) => state.user.user)\r\n    const bizs = useSelector((state) => state.bizs.bizs)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n\r\n    const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    const sumHouses = myHouses.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    const sumCars = myCars.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n    const sumRentExp = myRents.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    const sumRents = myRents.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n    const sumCreditsDebt = user.credits.map(item => item.debt).reduce((prev, curr) => prev + curr, 0)\r\n    const sumCreditsPayments = user.credits.map(item => item.payment).reduce((prev, curr) => prev + curr, 0)\r\n\r\n    const totalExp = (user.children * 5) + user.expenses + sumCarExp + sumHouseExp + sumRentExp\r\n\r\n    const [ageTime, setAgeTime] = React.useState(0)\r\n    const [isCounting, setIsCounting] = React.useState(true)\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const [remind, setRemind] = React.useState(false)\r\n    const [bankrot, setBankrot] = React.useState(false)\r\n    const [ageLimit, setAgeLimit] = React.useState(false)\r\n    const [winning, setWinning] = React.useState(false)\r\n\r\n    const bankrotListener = () => {\r\n        if(user.balance < (user.debts+sumCreditsDebt) && user.credits.length >= 5 && myHouses.length <= 1 \r\n        && myBizs.length <= 0 && myCars.length <= 0 && myRents.length <= 0){\r\n            setBankrot(true)\r\n        }\r\n    }\r\n\r\n    const ageLimitListener = () => {\r\n        if (user.age >= 720) {\r\n            //Math.trunc(user.age/12),user.prof,Math.round(((user.deposit.amount * 0.13)/12) + sumRent)\r\n            if (user.record.cashflow < Math.round(((user.deposit.amount * 0.13) / 12) + sumRent)) {\r\n                if(sumCreditsPayments==0){const newRecord = {\r\n                    prof: user.prof,\r\n                    age: Math.trunc(user.age / 12),\r\n                    cashflow: Math.round(((user.deposit.amount * 0.13) / 12) + sumRent),\r\n                    bizCount: myBizs.length,\r\n                    deposit: user.deposit.amount,\r\n                    rentCount: myRents.length,\r\n                    houseSumm: sumHouses + sumRents,\r\n                    carSum: sumCars,\r\n                }\r\n                const fields = {\r\n                    ...user,\r\n                    record: newRecord,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)}\r\n            }\r\n            setAgeLimit(true)\r\n        }\r\n    }\r\n\r\n    const winningListener = () => {\r\n        if((((user.deposit.amount * 0.13)/12) + sumRent) > (totalExp + sumCreditsPayments) * 2) {\r\n            setWinning(true)\r\n        }\r\n    }\r\n\r\n    const victory = ( age, prof, summ ) => {\r\n        if(age < user.record.age){\r\n            const newRecord = {\r\n                prof: prof,\r\n                age: age,\r\n                cashflow: summ,\r\n                bizCount: myBizs.length,\r\n                deposit: user.deposit.amount,\r\n                rentCount: myRents.length,\r\n                houseSumm: sumHouses + sumRents,\r\n                carSum: sumCars,\r\n            }\r\n            const fields = {\r\n                ...user,\r\n                record: newRecord,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n            router.pushPage(PAGE_REGISTER)\r\n        } else {\r\n            router.pushPage(PAGE_REGISTER)\r\n        }\r\n        \r\n    }\r\n\r\n    const accruePayments = () => {\r\n\r\n        const getNewCreditData = credits => {\r\n            let content = [];\r\n            for (let i = 0; i < credits.length; i++) {\r\n                const credit = credits[i];\r\n                if(credit.debt >= credit.amount){\r\n                    content.push({\r\n                        id: credit.id,\r\n                        amount: credit.amount,\r\n                        debt: credit.debt,\r\n                        payment: credit.payment,\r\n                    });\r\n                } else \r\n                {content.push({\r\n                    id: credit.id,\r\n                    amount: credit.amount,\r\n                    debt: credit.debt + credit.payment,\r\n                    payment: credit.payment,\r\n                });}\r\n            }\r\n            return content.sort((x, y) => x.id - y.id);\r\n        };\r\n        const newAge = user.age + 1\r\n        const newDebts = user.debts + totalExp\r\n        const fields = {\r\n            ...user,\r\n            credits: getNewCreditData(user.credits),\r\n            debts: newDebts,\r\n            age: newAge,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n    }\r\n\r\n    const takeDividends = () => {\r\n        const newBalance = user.balance + Math.round(user.deposit.amount * 0.13)\r\n        const newDeposit = {\r\n            ...user.deposit,\r\n            date: +new Date + 120000,\r\n        }\r\n        const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n        }\r\n        \r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n        \r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    React.useEffect(()=>{if(user.onGame == false) router.pushPage(PAGE_PAUSE)},[user])\r\n\r\n    React.useEffect(() => {\r\n        const ageInterval = setInterval(() => {\r\n            bankrotListener()\r\n            ageLimitListener()\r\n\r\n            user.onGame && setAgeTime((ageTime) => (ageTime >= 1198 ? 1198 : ageTime +1 ))\r\n            if (ageTime == 1198 ) {\r\n                if(user.debts >= 0){\r\n                    setRemind(true)\r\n                }\r\n                setAgeTime(0)\r\n            }\r\n            if (ageTime == 101 || ageTime == 201 || ageTime == 301 || ageTime == 401 ||  \r\n                ageTime == 501 ||  ageTime == 601 ||  ageTime == 701 ||  ageTime == 801 ||  \r\n                ageTime == 901 ||  ageTime == 1001 ||  ageTime == 1101 ||  ageTime == 1197) {\r\n                    accruePayments()\r\n                }\r\n            const date = +new Date\r\n            \r\n            \r\n            if(user.deposit.date <= date){\r\n                \r\n                setIsCounting(false)\r\n                setTimeLeft(100)\r\n            }\r\n            isCounting && setTimeLeft(Math.round(100-(((user.deposit.date - date)/10)/120)))\r\n            if(user.deposit.date > date) {\r\n                setIsCounting(true)\r\n            }\r\n        },100)\r\n\r\n        return () => {\r\n            clearInterval(ageInterval)\r\n        }\r\n    },[ageTime])\r\n\r\n    const style = {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 250,\r\n        bgcolor: 'white',\r\n        borderRadius: '10px',\r\n        boxShadow: 24,\r\n        p: 4,\r\n    };\r\n\r\n    const BizPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <BusinessCenterIcon color=\"disabled\" sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет бизнеса</Typography>\r\n            <Typography variant=\"caption\">Купить бизнес можно во вкладке \"Сделки\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    const InvestPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <SavingsIcon color=\"disabled\" sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет вклада</Typography>\r\n            <Typography variant=\"caption\">Открыть вклад можно во вкладке \"Банк\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    const RentPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <BusinessIcon color=\"disabled\" sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет недвижимости в аренде</Typography>\r\n            <Typography variant=\"caption\">Сдать недвижимость в аренду можно во вкладке \"Профиль\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    const Info = (\r\n        <><MonetizationOnIcon/>\r\n        <Typography>\r\n            На <b>ГЛАВНОЙ</b> вкладке показаны доходы<br/><br/>\r\n            Каждый месяц (<b>10 секунд</b>) начисляется зарплата, нажав на иконку можно уволиться.<br/><br/>\r\n            После того как индикатор <b>бизнеса</b> заполнится, нужно зафиксировать прибыль. Продать бизнес можно нажав на его иконку.<br/><br/>\r\n            Доходы от <b>вклада</b> и <b>аренды недвижимости</b> так же нужно забирать нажатием на соответствующую иконку.<br/><br/>\r\n            <b>Игровое время</b> идет только на этой вкладке<br/><br/>\r\n            Игра <b>сохраняется</b> автоматически<br/><br/>\r\n        </Typography></>\r\n    )\r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Container>\r\n            <Header fetchedUser={fetchedUser} info={Info}/>\r\n            {user.onGame ? \r\n            <>\r\n            {user.salary != 0 && <>\r\n            <Stack direction=\"row\"><Typography sx={{ marginTop: '10px'}} variant=\"subtitle1\">Работа</Typography></Stack>\r\n            <Work/></>}\r\n            <List dense>\r\n            {myBizs.length >= 1 ? <Typography variant=\"subtitle1\">Бизнес</Typography>:<BizPlaceHolder/>}\r\n            {myBizs.map((biz, index) => (<Biz\r\n            key={index}\r\n            biz={biz}/>\r\n            ))}\r\n            \r\n            </List>\r\n            <List dense>\r\n            {user.deposit.amount != 0 ? \r\n                <><Typography variant=\"subtitle1\">Вклад</Typography>\r\n                <ListItem disablePadding\r\n                secondaryAction={<Stack alignItems=\"flex-end\">\r\n                    <Typography variant=\"h6\">{Math.round(user.deposit.amount * 0.13)} K</Typography>\r\n                    <IconButton \r\n                        onClick={()=>takeDividends()} \r\n                        color=\"primary\" \r\n                        disabled={isCounting} \r\n                        variant=\"contained\" \r\n                        size=\"small\"\r\n                    ><PaymentsIcon/>\r\n                    </IconButton></Stack>}>\r\n                    <ListItemAvatar>\r\n                    <Avatar>\r\n                        <SavingsIcon/>\r\n                    </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                        primary={<React.Fragment>Вклад: {user.deposit.amount}К<br/></React.Fragment>}\r\n                        secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={timeLeft} color=\"inherit\"/>}\r\n                    />\r\n                </ListItem></> : <InvestPlaceHolder/>}\r\n            </List>\r\n            <List dense> \r\n                {myRents.length >= 1 ? <><Typography variant=\"subtitle1\">Аренда</Typography></> : <RentPlaceHolder/>}\r\n                {myRents.length >= 1 && <Rent/>}\r\n            </List>\r\n            <Toolbar/></> : \r\n            <Stack\r\n                \r\n                direction=\"row\"\r\n                justifyContent=\"flex-start\"\r\n                alignItems=\"center\"\r\n                spacing={2}\r\n            >\r\n                <Typography variant=\"subtitle1\">Не в игре</Typography>\r\n            </Stack>}\r\n            <Modal\r\n            open={remind}\r\n            onClose={()=>setRemind(false)}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Задолженность {user.debts} K\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Необходимо погасить во вкладке \"Банк\"</Typography>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={winning}\r\n            onClose={()=>setWinning(false)}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Поздравляем!  🥳\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Вы достигли финансовой свободы в возрасте <b>{Math.trunc(user.age/12)}</b>, с начальной профессией <b>{user.prof}</b>, \r\n                с суммой пассивного дохода <b>{Math.round(((user.deposit.amount * 0.13)/12) + sumRent)}</b></Typography><br/><br/>\r\n                <Button onClick={()=>victory(Math.trunc(user.age/12),user.prof,Math.round(((user.deposit.amount * 0.13)/12) + sumRent))}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={bankrot}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Игра закончена\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Вы банкрот 😥</Typography><br/><br/>\r\n                <Button onClick={()=>router.pushPage(PAGE_REGISTER)}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={ageLimit}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Игра закончена\r\n                </Typography><br/>\r\n                <Typography variant='caption'>\r\n                    Вы достигли предельного возраста.<br/>\r\n\r\n                    Вы достигли финансовой свободы в возрасте <b>{Math.trunc(user.age/12)}</b>, с начальной профессией <b>{user.prof}</b>, \r\n                    с суммой пассивного дохода <b>{Math.round(((user.deposit.amount * 0.13)/12) + sumRent)}</b>\r\n                </Typography>\r\n                {user.record.cashflow > Math.round(((user.deposit.amount * 0.13)/12) + sumRent) ? \r\n                <Typography variant='caption'>\r\n                    К сожалению на этот раз рекорд в {user.record.cashflow}К не побит.<br/> \r\n                </Typography>:\r\n                <Typography variant='caption'>\r\n                    Новый рекорд! Пассивный доход - <b>{Math.round(((user.deposit.amount * 0.13)/12) + sumRent)} К</b>\r\n                </Typography>}<br/><br/>\r\n                <Button onClick={()=>router.pushPage(PAGE_REGISTER)}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <BottomNav value={PAGE_MAIN}/>\r\n            </Container>\r\n        </Paper>\r\n    \r\n    )\r\n}\r\n\r\nexport default Main","import { ListItem, Typography, ListItemAvatar, ListItemText, Dialog, DialogTitle, \r\n    DialogContent, DialogContentText, DialogActions, Button, Divider, Skeleton, Stack } from '@mui/material'\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\nimport HomeRepairServiceIcon from '@mui/icons-material/HomeRepairService';\r\nimport EngineeringIcon from '@mui/icons-material/Engineering';\r\n\r\nfunction BizLot({biz}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const myBiz = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    const bizTime = myBiz.map(item => item.requiredTime).reduce((prev, curr) => prev + curr, 0)\r\n    \r\n    const [ open, setOpen ] = React.useState(false)\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n    \r\n    const Restaurant = () => {\r\n        return(\r\n            <RestaurantIcon color={\"warning\"}/>\r\n        )\r\n    }\r\n\r\n    const Market = () => {\r\n        return(\r\n            <StorefrontIcon color={\"success\"}/>\r\n        )\r\n    }\r\n\r\n    const Service = () => {\r\n        return(\r\n            <HomeRepairServiceIcon color={\"secondary\"}/>\r\n        )\r\n    }\r\n\r\n    const Production = () => {\r\n        return(\r\n            <EngineeringIcon />\r\n        )\r\n    }\r\n\r\n    const SkeletonIcon = () => {\r\n        return(\r\n            <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n        )\r\n    }\r\n\r\n    const [ bizIcon, setBizIcon ] = React.useState(SkeletonIcon)\r\n    \r\n\r\n    React.useEffect(()=>{\r\n\r\n        if(biz.bizType == \"Услуги\") {\r\n            setBizIcon(Service)\r\n        } else\r\n        if(biz.bizType == \"Общепит\") {\r\n            setBizIcon(Restaurant)\r\n        } else\r\n        if(biz.bizType == \"Торговля\") {\r\n            setBizIcon(Market)\r\n        } else\r\n        if(biz.bizType == \"Производство\") {\r\n            setBizIcon(Production)\r\n        }\r\n\r\n        if (biz.bizPrice <= user.balance && user.prof == 'Средний бизнес'||biz.bizPrice <= user.balance && user.prof == 'Крупный бизнес'|| biz.bizPrice <= user.balance && user.prof == 'Инвестор') {\r\n            setDisabled(false)\r\n        } else {\r\n            if (biz.bizPrice <= user.balance && biz.requiredTime <= (user.time - (bizTime + user.workTime))) {\r\n                setDisabled(false)\r\n            }\r\n\r\n            if (biz.bizPrice > user.balance || biz.requiredTime > (user.time - (bizTime + user.workTime))) {\r\n                setDisabled(true)\r\n            }\r\n        }\r\n\r\n    },[biz, user])\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)}\r\n\r\n    const buyBiz = ( id, price ) => {\r\n        if (price >= 20000 && price < 50000) {\r\n            const newBalance = user.balance - price\r\n            const myBizs = [...user.bizs, id]\r\n            const fields = {\r\n                ...user,\r\n                prof: 'Средний бизнес',\r\n                balance: newBalance,\r\n                bizs: myBizs,\r\n            }\r\n\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        } else if (price >= 50000) {\r\n            const newBalance = user.balance - price\r\n            const myBizs = [...user.bizs, id]\r\n            const fields = {\r\n                ...user,\r\n                prof: 'Крупный бизнес',\r\n                balance: newBalance,\r\n                bizs: myBizs,\r\n            }\r\n\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        } else {\r\n            const newBalance = user.balance - price\r\n            const myBizs = [...user.bizs, id]\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                bizs: myBizs,\r\n            }\r\n\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <ListItem \r\n            disablePadding\r\n            secondaryAction={<Stack justifyContent=\"flex-end\" direction=\"column\">\r\n                <Typography variant=\"body2\">Цена: {biz.bizPrice}K</Typography>\r\n                <Button disabled={disabled} onClick={()=>{\r\n                buyBiz(biz._id,biz.bizPrice);\r\n                }}>\r\n                Купить\r\n            </Button>\r\n            </Stack>}\r\n        >\r\n            <ListItemAvatar onClick={()=>setOpen(true)}>\r\n                {bizIcon}\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={biz.bizName}\r\n                secondary={<React.Fragment>\r\n                    <Typography variant=\"caption\">Макс. прибыль: <b>{biz.maxProfit} K</b></Typography><br/>\r\n                    <Typography variant=\"caption\">Необходимое время: <b>{biz.requiredTime}ч.</b></Typography>\r\n                    </React.Fragment>}\r\n            />\r\n        </ListItem>\r\n        \r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/>\r\n        <Dialog open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            {biz.bizName}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Вид бизнеса: <b>{biz.bizType}</b><br/>\r\n                Необходимое время: <b>{biz.requiredTime}ч.</b><br/>\r\n                Максимальная прибыль: <b>{biz.maxProfit} K</b><br/>\r\n                Минимальная прибыль: <b>{biz.minProfit} K</b><br/>\r\n                Сумма продажи: <b>{biz.sellPrice} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button disabled={disabled} onClick={()=>{\r\n                buyBiz(biz._id,biz.bizPrice); \r\n                setOpen(false)\r\n                }}>\r\n                Купить\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n}\r\n\r\nexport default BizLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { List, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport BizLot from '../../components/BizLot';\r\nimport BusinessCenterIcon from '@mui/icons-material/BusinessCenter';\r\n\r\nfunction BizList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const c = new Set(user.bizs)\r\n\tconst avBizs = bizs.filter(({_id}) => !c.has(_id))\r\n    return (\r\n        <>\r\n        {avBizs.length >= 1 ? <List>\r\n            {avBizs.map((biz, index) => (<BizLot\r\n            key={index}\r\n            biz={biz}/>\r\n            ))}\r\n        </List> : \r\n        <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <BusinessCenterIcon color=\"disabled\" sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступного бизнеса</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BizList","import { Button, Card, CardMedia, CardContent, CardActions, Grid, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nfunction CarLot({car,isMy}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const carsTime = myCars.map(item => item.time).reduce((prev, curr) => prev + curr, 0)\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(user.balance >= car.price) setDisabled(false)\r\n        if(user.balance < car.price) setDisabled(true)\r\n    },[user])\r\n\r\n    const buyCar = () => {\r\n        const newBalance = user.balance - car.price\r\n\t\tconst myCars = [...user.car,car._id]\r\n        const myEnergy = user.maxEnergy + car.energy\r\n        const myTime = user.time + car.time\r\n        if(myTime > 14){\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                car: myCars,\r\n                maxEnergy: myEnergy,\r\n                time: 14,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        } else {\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                car: myCars,\r\n                maxEnergy: myEnergy,\r\n                time: myTime,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n    }\r\n\r\n    const sellCar = () => {\r\n\t\tconst newBalance = user.balance + car.sellPrice\r\n\t\tconst myCars1 = myCars.filter((car) => car._id !== isMy)\r\n        const myEnergy = user.maxEnergy - car.energy\r\n        if (carsTime == car.time) {\r\n            const myTime = user.time - car.time\r\n            if (myTime < 10) {\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: 10,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('1')\r\n            } else if(myTime > 14){\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: 14,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('2')\r\n            } else {\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: myTime,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('3')\r\n            }\r\n        } else {\r\n            const lastCarTime = carsTime - car.time\r\n            const myTime = 10 + lastCarTime\r\n            if (myTime < 10) {\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: 10,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('4')\r\n            }else if(myTime > 14){\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: 14,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('5')\r\n            } else {\r\n                const fields = {\r\n                    ...user,\r\n                    balance: newBalance,\r\n                    car: myCars1.map(item => item._id),\r\n                    maxEnergy: myEnergy,\r\n                    time: myTime,\r\n                }\r\n                dispatch(setUser(fields))\r\n                save(fields)\r\n                console.log('6')\r\n            }\r\n        }\r\n        \r\n\t}\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Grid item>\r\n        <Card variant=\"outlined\">\r\n        <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`https://financial-freedom-game.ru${car.imageUrl}`}\r\n        />\r\n        <CardContent>\r\n            {isMy ? <Typography gutterBottom variant=\"subtitle2\">{car.name}</Typography> : <Typography gutterBottom variant=\"h6\">\r\n            Цена: {car.price} K\r\n            </Typography>}\r\n            {isMy ? <Typography gutterBottom variant=\"body2\"> Цена: {car.price} K</Typography> : <Typography gutterBottom variant=\"subtitle2\">{car.name}</Typography>}\r\n            <Typography variant=\"caption\">\r\n                Время: <b>+{car.time}ч</b><br/>\r\n                Энергия: <b>+{car.energy}</b><br/>\r\n                Затраты в месяц: <b>{car.expenses} К</b><br/>\r\n                Цена продажи: <b>{car.sellPrice} К</b><br/>\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n            {isMy ? <Button size=\"small\" onClick={()=>sellCar()}>Продать</Button>:\r\n            <Button disabled={disabled} size=\"small\" onClick={()=>buyCar()}>Купить</Button>}\r\n        </CardActions>\r\n        </Card></Grid>\r\n  )\r\n}\r\n\r\nexport default CarLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport CarLot from '../../components/CarLot';\r\nimport CarCrashIcon from '@mui/icons-material/CarCrash';\r\n\r\nfunction CarList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst cars = useSelector((state) => state.cars.cars)\r\n    const c = new Set(user.car)\r\n\tconst avCars = cars.filter(({_id}) => !c.has(_id))\r\n\r\n    function byField(field) {\r\n        return (a, b) => a[field] > b[field] ? 1 : -1;\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {avCars.length >= 1 ? <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        >\r\n            {avCars.sort(byField('price')).map((car, index) => (\r\n            <CarLot key={index} car={car}/>\r\n            ))}\r\n        </Grid> : <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <CarCrashIcon color=\"disabled\" sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступного транспорта</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack> }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CarList","import { Button, Card, CardMedia, CardContent, CardActions, Grid, Typography, Stack } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nfunction HouseLot({house, isMy, isRent}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const rentHouses = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(isMy){\r\n            if(isRent){\r\n                setDisabled(false)\r\n            } else {\r\n                if(myHouses.length > 1) setDisabled(false)\r\n                if(myHouses.length <= 1) setDisabled(true)\r\n            }\r\n        } else {\r\n            if(user.balance >= house.price) setDisabled(false)\r\n            if(user.balance < house.price) setDisabled(true)\r\n        }\r\n    },[isMy, isRent, myHouses, user])\r\n\r\n    const buyHouse = () => {\r\n        const newBalance = user.balance - house.price\r\n        const myHouse = [...user.house, house._id]\r\n        const myEnergy = user.maxEnergy + house.energy\r\n        const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            house: myHouse,\r\n            maxEnergy: myEnergy,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n    }\r\n\r\n    const sellHouse = () => {\r\n\t\tconst newBalance = user.balance + house.price\r\n        if(!isRent){\r\n            const myHouse = myHouses.filter((house) => house._id !== isMy)\r\n            const myEnergy = user.maxEnergy - house.energy\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                house: myHouse.map(item => item._id),\r\n                maxEnergy: myEnergy,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        } else {\r\n            const myHouse = rentHouses.filter((house) => house._id !== isMy)\r\n            const myEnergy = user.maxEnergy - house.energy\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                rent: myHouse.map(item => item._id),\r\n                maxEnergy: myEnergy,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n\t}\r\n\r\n    const rentHouse = () => {\r\n\t\tconst myHouse = myHouses.filter((house) => house._id !== isMy)\r\n        const myEnergy = user.maxEnergy - house.energy\r\n        const rentHouse = [...user.rent,house._id]\r\n        const myRents = houses.filter(({_id}) => rentHouse.includes(_id))\r\n        const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n        if(sumRent > 1000){\r\n            const fields = {\r\n                ...user,\r\n                prof: 'Инвестор',\r\n                house: myHouse.map(item => item._id),\r\n                maxEnergy: myEnergy,\r\n                rent: rentHouse,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        } else {\r\n            const fields = {\r\n                ...user,\r\n                house: myHouse.map(item => item._id),\r\n                maxEnergy: myEnergy,\r\n                rent: rentHouse,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n\t}\r\n    \r\n    const derentHouse = () => {\r\n        const myHouses = [...user.house, house._id]\r\n        const myEnergy = user.maxEnergy + house.energy\r\n        const rentHouse = rentHouses.filter((h) => h._id !== house._id)\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\thouse: myHouses,\r\n            maxEnergy: myEnergy,\r\n            rent: rentHouse.map(item => item._id),\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Grid item>\r\n        <Card variant=\"outlined\">\r\n        <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`https://financial-freedom-game.ru${house.imageUrl}`}\r\n        />\r\n        <CardContent>\r\n            {isMy ? <Stack direction=\"row\"><Typography gutterBottom variant=\"subtitle2\">{house.name}</Typography>\r\n            {isRent && <Typography variant=\"subtitle2\" sx={{marginLeft:'auto'}}>в аренде</Typography>}</Stack> : <Typography gutterBottom variant=\"h6\">\r\n            Цена: {house.price} K\r\n            </Typography>}\r\n            {isMy ? <Typography gutterBottom variant=\"body2\">Цена: {house.price} K</Typography> : <Typography gutterBottom variant=\"subtitle2\">{house.name}</Typography>}\r\n            <Typography variant=\"caption\">\r\n                Энергия: <b>+{house.energy}</b><br/>\r\n                Затраты в месяц: <b>{house.expenses} К</b><br/>\r\n                Сдача в аренду: <b>{house.rentPrice} К/мес</b>\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        {isMy ? <><Button disabled={disabled} size=\"small\" onClick={()=>sellHouse()}>Продать</Button>\r\n        {isRent ? <Button disabled={disabled} size=\"small\" onClick={()=>derentHouse()}>Убрать с аренды</Button> : \r\n        <Button disabled={disabled} size=\"small\" onClick={()=>rentHouse()}>Сдать в аренду</Button>}</>:\r\n            <Button disabled={disabled} size=\"small\" onClick={()=>buyHouse()}>Купить</Button>}\r\n        </CardActions>\r\n        </Card></Grid>\r\n  )\r\n}\r\n\r\nexport default HouseLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport HouseLot from '../../components/HouseLot';\r\nimport MapsHomeWorkIcon from '@mui/icons-material/MapsHomeWork';\r\n\r\nfunction HouseList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst houses = useSelector((state) => state.houses.houses)\r\n    const c = new Set(user.house)\r\n\tconst avHouses = houses.filter(({_id}) => !c.has(_id))\r\n    const c2 = new Set(user.rent)\r\n\tconst avHouses2 = avHouses.filter(({_id}) => !c2.has(_id))\r\n\r\n    function byField(field) {\r\n        return (a, b) => a[field] > b[field] ? 1 : -1;\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {avHouses2.length >= 1 ? <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        >\r\n            {avHouses2.sort(byField('price')).map((house, index) => (<HouseLot\r\n            key={index}\r\n            house={house}/>\r\n            ))}\r\n        </Grid> : <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <MapsHomeWorkIcon color=\"disabled\" sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступной недвижимости</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack>}</>\r\n    )\r\n}\r\n\r\nexport default HouseList","import { Toolbar, Paper, Tab, Tabs, Container, Typography } from '@mui/material'\r\nimport React from 'react'\r\n\r\nimport HandshakeIcon from '@mui/icons-material/Handshake';\r\n\r\nimport BizList from './shop/BizList';\r\nimport CarList from './shop/CarList';\r\nimport HouseList from './shop/HouseList';\r\n\r\nimport { Header } from '../components/Header';\r\nimport BottomNav from '../components/BottomNav';\r\nimport { PAGE_PROPERTY } from '../routers';\r\nimport { Panel } from '@vkontakte/vkui';\r\n\r\nfunction Property({fetchedUser}) {\r\n    const [ value, setValue ] = React.useState(\"one\")\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    }\r\n\r\n    const Info = (\r\n    <>\r\n        <HandshakeIcon />\r\n        <Typography>\r\n            На вкладке <b>СДЕЛКИ</b> можно купить бизнес, транспорт, недвижимость.<br/><br/>\r\n            В начале для покупки бизнеса, помимо денег, <b>необходимо</b> наличие свободного времени.<br/>\r\n            При <b>покупке</b> бизнеса ценой более 20 000 К и 50 000 К <b>деятельность</b> игрока меняется на <b>'Средний бизнес'</b> и <b>'Крупный бизнес'</b> соответственно.<br/><br/>\r\n            Если у игрока деятельность <b>'Средний бизнес', 'Крупный бизнес' и 'Инвестор'</b> для покупки бизнеса наличие свободного времени не требуется.<br/><br/>\r\n            Недвижимость <b>увеличивает</b> максимальное количество энергии.<br/><br/>\r\n            Транспорт <b>увеличивает</b> время и максимальную энергию.\r\n        </Typography>\r\n    </>\r\n    )\r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Container>\r\n            <Header fetchedUser={fetchedUser} info={Info}/>\r\n            <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            textColor=\"secondary\"\r\n            indicatorColor=\"secondary\"\r\n            >\r\n                <Tab value=\"one\" label=\"Бизнес\" />\r\n                <Tab value=\"two\" label=\"Транспорт\" />\r\n                <Tab value=\"three\" label=\"Недвижимость\" />\r\n            </Tabs>\r\n            \r\n            {value === 'one'&&<BizList/>}\r\n            {value === 'two'&&<CarList/>}\r\n            {value === 'three'&&<HouseList/>}\r\n            <Toolbar/>\r\n            <BottomNav value={PAGE_PROPERTY}/>\r\n            </Container>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Property","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nimport { IconButton, Toolbar, Typography, Stack, List, ListItem, ListItemText, ListItemButton, Container, Button, Modal, Box } from '@mui/material';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\n\r\nfunction Report() {\r\n  const user = useSelector((state) => state.user.user)\r\n  const cars = useSelector((state) => state.cars.cars)\r\n  const houses = useSelector((state) => state.houses.houses)\r\n  const bizs = useSelector((state) => state.bizs.bizs)\r\n  \r\n  const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n  const sumHouses = myHouses.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n  const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n  const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n  const sumRentExp = myRents.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  \r\n  const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n  const sumCars = myCars.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  \r\n  const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n  const sumBizProfit = myBizs.map(item => item.maxProfit).reduce((prev, curr) => prev + curr, 0)\r\n\t\r\n  const sumCredits = user.credits.map(item => item.amount).reduce((prev, curr) => prev + curr, 0)\r\n  const sumCreditsPayments = user.credits.map(item => item.payment).reduce((prev, curr) => prev + curr, 0)\r\n\t\r\n\r\n  const [disabled, setDisabled] = React.useState(true);\r\n  const [open, setOpen] = React.useState(false);\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  React.useEffect(() => {\r\n    if(user.debts > 0) setDisabled(false)\r\n  },[user])\r\n\r\n  const payOff = () => {\r\n\t\tif(user.balance < user.debts){\r\n      setOpen(true)\r\n    } else\r\n    {\r\n      const newBalance = user.balance - user.debts\r\n      const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n      debts: 0,\r\n\t\t}\r\n    dispatch(setUser(fields))\r\n\t\tsave(fields)}\r\n  };\r\n\r\n  const payCreditDebt = (_id, amount, summ, payment) => {\r\n    if(summ > user.balance){\r\n        setOpen(true)\r\n    }else{\r\n        const newBalance = user.balance - summ\r\n        \r\n        const myCredits = user.credits.filter(({id}) => id != _id)\r\n        \r\n        const newCredit = {\r\n          id: _id,\r\n          amount: amount - summ,\r\n          debt: 0,\r\n          payment: payment,\r\n        }\r\n        \r\n        if(newCredit.amount > 0){\r\n          const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            credits: [...myCredits, newCredit].sort((x, y) => x.id - y.id),\r\n          }\r\n          dispatch(setUser(fields))\r\n          save(fields)\r\n        } else {\r\n          const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            credits: myCredits.sort((x, y) => x.id - y.id),\r\n          }\r\n          dispatch(setUser(fields))\r\n          save(fields)\r\n        }\r\n    }\r\n}\r\n\r\n  const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n  }\r\n\r\n  const style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 250,\r\n    bgcolor: 'white',\r\n    borderRadius: '10px',\r\n    boxShadow: 24,\r\n    p: 4,\r\n  };\r\n\r\n  return (\r\n    <Container disableGutters>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Деятельность:</Typography>\r\n        <Typography sx={{marginLeft:'auto'}} variant=\"subtitle1\">{user.prof}&nbsp;&nbsp;&nbsp;&nbsp;</Typography>\r\n      </Stack>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Долги</Typography>\r\n      </Stack>\r\n      <List>\r\n        {user.credits.map((credit,index)=>(\r\n                    <ListItem \r\n                    sx={{ marginTop: '10px'}}\r\n                    key={index}\r\n                    disablePadding\r\n                    secondaryAction={<Stack alignItems=\"flex-end\">\r\n                        <Typography variant=\"body1\">Долг: {credit.debt} K</Typography>\r\n                        <Button disabled={!credit.debt > 0} onClick={()=>payCreditDebt(credit.id, credit.amount, credit.debt, credit.payment)} size=\"small\">Оплатить</Button>\r\n                        </Stack>}>\r\n                      <ListItemText primary={`Кредит от ${new Date(credit.id).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: '2-digit',\r\n                        day: '2-digit',\r\n                        })}`} \r\n                        secondary={<Typography variant=\"caption\">Ежемесячный платеж {credit.payment} K</Typography>} />\r\n                    </ListItem>\r\n                ))}\r\n        <ListItem\r\n          disablePadding\r\n          secondaryAction={<Stack alignItems=\"flex-end\">\r\n              <Typography variant=\"body1\">{user.debts} K</Typography>\r\n              <Button disabled={!user.debts > 0} onClick={()=>payOff()} size=\"small\">Погасить</Button>\r\n              </Stack>}>\r\n          <ListItemText primary={'Задолженность на сегодня'} \r\n              secondary={'Погашать необходимо ежегодно'} />\r\n        </ListItem>\r\n      </List>\r\n      \r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Доходы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>~ {Math.round((user.deposit.amount * 0.13)/12)} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Дивиденды</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>{sumRent} К/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Доход от аренды</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>{user.salary} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Зарплата</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>~ {sumBizProfit} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Доход от бизнеса</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"subtitle1\" sx={{ color: 'green' }}>~ {(Math.round((user.deposit.amount * 0.13)/12)) + sumRent + user.salary + sumBizProfit} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography sx={{ color: 'green' }} variant=\"subtitle1\">Итого</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Расходы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumCreditsPayments} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Платежи по кредитам</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumHouseExp + sumRentExp} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на недвижимость</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumCarExp} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на транспорт</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{user.expenses} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Общие расходы</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{user.children * 5} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на детей</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"subtitle1\" sx={{ color: 'red' }}>{(user.children * 5) + user.expenses + sumCarExp + sumHouseExp + sumRentExp + sumCreditsPayments} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography sx={{ color: 'red' }} variant=\"subtitle1\">Итого</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Активы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{user.deposit.amount} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Вклады</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumHouses} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Стоимость недвижимости</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumCars} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Стоимость транспорта</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Пассивы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumCredits} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Кредиты на сумму</Typography>}/>\r\n        </ListItem>\r\n      </List>\r\n      <Modal\r\n      open={open}\r\n      onClose={()=>setOpen(false)}\r\n      >\r\n        <Box sx={style}>\r\n          <Typography>\r\n            Недостаточно средств 😥\r\n          </Typography>\r\n        </Box>\r\n      </Modal>\r\n      <Toolbar/>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Report","import { Box, Button, FormControl, Select, MenuItem, InputLabel, Grid, List, ListItem, ListItemText, Typography, Stack, Modal } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nfunction Credit() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user.user)\r\n    const [amount, setAmount] = React.useState('');\r\n    const [term, setTerm] = React.useState('');\r\n    const [payment, setPayment] = React.useState(0);\r\n    const [creditAmount, setCreditAmount] = React.useState('');\r\n    const [canCal, setCanCal] = React.useState(false);\r\n    const [calculated, setCalculated] = React.useState(false);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [creditLimit, setCreditLimit] = React.useState(false);\r\n    \r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const handleChange = (event) => {\r\n        setAmount(event.target.value);\r\n    };\r\n    \r\n    const handleChangeTerm = (event) => {\r\n        setTerm(event.target.value);\r\n    };\r\n\r\n    const calculate = () => {\r\n        setPayment(Math.round((((amount*0.18)*(term/12))+amount)/term))\r\n        setCreditAmount((Math.round((((amount*0.18)*(term/12))+amount)/term))*term)\r\n        setCalculated(true)\r\n    }\r\n\r\n    const takeCredit = () => {\r\n        if(user.credits.length >= 5){\r\n            setCreditLimit(true)\r\n        } else\r\n        {const date = +new Date\r\n        const terms = {\r\n            id: date,\r\n            amount: creditAmount,\r\n            debt: 0,\r\n            payment: payment,\r\n        }\r\n        const myCredits = [...user.credits, terms]  //погашение кредита, убрать из массива по айди\r\n        const newBalance = user.balance + amount\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            credits: myCredits.sort((x, y) => x.id - y.id),\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)}\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    const payOff = (_id, summ) => {\r\n        if(summ > user.balance){\r\n            setOpen(true)\r\n        }else{\r\n            const newBalance = user.balance - summ\r\n\t        const myCredits = user.credits.filter(({id}) => id != _id)\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                credits: myCredits.sort((x, y) => x.id - y.id),\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        if(amount != '' && term != ''){\r\n            setCanCal(true)\r\n        }\r\n        \r\n    },[term,amount])\r\n\r\n    const style = {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 250,\r\n        bgcolor: 'white',\r\n        borderRadius: '10px',\r\n        boxShadow: 24,\r\n        p: 4,\r\n      };\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }} >\r\n            <Typography variant=\"subtitle1\">Оформить кредит</Typography>\r\n            <Grid container spacing={1}>\r\n                <Grid item xs={6}>\r\n                    <FormControl fullWidth sx={{ marginTop: '10px'}} error>\r\n                        <InputLabel id=\"credit-amount-label\">Сумма</InputLabel>\r\n                        <Select\r\n                        labelId=\"credit-amount-label\"\r\n                        id=\"credit-amount-select\"\r\n                        value={amount}\r\n                        label=\"Amount\"\r\n                        onChange={handleChange}\r\n                        >\r\n                        <MenuItem value={100}>100 К</MenuItem>\r\n                        <MenuItem value={200}>200 К</MenuItem>\r\n                        <MenuItem value={500}>500 К</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <FormControl fullWidth sx={{ marginTop: '10px'}}>\r\n                        <InputLabel id=\"credit-term-label\">Срок</InputLabel>\r\n                        <Select\r\n                        labelId=\"credit-term-label\"\r\n                        id=\"credit-term-select\"\r\n                        value={term}\r\n                        label=\"Term\"\r\n                        onChange={handleChangeTerm}\r\n                        >\r\n                        <MenuItem value={12}>12 мес</MenuItem>\r\n                        <MenuItem value={24}>24 мес</MenuItem>\r\n                        <MenuItem value={60}>60 мес</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n            </Grid>\r\n            <Typography variant=\"caption\">Расчитать и оформить кредит под ~18% годовых</Typography>\r\n            <Stack direction={'column'}>\r\n            <Button sx={{ marginTop: '15px'}} disabled={!canCal} size=\"small\" variant=\"contained\" onClick={()=>calculate()}>Рассчитать</Button></Stack>\r\n            {calculated && <List>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{payment} K</Typography>}>\r\n                <ListItemText primary=\"Ежемесячный платеж\" />\r\n                </ListItem>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{creditAmount} K</Typography>}>\r\n                <ListItemText primary=\"Общая выплата\" />\r\n                </ListItem>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{amount} K</Typography>}>\r\n                <ListItemText primary=\"Сумма кредита\" />\r\n                </ListItem>\r\n                <Stack direction={'column'}>\r\n                <Button onClick={()=>takeCredit()} sx={{ marginTop: '10px'}} disabled={!canCal} size=\"small\" variant=\"contained\">Оформить</Button></Stack>\r\n            </List>}\r\n            <List>\r\n                {user.credits.length >= 1 && <Typography variant=\"overline\">Оформленные</Typography>}\r\n                {user.credits.map((credit,index)=>(\r\n                    <ListItem \r\n                    sx={{ marginTop: '10px'}}\r\n                    key={index}\r\n                    disablePadding\r\n                    secondaryAction={<Stack alignItems=\"flex-end\">\r\n                        <Typography variant=\"body1\">Сумма {credit.amount} K</Typography>\r\n                        <Button onClick={()=>payOff(credit.id,credit.amount)} size=\"small\">Погасить</Button>\r\n                        </Stack>}>\r\n                    <ListItemText primary={`Кредит от ${new Date(credit.id).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: '2-digit',\r\n                        day: '2-digit',\r\n                        })}`} \r\n                        secondary={<Typography variant=\"caption\">Ежемесячный платеж {credit.payment} K</Typography>} />\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography>\r\n                        Недостаточно средств 😥\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n                open={creditLimit}\r\n                onClose={()=>setCreditLimit(false)}\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography>\r\n                        Максимальное количество кредитов 😥\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Credit","import { Box, TextField, Typography, Stack, Button, Input, ListItem, ListItemText, List } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nfunction Deposit() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user.user)\r\n    const [amount, setAmount] = React.useState(0)\r\n    const [withdrawAmount, setWithdrawAmount] = React.useState(0)\r\n    const [disabled, setDisabled] = React.useState(true)\r\n    const [disabledWithdraw, setDisabledWithdraw] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(amount>user.balance) setDisabled(true)\r\n        if(amount<=user.balance) setDisabled(false)\r\n        if(amount<=0) setDisabled(true)\r\n    },[ amount, user ])\r\n\r\n    React.useEffect(()=>{\r\n        if(withdrawAmount>user.deposit.amount) setDisabledWithdraw(true)\r\n        if(withdrawAmount<=user.deposit.amount) setDisabledWithdraw(false)\r\n        if(withdrawAmount<=0) setDisabledWithdraw(true)\r\n    },[ withdrawAmount, user ])\r\n\r\n    const handleInvestChange = (event) => {\r\n        setAmount(event.target.value)\r\n    }\r\n\r\n    const handleWithdrawChange = (event) => {\r\n        setWithdrawAmount(event.target.value)\r\n    }\r\n    \r\n    const invest = () => {\r\n        const newDeposit = {\r\n            amount: user.deposit.amount + Number(amount),\r\n            date: +new Date + 120000,\r\n        }\r\n\r\n        const newBalance = user.balance - Number(amount)\r\n\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const withdraw = () => {\r\n        const newDeposit = {\r\n            amount: user.deposit.amount - Number(withdrawAmount),\r\n            date: +new Date + 120000,\r\n        }\r\n\r\n        const newBalance = user.balance + Number(withdrawAmount)\r\n\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }} >\r\n            <Stack direction={'column'} spacing={1}>\r\n                <List>\r\n                <ListItem \r\n                    disablePadding\r\n                    secondaryAction={\r\n                    <Typography variant=\"body1\">{user.deposit.amount} K</Typography>}>\r\n                    <ListItemText primary=\"Вклад\" />\r\n                </ListItem></List>\r\n                <Typography variant=\"subtitle1\">Вложить</Typography>\r\n                <TextField\r\n                    id=\"outlined-number\"\r\n                    label=\"Сумма\"\r\n                    type=\"number\"\r\n                    onChange={handleInvestChange}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                />\r\n                <Typography variant=\"caption\">Дивидендная доходность ~13% в год</Typography>\r\n                <Button sx={{ marginTop: '15px'}} disabled={disabled} size=\"small\" variant=\"contained\" onClick={()=>invest()}>Вложить</Button>\r\n                \r\n                <Typography variant=\"subtitle1\">Снять</Typography>\r\n                <TextField\r\n                    id=\"outlined-number\"\r\n                    label=\"Сумма\"\r\n                    type=\"number\"\r\n                    onChange={handleWithdrawChange}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                />\r\n                <Button sx={{ marginTop: '15px'}} disabled={disabledWithdraw} size=\"small\" variant=\"contained\" onClick={()=>withdraw()}>Снять</Button>\r\n            </Stack>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Deposit","import { Paper, Tab, Tabs, Container, Typography } from '@mui/material'\r\nimport React from 'react'\r\n\r\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\r\n\r\nimport Report from './bank/Report.jsx';\r\nimport Credit from './bank/Credit.jsx';\r\nimport Deposit from './bank/Deposit.jsx';\r\nimport { Header } from '../components/Header.jsx';\r\nimport BottomNav from '../components/BottomNav.jsx';\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PAGE_BANK } from '../routers.js';\r\n\r\nfunction Bank({fetchedUser}) {\r\n  const [ value, setValue ] = React.useState(\"one\")\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n  const Info = (\r\n    <>\r\n      <AccountBalanceIcon />\r\n      <Typography>\r\n        На вкладке <b>БАНК</b> можно<br/>\r\n        - посмотреть информацию о личных финансах<br/>\r\n        - оформить кредит<br/>\r\n        - сделать вклад<br/>\r\n        - оплатить задолженности\r\n      </Typography>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Container>\r\n      <Header fetchedUser={fetchedUser} info={Info}/>\r\n      <Tabs\r\n      value={value}\r\n      onChange={handleChange}\r\n      textColor=\"secondary\"\r\n      indicatorColor=\"secondary\"\r\n      >\r\n        <Tab value=\"one\" label=\"Бухгалтерия\" />\r\n        <Tab value=\"two\" label=\"Кредиты\" />\r\n        <Tab value=\"three\" label=\"Вклады\" />\r\n      </Tabs>\r\n      \r\n      {value === 'one'&&<Report/>}\r\n      {value === 'two'&&<Credit/>}\r\n      {value === 'three'&&<Deposit/>}\r\n      \r\n      <BottomNav value={PAGE_BANK}/>\r\n      </Container>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Bank","import { Button, Paper, Stack } from '@mui/material'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport axios from '../axios.js'\r\nimport { setUser } from '../redux/slices/userSlice.js'\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN, PAGE_REGISTER, PAGE_TRAINING, PAGE_SETTINGS } from '../routers.js'\r\n\r\nfunction Intro({fetchedUser}) {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const [firstTime, setFirstTime] = React.useState(true)\r\n\r\n    const getPlayer = async () => {\r\n        await axios.get(`/auth/me/${fetchedUser.id}`).then(({data}) => {\r\n          dispatch(setUser(data))\r\n          setFirstTime(false)\r\n        }).catch(() =>{\r\n          console.log('user not found')\r\n        })\r\n    }\r\n     \r\n    if(fetchedUser){\r\n        getPlayer()\r\n    }\r\n    \r\n    \r\n    return (\r\n      <Panel centered>\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n          <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n          >\r\n            <Button disabled={firstTime} onClick={() => router.pushPage(PAGE_MAIN)}>Играть</Button>\r\n            <Button onClick={() => router.pushPage(PAGE_REGISTER)}>Новая игра</Button>\r\n            <Button onClick={() => router.pushPage(PAGE_TRAINING)}>Обучение</Button>\r\n            <Button onClick={() => router.pushPage(PAGE_SETTINGS)}>Настройки</Button>\r\n          </Stack>\r\n        </Paper>\r\n      </Panel>\r\n    )\r\n}\r\n\r\nexport default Intro","import { Button, Paper, Typography, Stack, CircularProgress } from '@mui/material'\r\nimport React from 'react'\r\nimport axios from '../axios.js'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useRouter } from '@happysanta/router'\r\nimport { setUser } from '../redux/slices/userSlice.js';\r\nimport { PAGE_MAIN } from '../routers.js';\r\n\r\nfunction Register({ fetchedUser }) {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch()\r\n  const profs = useSelector((state) => state.user.profs)\r\n  const user = useSelector((state) => state.user.user)\r\n  const [ open, setOpen ] = React.useState(false)\r\n  const [ profession, setProfession] = React.useState()\r\n  const [ timeLeft, setTimeLeft ] = React.useState(0)\r\n  const [ isCounting, setIsCounting ] = React.useState(true)\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    router.pushPage(PAGE_MAIN)\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const interval = setInterval(() => {\r\n        \r\n      isCounting && setTimeLeft((timeLeft) => (timeLeft >= 10 ? 10 : timeLeft +1 ))\r\n  \r\n      if (timeLeft == 10 && isCounting) {\r\n        result()    \r\n      }\r\n\r\n    },200)\r\n    return () => {\r\n        clearInterval(interval)\r\n    }\r\n  },[timeLeft, isCounting, user])\r\n\r\n  const getRandomIntInclusive = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n  }\r\n\r\n  const result = () => {\r\n\t\tconst p = getRandomIntInclusive( 0, profs.length-1)\r\n    setProfession(profs[p])\r\n\t}\r\n\r\n  const getProf = async () => {\r\n\r\n    setIsCounting(false)\r\n\r\n    if (Object.keys(user).length == 0){\r\n      const deposit = {\r\n        amount: 0,\r\n        date: +new Date,\r\n      }\r\n      const record = {\r\n        age: 60,\r\n        prof: profession.profName,\r\n        cashflow: 0,\r\n        bizCount: 0,\r\n        deposit: 0,\r\n        rentCount: 0,\r\n        houseSumm: 0,\r\n        carSum: 0,\r\n      }\r\n      const fields = {\r\n        \r\n        firstName : fetchedUser.first_name,\r\n        photo100: fetchedUser.photo_100,\r\n        prof: profession.profName,\r\n        workTime: 8,\r\n        salary: profession.salary,\r\n        userId: fetchedUser.id,\r\n        balance: 500,\r\n        debts: 0,\r\n        age: profession.age,\r\n        children: profession.childCount,\r\n        house: profession.house,\r\n        car: profession.car,\r\n        rent: [],\r\n        bizs: [],\r\n        deposit: deposit,\r\n        credits: [],\r\n        record: record,\r\n        expenses: profession.expenses,\r\n        freeEnergizerCount: 2,\r\n        onGame: true,\r\n        time: 10,\r\n        energy: 100,\r\n        maxEnergy: 100,\r\n        energizer: 0,\r\n        freeEnergizerOn: true,\r\n        greetingIn: [],\r\n        greetingOut: [],\r\n        disabled: [],\r\n        promoter: false,\r\n      }\r\n\r\n      console.log(fields)\r\n      await axios.post(`/auth/register`, fields).then((data)=>{\r\n        dispatch(setUser(data.data.user));\r\n      });\r\n      setOpen(true)\r\n\r\n    } else {\r\n      const deposit = {\r\n        amount: 0,\r\n        date: +new Date,\r\n      }\r\n      const fields = {\r\n        _id: user._id,\r\n        firstName : user.firstName,\r\n        photo100: user.photo100,\r\n        prof: profession.profName,\r\n        workTime: 8,\r\n        salary: profession.salary,\r\n        userId: user.userId,\r\n        balance: 500,\r\n        debts: 0,\r\n        age: profession.age,\r\n        children: profession.childCount,\r\n        house: profession.house,\r\n        car: profession.car,\r\n        rent: [],\r\n        bizs: [],\r\n        deposit: deposit,\r\n        credits: [],\r\n        record: user.record,\r\n        expenses: profession.expenses,\r\n        datePoint: user.datePoint,\r\n        freeEnergizer: user.freeEnergizer,\r\n        freeEnergizerCount: user.freeEnergizerCount,\r\n        onGame: true,\r\n        time: 10,\r\n        energy: 100,\r\n        maxEnergy: 100,\r\n        energizer: 0,\r\n        freeEnergizerOn: true,\r\n        lifesCount: user.lifesCount + 1,\r\n        greetingIn: [],\r\n        greetingOut: [],\r\n        disabled: [],\r\n        promoter: user.promoter,\r\n      }\r\n\r\n      dispatch(setUser(fields));\r\n      await axios.patch(`/auth/${user._id}`, fields)\r\n      setOpen(true)\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Stack \r\n      sx={{ width: '100vw', height: '100vh' }}\r\n      direction={'column'}\r\n      alignItems='center'\r\n      justifyContent='center'\r\n      spacing={1}>\r\n        {profession ? <><Typography variant='subtitle1'>Профессия:</Typography>\r\n        <Typography variant='h6'>{profession.profName}</Typography>\r\n        <Typography variant='caption'>Для начала игры необходимо выбрать профессию</Typography>\r\n        <Button disabled={!isCounting} onClick={()=>getProf()}>Выбрать</Button></> : \r\n        <CircularProgress/>}\r\n        {open && <>\r\n        <Typography variant='caption'>Вы получили профессию <b>{user.prof}</b></Typography>\r\n        <Typography variant='caption'>Ваша зарплата <b>{user.salary}</b> К, Вам <b>{user.age/12}</b>, количество детей: <b>{user.children}</b>.</Typography>\r\n        <Typography variant='caption'><b>Удачной игры!</b></Typography>\r\n        <Button onClick={()=>router.pushPage(PAGE_MAIN)}>Начать</Button>\r\n        </>}\r\n      </Stack>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Register\r\n\r\n//Пассивным доходом в игре считаются дивидендные акции и бизнес под управлением менеджера.<br/><br/>","export default __webpack_public_path__ + \"static/media/bank.c624ff42.png\";","export default __webpack_public_path__ + \"static/media/choose.ef6c6b6d.png\";","export default __webpack_public_path__ + \"static/media/deals.db5c4edc.png\";","export default __webpack_public_path__ + \"static/media/header.9ec04f55.png\";","export default __webpack_public_path__ + \"static/media/main.a67b917a.png\";","export default __webpack_public_path__ + \"static/media/profile.ec4cc714.png\";","import { Toolbar, Typography, Button, Stack, Paper, ImageList, ImageListItem } from '@mui/material'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport React from 'react'\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN, PAGE_REGISTER } from '../routers'\r\nimport bank from '../img/bank.png'\r\nimport choose from '../img/choose.png'\r\nimport deals from '../img/deals.png'\r\nimport header from '../img/header.png'\r\nimport main from '../img/main.png'\r\nimport profile from '../img/profile.png'\r\n\r\nfunction Training() {\r\n    const router = useRouter()\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction={'column'}\r\n            alignItems='center'\r\n            justifyContent='center'\r\n            spacing={1}>\r\n            <ImageList cols={1}>\r\n                <ImageListItem>\r\n                    <img src={choose}/>\r\n                </ImageListItem>\r\n                <ImageListItem>\r\n                    <img src={header}/>\r\n                </ImageListItem>\r\n                <ImageListItem>\r\n                    <img src={main}/>\r\n                </ImageListItem>\r\n                <ImageListItem>\r\n                    <img src={deals}/>\r\n                </ImageListItem>\r\n                <ImageListItem>\r\n                    <img src={bank}/>\r\n                </ImageListItem>\r\n                <ImageListItem>\r\n                    <img src={profile}/>\r\n                </ImageListItem>\r\n                <Toolbar/>\r\n                <Button onClick={()=>router.popPage()}>Назад</Button>\r\n                <Toolbar/>\r\n            </ImageList>\r\n            </Stack>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Training","import { Paper, Typography, Stack, ToggleButton, ToggleButtonGroup, Button, Checkbox, Link } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport React from 'react'\r\nimport bridge from '@vkontakte/vk-bridge'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setTheme, setUser } from '../redux/slices/userSlice'\r\nimport { useRouter } from '@happysanta/router'\r\nimport axios from '../axios.js'\r\n\r\nimport DarkModeIcon from '@mui/icons-material/DarkMode'\r\nimport BrightnessAutoIcon from '@mui/icons-material/BrightnessAuto'\r\nimport BrightnessHighIcon from '@mui/icons-material/BrightnessHigh'\r\n\r\nfunction Settings({fetchedUser}) {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch()\r\n  const user = useSelector((state) => state.user.user)\r\n  const [value, setValue] = React.useState('auto')\r\n  const [checkPost, setCheckPost] = React.useState(false)\r\n  const [checkGroup, setCheckGroup] = React.useState(false)\r\n  const [checkMessages, setCheckMessages] = React.useState(false)\r\n\r\n  const handleTheme = (event, newTheme) => {\r\n    if (newTheme !== null) {\r\n      setValue(newTheme);\r\n      dispatch(setTheme(newTheme))\r\n    }\r\n  };\r\n\r\n  async function joinGroup() {\r\n    bridge.send('VKWebAppJoinGroup', {\r\n      group_id: 218628265\r\n      })\r\n      .then((data) => { \r\n        if (data.result) {\r\n          // Пользователь подписался на сообщество\r\n          setCheckGroup(true)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        // Ошибка\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  async function messagesFromGroup() {\r\n    bridge.send('VKWebAppAllowMessagesFromGroup', {\r\n      group_id: 218628265,\r\n      })\r\n      .then((data) => { \r\n        if (data.result) {\r\n          // Пользователь разрешил отправку сообщений от имени сообщества\r\n          setCheckMessages(true)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        // Ошибка\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  async function recommend() {\r\n    bridge.send('VKWebAppShowWallPostBox', {\r\n      message: 'Попробуй себя в роли среднестатистического жителя России, который решил добиться финансовой свободы',\r\n      attachments: 'https://vk.com/app51483243'\r\n      })\r\n      .then((data) => { \r\n        if (data.post_id) {\r\n          // Запись размещена\r\n          setCheckPost(true)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        // Ошибка\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (user.promoter == true) {\r\n      setCheckPost(true)\r\n      setCheckGroup(true)\r\n      setCheckMessages(true)\r\n    } else if (checkGroup == true && checkPost == true && checkMessages == true) {\r\n      const fields = {\r\n        ...user,\r\n        freeEnergizerCount: 10,\r\n        promoter: true,\r\n      }\r\n      dispatch(setUser(fields))\r\n      save(fields)\r\n    }\r\n  }, [checkPost, checkGroup, checkMessages, user])\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius: 0 }}>\r\n      <Stack\r\n        sx={{ width: '100vw', height: '100vh' }}\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        spacing={1}\r\n      >\r\n        <ToggleButtonGroup sx={{ marginBottom: \"20px\"}}\r\n          value={value}\r\n          exclusive\r\n          onChange={handleTheme}\r\n          aria-label=\"theme\"\r\n        >\r\n          <ToggleButton value=\"auto\" aria-label=\"left aligned\">\r\n            <BrightnessAutoIcon />\r\n          </ToggleButton>\r\n          <ToggleButton value=\"light\" aria-label=\"centered\">\r\n            <BrightnessHighIcon />\r\n          </ToggleButton>\r\n          <ToggleButton value=\"dark\" aria-label=\"right aligned\">\r\n            <DarkModeIcon />\r\n          </ToggleButton>\r\n        </ToggleButtonGroup>\r\n        {user && <Box sx={{ width: '80vw' }}>\r\n          <Typography variant='caption'>Выполни задания и каждый день количество бесплатных энергетиков увеличится до 10 </Typography>\r\n          <Stack sx={{ marginTop: \"15px\"}} direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography variant='caption'>Подписаться на сообщество</Typography>\r\n            {checkGroup?<Checkbox disabled checked />:<Button onClick={()=>joinGroup()}>Подписаться</Button>}\r\n          </Stack>\r\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography variant='caption'>Подпишись на уведомления</Typography>\r\n            {checkMessages?<Checkbox disabled checked />:<Button onClick={()=>messagesFromGroup()}>Подписаться</Button>}\r\n          </Stack>\r\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography variant='caption'>Поделись на стене</Typography>\r\n            {checkPost?<Checkbox disabled checked />:<Button onClick={()=>recommend()}>Поделиться</Button>}\r\n          </Stack>\r\n          <Stack sx={{ marginTop: \"15px\"}} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n            <Button onClick={()=>router.popPage()}>Назад</Button>\r\n          </Stack>\r\n        </Box>}\r\n      </Stack>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Settings","import { Button, Paper, CssBaseline, Stack, Toolbar, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useRouter } from '@happysanta/router'\r\nimport axios from '../axios.js'\r\nimport { setUser } from '../redux/slices/userSlice.js'\r\nimport PauseIcon from '@mui/icons-material/Pause'\r\nimport { PAGE_MAIN } from '../routers.js'\r\nimport bridge from \"@vkontakte/vk-bridge\"\r\nimport { Panel } from '@vkontakte/vkui'\r\n\r\nfunction Pause() {\r\n    const [disabled, setDisabled] = React.useState(true)\r\n    const [pauseTime, setPauseTime] = React.useState('')\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const user = useSelector((state) => state.user.user)\r\n\r\n    const checkAd = () => {\r\n\t\tbridge.send('VKWebAppCheckNativeAds', { ad_format: 'reward' })\r\n  \t\t\t.then((data) => {\r\n        \t\tif (data.result) {\r\n\t\t\t\t\tsetDisabled(false)\r\n        \t\t} else {\r\n            \t\tconsole.log('Рекламные материалы не найдены.');\r\n        \t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => { console.log(error); /* Ошибка */  });\r\n\t}\r\n\r\n    checkAd()\r\n\r\n    const showAd = () => {\r\n        bridge.send('VKWebAppShowNativeAds', { ad_format: 'reward' })\r\n            .then((data) => {\r\n                if (data.result) // Успех\r\n                {\r\n                    play()\r\n                }\r\n                else // Ошибка \r\n                    console.log('Ошибка при показе');\r\n            })\r\n            .catch((error) => { console.log(error); })\r\n\t}\r\n\r\n    const play = () => {\r\n        const fields = {\r\n            ...user,\r\n            onGame: true,\r\n            energy: user.maxEnergy,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n        router.pushPage(PAGE_MAIN)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    function parseMillisecondsIntoReadableTime(milliseconds){\r\n        //Get hours from milliseconds\r\n        var hours = milliseconds / (1000*60*60);\r\n        var absoluteHours = Math.floor(hours);\r\n        var h = absoluteHours > 9 ? absoluteHours : '0' + absoluteHours;\r\n      \r\n        //Get remainder from hours and convert to minutes\r\n        var minutes = (hours - absoluteHours) * 60;\r\n        var absoluteMinutes = Math.floor(minutes);\r\n        var m = absoluteMinutes > 9 ? absoluteMinutes : '0' +  absoluteMinutes;\r\n      \r\n        //Get remainder from minutes and convert to seconds\r\n        var seconds = (minutes - absoluteMinutes) * 60;\r\n        var absoluteSeconds = Math.floor(seconds);\r\n        var s = absoluteSeconds > 9 ? absoluteSeconds : '0' + absoluteSeconds;\r\n      \r\n      \r\n        return h + ':' + m + ':' + s;\r\n      }\r\n\r\n    React.useEffect(()=>{\r\n        const interval = setInterval(()=>{\r\n            const t = +new Date();\r\n            setPauseTime(user.datePoint - t)\r\n            if(user.datePoint < t){\r\n\t\t\t\tplay()\r\n            }\r\n        }, 1000)\r\n\t\treturn () => {\r\n            clearInterval(interval)\r\n\t\t\t}\r\n    },[setPauseTime, user]) \r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n            >\r\n                <PauseIcon color=\"disabled\"  sx={{ fontSize: 40}} />\r\n                <Typography variant='h6'>ПАУЗА</Typography>\r\n                <Typography variant='caption'>Необходима для восстановления энергии</Typography>\r\n                <Typography variant='caption'>Можно продолжить через:</Typography>\r\n                <Typography variant='h6'>{parseMillisecondsIntoReadableTime(pauseTime)}</Typography>\r\n                <Typography variant='caption'>Можно пропустить посмотрев рекламный ролик</Typography>\r\n                <Button disabled={disabled} onClick={()=>showAd()}>Смотреть рекламу</Button>\r\n            </Stack>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Pause","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Toolbar, Typography } from '@mui/material';\r\nimport HouseLot from '../../components/HouseLot';\r\nimport CarLot from '../../components/CarLot';\r\n\r\nfunction Home() {\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    return (\r\n        <>\r\n        <Typography variant=\"overline\">\r\n            Недвижимость\r\n        </Typography>\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        >\r\n            {myHouses.map((house, index) => (<HouseLot\r\n            key={index}\r\n            house={house}\r\n            isMy={house._id}/>\r\n            ))}\r\n        </Grid>\r\n        {myRents.length > 0 && <Typography variant=\"overline\">\r\n            Недвижимость в аренде\r\n        </Typography>}\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        > \r\n            {myRents.map((house, index) => (<HouseLot\r\n            key={house._id}\r\n            house={house}\r\n            isMy={house._id}\r\n            isRent={true}/>\r\n            ))}\r\n        </Grid>\r\n        {myCars.length > 0 && <Typography variant=\"overline\">\r\n            Транспорт\r\n        </Typography>}\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        > \r\n            {myCars.map((car, index) => (\r\n            <CarLot key={car._id} car={car} isMy={car._id}/>\r\n            ))}\r\n        </Grid>\r\n        <Toolbar/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nimport { Avatar, Badge, Typography, ListItem, ListItemAvatar, ListItemText, Divider, IconButton, Stack, Collapse, List } from '@mui/material'\r\n\r\nimport PanToolIcon from '@mui/icons-material/PanTool';\r\n\r\nfunction Friend({friend, invisible, disabled }) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const sendHi = (_id, userId) => {\r\n        if(invisible == false){     //ответ\r\n            const fields = {\r\n                ...user,\r\n                greetingIn: user.greetingIn.filter((id) => id !== userId),\r\n                disabled: [...user.disabled, userId],\r\n                energizer: user.energizer + 1,\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n            const friendFields = {\r\n                ...friend,\r\n                greetingOut: friend.greetingOut.filter((id) => id !== user.userId),\r\n                disabled: [...friend.disabled, user.userId],\r\n                energizer: friend.energizer + 1,\r\n            }\r\n            saveForFriend(_id,friendFields)\r\n        } else {            //инициация\r\n            const fields = {\r\n                ...user,\r\n                greetingOut: [...user.greetingOut, userId],\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n            const friendFields = {\r\n                ...friend,\r\n                greetingIn: [...friend.greetingIn, user.userId],\r\n            }\r\n            saveForFriend(_id,friendFields)\r\n        }\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    const saveForFriend = async ( _id, data ) => {\r\n\t\tawait axios.patch(`/auth/${_id}`, data)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n            <IconButton \r\n                onClick={()=>sendHi(friend._id,friend.userId)} \r\n                color=\"primary\" \r\n                variant=\"contained\" \r\n                size=\"small\"\r\n                disabled={disabled}\r\n            ><Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n                <PanToolIcon/></Badge>\r\n            </IconButton>}>\r\n            <ListItemAvatar onClick={()=>setOpen(!open)}>\r\n                <Avatar src={friend.photo100}/>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<Typography variant=\"subtitle1\">{friend.firstName}</Typography>}\r\n                secondary={\r\n                        <Typography variant='caption'>Рекорд: {friend.record.cashflow} K</Typography>\r\n                    }\r\n            />\r\n        </ListItem>\r\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <List component=\"div\">\r\n            <ListItem>\r\n                <Stack direction={'column'} sx={{ width:'100%'}}>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Деятельность:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.prof}</b></Typography>\r\n                    </Stack> \r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Пассивный доход:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.cashflow} К</b></Typography>\r\n                    </Stack>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Количество предприятий:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.bizCount}</b></Typography>\r\n                    </Stack>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Сумма вложений:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.deposit} К</b></Typography>\r\n                    </Stack>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Недвижимость в аренде:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.rentCount}</b></Typography>\r\n                    </Stack>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Стоимость недвижимости:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.houseSumm} К</b></Typography>\r\n                    </Stack>\r\n                    <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n                        <Typography variant='caption'>Стоимость транспорта:</Typography>\r\n                        <Typography variant='caption'><b> {friend.record.carSum} К</b></Typography>\r\n                    </Stack>\r\n                </Stack>\r\n            </ListItem>\r\n            </List>\r\n        </Collapse>\r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/></>\r\n    )\r\n    }\r\n\r\nexport default Friend","import { Toolbar, Typography, Button, Stack, Container, List, CircularProgress } from '@mui/material'\r\nimport React from 'react'\r\nimport PeopleIcon from '@mui/icons-material/People';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Friend from '../../components/Friend';\r\n\r\nfunction Friends() {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const friends = useSelector((state) => state.user.friends)\r\n    const users = useSelector((state) => state.user.users)\r\n    const usersIds = friends.map(u=>u.id )\r\n\tconst ids = usersIds.map(string => String(string))\r\n\tconst myFriends = users.filter(({userId}) => ids.includes(userId))\r\n\r\n    const hiInFriends = myFriends.filter(({userId}) => user.greetingIn.includes(userId))\r\n    const hiOutFriends = myFriends.filter(({userId}) => user.greetingOut.includes(userId))\r\n    const disableds = myFriends.filter(({userId}) => user.disabled.includes(userId))\r\n    const noHiFriends1 = myFriends.filter(({userId}) => !user.greetingIn.includes(userId))\r\n    const noHiFriends2 = noHiFriends1.filter(({userId}) => !user.greetingOut.includes(userId))\r\n    const noHiFriends = noHiFriends2.filter(({userId}) => !user.disabled.includes(userId))\r\n\r\n    return (\r\n        <Container disableGutters>\r\n        {friends.length == 0 ? \r\n        <Stack direction=\"column\"\r\n        sx={{ width: '100%', height: '60vh' }}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        spacing={1}>\r\n            <PeopleIcon color=\"disabled\" sx={{ fontSize: 40 }} />\r\n            <CircularProgress color=\"secondary\" />\r\n        </Stack> : <>\r\n        {myFriends.length == 0 ? \r\n            <Stack \r\n            sx={{ width: '100%', height: '60vh' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            spacing={1}>\r\n                <PeopleIcon color=\"disabled\" sx={{ fontSize: 40 }} />\r\n                <Typography variant=\"subtitle1\">У Вас ещё нет друзей в игре</Typography>\r\n                <Typography sx={{ padding:'20px' }} variant=\"caption\">На этой вкладке будет список Ваших друзей, которые играют в эту игру. \r\n                Вы их можете поприветствовать, за каждого кто ответит, получите 5 энергетиков дополнительно.</Typography>\r\n            </Stack> :\r\n            <List dense>\r\n                {hiInFriends.map((friend) => (<Friend\r\n                key={friend.userId}\r\n                friend={friend}\r\n                invisible={false}\r\n                disabled={false}/>\r\n                ))}\r\n                {noHiFriends.map((friend) => (<Friend\r\n                key={friend.userId}\r\n                friend={friend}\r\n                invisible={true}\r\n                disabled={false}/>\r\n                ))}\r\n                {hiOutFriends.map((friend) => (<Friend\r\n                key={friend.userId}\r\n                friend={friend}\r\n                invisible={true}\r\n                disabled={true}/>\r\n                ))}\r\n                {disableds.map((friend) => (<Friend\r\n                key={friend.userId}\r\n                friend={friend}\r\n                invisible={true}\r\n                disabled={true}/>\r\n                ))}\r\n            </List>\r\n        }\r\n        </>\r\n        }\r\n        <Toolbar/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Friends","import { Toolbar, Box, Typography, Stack } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction Record() {\r\n  const user = useSelector((state) => state.user.user)\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }} >\r\n      <Stack direction={'column'} sx={{ width: '100%' }}>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Деятельность:</Typography>\r\n          <Typography variant='caption'><b> {user.record.prof}</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Пассивный доход:</Typography>\r\n          <Typography variant='caption'><b> {user.record.cashflow} К</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Количество предприятий:</Typography>\r\n          <Typography variant='caption'><b> {user.record.bizCount}</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Сумма вложений:</Typography>\r\n          <Typography variant='caption'><b> {user.record.deposit} К</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Недвижимость в аренде:</Typography>\r\n          <Typography variant='caption'><b> {user.record.rentCount}</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Стоимость недвижимости:</Typography>\r\n          <Typography variant='caption'><b> {user.record.houseSumm} К</b></Typography>\r\n        </Stack>\r\n        <Stack justifyContent=\"space-between\" alignItems=\"flex-start\" direction={'row'}>\r\n          <Typography variant='caption'>Стоимость транспорта:</Typography>\r\n          <Typography variant='caption'><b> {user.record.carSum} К</b></Typography>\r\n        </Stack>\r\n      </Stack>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Record","import { Toolbar, Paper, Tab, Tabs, Container, Badge, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Home from './profile/Home'\r\nimport Friends from './profile/Friends'\r\nimport Record from './profile/Raiting';\r\nimport { Header } from '../components/Header'\r\nimport BottomNav from '../components/BottomNav'\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { PAGE_PROFILE } from '../routers'\r\nimport { setFriends } from '../redux/slices/userSlice';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\n\r\nfunction Profile({ fetchedUser }) {\r\n  const [value, setValue] = React.useState(\"one\")\r\n  const greetings = useSelector((state) => state.user.greetings)\r\n  const dispatch = useDispatch()\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n  async function fetchFriends() {\r\n    const response = await bridge.send('VKWebAppGetAuthToken', {\r\n      app_id: 51483243,\r\n      scope: 'friends'\r\n    })\r\n\r\n\r\n    const data = await bridge.send('VKWebAppCallAPIMethod', {\r\n      method: 'friends.get',\r\n      params: {\r\n        order: \"hints\",\r\n        fields: 'photo_100',\r\n        v: '5.131',\r\n        access_token: response.access_token\r\n      }\r\n    })\r\n\r\n    dispatch(setFriends(data.response.items))\r\n  }\r\n\r\n  const Info = (\r\n    <>\r\n    <AccountCircleIcon/>\r\n    <Typography>На вкладке <b>ПРОФИЛЬ</b> можно<br/>\r\n      -посмотреть собственность<br/>\r\n      -продать ее<br/>\r\n      -сдать недвижимость в аренду<br/>\r\n      -поприветствовать друзей<br/>\r\n      -посмотреть их рекорды<br/><br/>\r\n      При взаимном <b>приветствии</b> каждому игроку добавляется по энергетику<br/><br/>\r\n      <b>Рекорд сохраняется</b> только если нет кредитов\r\n    </Typography>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius: 0 }}>\r\n      <Container>\r\n        <Header fetchedUser={fetchedUser} info={Info} />\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          textColor=\"secondary\"\r\n          indicatorColor=\"secondary\"\r\n        >\r\n          <Tab value=\"one\" label={<Typography variant=\"body2\">Собственность</Typography>} />\r\n          <Tab onClick={() => fetchFriends()} value=\"two\" label={<Badge color=\"secondary\" variant=\"dot\" invisible={!greetings}><Typography variant=\"body2\">Друзья</Typography></Badge>} />\r\n          <Tab value=\"three\" label={<Typography variant=\"body2\">Мой рекорд</Typography>} />\r\n        </Tabs>\r\n\r\n        {value === 'one' && <Home />}\r\n        {value === 'two' && <Friends />}\r\n        {value === 'three' && <Record />}\r\n        <Toolbar />\r\n        <BottomNav value={PAGE_PROFILE} />\r\n      </Container>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Profile","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    houses: [],\r\n}\r\n\r\nexport const getHouses = createAsyncThunk('houses/getHouses', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/houses')\r\n    dispatch(setHouses((res).data))\r\n})\r\n\r\nexport const houseSlice = createSlice({\r\n    name: 'houses',\r\n    initialState,\r\n    reducers: {\r\n        setHouses: ( state, action ) => {\r\n            state.houses = action.payload\r\n        },\r\n    },\r\n})\r\n\r\nexport const { setHouses } = houseSlice.actions\r\n\r\nexport default houseSlice.reducer","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    cars: [],\r\n}\r\n\r\nexport const getCars = createAsyncThunk('cars/getCars', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/cars')\r\n    dispatch(setCars((res).data))\r\n})\r\n\r\nexport const carSlice = createSlice({\r\n    name: 'cars',\r\n    initialState,\r\n    reducers: {\r\n        setCars: ( state, action ) => {\r\n            state.cars = action.payload\r\n        },\r\n    },\r\n})\r\n\r\nexport const { setCars } = carSlice.actions\r\n\r\nexport default carSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport axios from '../../axios.js'\r\n\r\nconst initialState = {\r\n    bizs: [],\r\n}\r\n\r\nexport const getBizs = createAsyncThunk('bizs/getBizs', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/bizs')\r\n    dispatch(setBizs((res).data))\r\n})\r\n\r\nexport const bizSlice = createSlice({\r\n    name: 'bizs',\r\n    initialState,\r\n    reducers: {\r\n        setBizs: ( state, action ) => {\r\n            state.bizs = action.payload\r\n        },\r\n    },\r\n})\r\n\r\nexport const { setBizs } = bizSlice.actions\r\n\r\nexport default bizSlice.reducer","import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation, withRouter } from '@happysanta/router';\r\n\r\nimport { VIEW_MAIN, PANEL_INTRO, PANEL_REGISTER, PANEL_TRAINING, PANEL_SETTINGS, PANEL_PAUSE, PANEL_MAIN, PANEL_PROPERTY, PANEL_BANK, PANEL_PROFILE } from './routers';\r\n\r\nimport Main from './panels/Main';\r\nimport Property from './panels/Property';\r\nimport Bank from './panels/Bank';\r\nimport Intro from './panels/Intro';\r\nimport Register from './panels/Register';\r\nimport Training from './panels/Training';\r\nimport Settings from './panels/Settings';\r\nimport Pause from './panels/Pause';\r\nimport Profile from './panels/Profile';\r\n\r\nimport { getHouses } from './redux/slices/housesSlice';\r\nimport { getCars } from './redux/slices/carsSlice';\r\nimport { getBizs } from './redux/slices/bizsSlice';\r\nimport { getUsers, getProfs, setDebts, setGreetings } from './redux/slices/userSlice.js';\r\nimport { AppRoot, View } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { ThemeProvider, createTheme } from '@mui/material';\r\n\r\nconst App = () => {\r\n\tconst [scheme, setScheme] = useState('bright_light') //space_gray  bright_light\r\n\tconst [fetchedUser, setUser] = useState(null)\r\n\tconst user = useSelector((state) => state.user.user)\r\n\tconst theme = useSelector((state) => state.user.theme)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst location = useLocation()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Object.keys(user).length != 0) {\r\n\t\t\tif (user.debts > 0) { dispatch(setDebts(true)) } else { dispatch(setDebts(false)) }\r\n\t\t\tif (user.greetingIn.length > 0) { dispatch(setGreetings(true)) } else { dispatch(setGreetings(false)) }\r\n\t\t}\r\n\t}, [user])\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getHouses())\r\n\t\tdispatch(getCars())\r\n\t\tdispatch(getBizs())\r\n\t\tdispatch(getUsers())\r\n\t\tdispatch(getProfs())\r\n\r\n\t\tbridge.subscribe(({ detail: { type, data } }) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tsetScheme(data.scheme)\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t}\r\n\t\tfetchData();\r\n\r\n\r\n\t}, []);\r\n\r\n\tconst themeSettings = () => {\r\n\t\tif(theme == 'dark'){\r\n\t\t\treturn {\r\n\t\t\t\tpalette: {\r\n\t\t\t\t\tmode: \"dark\"\r\n\t\t\t\t},\r\n\t\t\t\ttypography: {\r\n\t\t\t\t\tfontFamily: [\r\n\t\t\t\t\t\t'Jura',\r\n\t\t\t\t\t\t'sans-serif'\r\n\t\t\t\t\t].join(','),\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t} else\r\n\t\tif(theme == 'light'){\r\n\t\t\treturn{\r\n\t\t\t\tpalette: {\r\n\t\t\t\t\tmode: \"light\",\r\n\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\tdefault: '#FFFFFF',\r\n\t\t\t\t\t\tpaper: '#F2F2F2'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttypography: {\r\n\t\t\t\t\tfontFamily: [\r\n\t\t\t\t\t\t'Jura',\r\n\t\t\t\t\t\t'sans-serif'\r\n\t\t\t\t\t].join(','),\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t} else\r\n\t\tif(theme == 'auto'){\r\n\t\t\tif(scheme == 'bright_light'){\r\n\t\t\t\treturn{\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\tmode: \"light\",\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\tdefault: '#FFFFFF',\r\n\t\t\t\t\t\t\tpaper: '#F2F2F2'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttypography: {\r\n\t\t\t\t\t\tfontFamily: [\r\n\t\t\t\t\t\t\t'Jura',\r\n\t\t\t\t\t\t\t'sans-serif'\r\n\t\t\t\t\t\t].join(','),\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\tmode: \"dark\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttypography: {\r\n\t\t\t\t\t\tfontFamily: [\r\n\t\t\t\t\t\t\t'Jura',\r\n\t\t\t\t\t\t\t'sans-serif'\r\n\t\t\t\t\t\t].join(','),\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst themeMode = createTheme(themeSettings())\r\n\treturn (\r\n\t\t<AppRoot>\r\n\t\t\t<ThemeProvider theme={themeMode}>\r\n\t\t\t\t<View\r\n\t\t\t\t\tid={VIEW_MAIN}\r\n\t\t\t\t\thistory={location.hasOverlay() ? [] : location.getViewHistory(VIEW_MAIN)}\r\n\t\t\t\t\tactivePanel={location.getViewActivePanel(VIEW_MAIN)}>\r\n\t\t\t\t\t<Intro id={PANEL_INTRO} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Register id={PANEL_REGISTER} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Training id={PANEL_TRAINING} />\r\n\t\t\t\t\t<Settings id={PANEL_SETTINGS} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Pause id={PANEL_PAUSE} />\r\n\t\t\t\t\t<Main id={PANEL_MAIN} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Property id={PANEL_PROPERTY} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Bank id={PANEL_BANK} fetchedUser={fetchedUser} />\r\n\t\t\t\t\t<Profile id={PANEL_PROFILE} fetchedUser={fetchedUser} />\r\n\t\t\t\t</View>\r\n\t\t\t</ThemeProvider>\r\n\t\t</AppRoot>\r\n\t);\r\n}\r\n\r\nexport default withRouter(App);\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport userSlice from \"./slices/userSlice\";\r\nimport houseSlice from \"./slices/housesSlice\";\r\nimport carsSlice from \"./slices/carsSlice\";\r\nimport bizsSlice from \"./slices/bizsSlice\";\r\n\r\nexport const store = configureStore({\r\n    reducer:{\r\n        user: userSlice,\r\n        houses: houseSlice,\r\n        cars: carsSlice,\r\n        bizs: bizsSlice,\r\n    }\r\n}) ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './redux/store.js'\r\nimport { router } from \"./routers\";\r\nimport { RouterContext } from \"@happysanta/router\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(\r\n  <RouterContext.Provider value={router}>\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>  \r\n    </RouterContext.Provider>\r\n, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}