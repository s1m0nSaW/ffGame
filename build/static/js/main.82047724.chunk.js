(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{352:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n.n(r),i=n(45),s=n.n(i),j=n(46),o=n(28),b=n.n(o),u=n(20),l=n(6),d=n(12),O=n.n(d),x=n(14),h=n(18),f=n(17),p=n(399),m=n(96),v=n(433),g=n(434),y=n(435),w=n(425),z=n(426),C=n(427),k=n(428),S=n(406),_=n(419),P=n(70),I=n(154),K=n(404),E=n(71),T=n(405),A=n(156),M=n.n(A),U=n(3),F=n(42),G=n(414).a.create({baseURL:"http://localhost:4444"}),W=Object(F.b)("users/getUsers",function(){var e=Object(u.a)(O.a.mark((function e(t,n){var c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,G.get("/auth/users");case 3:r=e.sent,c(V(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(F.b)("users/getProfs",function(){var e=Object(u.a)(O.a.mark((function e(t,n){var c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,G.get("/profs");case 3:r=e.sent,c(L(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(F.c)({name:"user",initialState:{user:{},users:[],friends:[],profs:[],status:""},reducers:{setUser:function(e,t){e.user=t.payload},setUsers:function(e,t){e.users=t.payload},setFriends:function(e,t){e.friends=t.payload},setStatus:function(e,t){e.status=t.payload},setProfs:function(e,t){e.profs=t.payload}},extraReducers:(c={},Object(U.a)(c,W.fulfilled,(function(){console.log("users \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")})),Object(U.a)(c,W.pending,(function(){console.log("\u0437\u0430\u043f\u0440\u043e\u0441 users")})),Object(U.a)(c,W.rejected,(function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430 users")})),Object(U.a)(c,B.fulfilled,(function(){console.log("profs \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")})),Object(U.a)(c,B.pending,(function(){console.log("\u0437\u0430\u043f\u0440\u043e\u0441 profs")})),Object(U.a)(c,B.rejected,(function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430 profs")})),c)}),N=D.actions,R=N.setUser,V=N.setUsers,q=N.setFriends,L=(N.setStatus,N.setProfs),H=D.reducer,J=n(132),Q=n.n(J),X=n(135),Y=n.n(X),Z=n(92),$=n.n(Z),ee=n(157),te=n.n(ee),ne=n(136),ce=n.n(ne),re=n(129),ae=n.n(re),ie=n(0),se=function(e){var t=e.fetchedUser,n=Object(x.b)(),c=a.a.useState(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],j=a.a.useState(P.a[500]),o=Object(l.a)(j,2),b=o[0],d=o[1],h=a.a.useState(0),A=Object(l.a)(h,2),U=A[0],F=A[1],W=a.a.useState(0),B=Object(l.a)(W,2),D=B[0],N=B[1],V=Object(x.c)((function(e){return e.user.user})),q=Object(x.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return V.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0);a.a.useEffect((function(){V.energizer>0&&V.energy<V.maxEnergy?d(P.a[400]):d(I.a[200]);var e=setInterval((function(){!V.freeEnergizer&&F((function(e){return e>=100?100:e+1}));var e=+new Date;if(e>V.freeEnergizer){var t=Object(f.a)(Object(f.a)({},V),{},{freeEnergizerOn:!0});n(R(t)),L(t)}N(V.freeEnergizer-e),100==U&&F(0)}),100);return function(){clearInterval(e)}}),[V,F]);var L=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(V._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=Object(ie.jsxs)(p.a,{direction:"column",children:[Object(ie.jsx)(m.a,{}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(p.a,{direction:"row",spacing:1,children:[Object(ie.jsx)(Q.a,{}),Object(ie.jsxs)(m.a,{children:["\u042d\u043d\u0435\u0440\u0433\u0438\u044f - \u0440\u0430\u0441\u0445\u043e\u0434\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043a\u043e\u0433\u0434\u0430 \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430. \u041a\u0443\u043f\u0438\u0432 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c, \u043d\u0435 \u0441\u0434\u0430\u0432\u0430\u044f \u0435\u0451 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443, \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438.",Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u043d\u0435\u0440\u0433\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0430."]})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(p.a,{direction:"row",spacing:1,children:[Object(ie.jsx)($.a,{}),Object(ie.jsx)(m.a,{children:"\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u044e \u043d\u0430 5 \u043f\u0443\u043d\u043a\u0442\u043e\u0432. \u041a\u0430\u0436\u0434\u044b\u0439 24 \u0447\u0430\u0441\u0430 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f 10 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432, \u0438\u0445 \u043a\u043e\u043b\u0438\u0441\u0435\u0441\u0442\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0434\u043e 50, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445."})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(p.a,{direction:"row",spacing:1,children:[Object(ie.jsx)(Y.a,{}),Object(ie.jsx)(m.a,{children:" \u0412\u0440\u0435\u043c\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430. \u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 10 \u0447. \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0432 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442."})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(p.a,{direction:"row",spacing:1,children:[Object(ie.jsx)(ce.a,{}),Object(ie.jsx)(m.a,{children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u043f\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 60 \u043b\u0435\u0442 \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f."})]})]}),J=Object(ie.jsx)(a.a.Fragment,{children:Object(ie.jsx)(v.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return s(!1)},children:Object(ie.jsx)(M.a,{fontSize:"small"})})});return Object(ie.jsxs)(g.a,{component:"nav",color:"inherit",sx:{padding:"10px",borderRadius:"10px"},position:"sticky",children:[t?Object(ie.jsx)(y.a,{disableGutters:!0,children:Object(ie.jsxs)(p.a,{direction:"column",sx:{width:"100%"},children:[Object(ie.jsxs)(p.a,{direction:"row",spacing:1,children:[Object(ie.jsx)(p.a,{children:Object(ie.jsx)(w.a,{src:t.photo_200})}),Object(ie.jsxs)(p.a,{direction:"column",children:[Object(ie.jsxs)(m.a,{variant:"caption",children:[t.first_name," ",t.last_name]}),Object(ie.jsxs)(m.a,{children:["\u0411\u0430\u043b\u0430\u043d\u0441: ",V.balance," K"]})]})]}),Object(ie.jsxs)(p.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(ie.jsx)(z.a,{label:"".concat(V.energy,"/").concat(V.maxEnergy),sx:{bgcolor:b},deleteIcon:Object(ie.jsx)(te.a,{}),onDelete:function(){if(V.energizer>0&&V.energy<V.maxEnergy){var e=V.energizer-1,t=V.energy+5,c=Object(f.a)(Object(f.a)({},V),{},{energizer:e,energy:t});n(R(c)),L(c)}},icon:Object(ie.jsx)(Q.a,{}),size:"small"}),Object(ie.jsx)(z.a,{label:V.energizer,icon:Object(ie.jsx)($.a,{}),size:"small",sx:{bgcolor:K.a[200]}}),Object(ie.jsx)(z.a,{label:"".concat(V.time-(q+V.workTime),"/").concat(V.time),sx:{bgcolor:E.a[200]},icon:Object(ie.jsx)(Y.a,{}),size:"small"}),Object(ie.jsx)(z.a,{label:"".concat(Math.trunc(V.age/12),"/60"),sx:{bgcolor:T.a[300]},icon:Object(ie.jsx)(ce.a,{}),size:"small"})]}),Object(ie.jsxs)(p.a,{direction:"row",sx:{marginTop:"15px"},children:[V.freeEnergizerOn?Object(ie.jsx)(z.a,{label:"+10 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432",onClick:function(){return function(){var e=+new Date,t=V.energizer+10,c=Object(f.a)(Object(f.a)({},V),{},{energizer:t,freeEnergizer:e+864e5,freeEnergizerOn:!1});n(R(c)),L(c)}()},color:"primary",icon:Object(ie.jsx)($.a,{}),size:"small"}):Object(ie.jsx)(z.a,{label:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 ".concat(function(e){var t=e/36e5,n=Math.floor(t),c=n>9?n:"0"+n,r=60*(t-n),a=Math.floor(r),i=a>9?a:"0"+a,s=60*(r-a),j=Math.floor(s);return c+":"+i+":"+(j>9?j:"0"+j)}(D)),icon:Object(ie.jsx)($.a,{}),size:"small"}),Object(ie.jsx)(ae.a,{onClick:function(){return s(!0)},color:"primary",sx:{marginLeft:"auto"}})]})]})}):Object(ie.jsxs)(y.a,{children:[Object(ie.jsx)(C.a,{variant:"circular",width:40,height:40,animation:"wave"}),Object(ie.jsx)(k.a,{children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(C.a,{}),secondary:Object(ie.jsx)(C.a,{})})})]}),Object(ie.jsx)("div",{children:Object(ie.jsx)(_.a,{open:i,onClose:function(){return s(!1)},message:H,action:J})})]})},je=n(424),oe=n(436),be=n(437),ue=n(159),le=n.n(ue),de=n(160),Oe=n.n(de),xe=n(161),he=n.n(xe),fe=n(158),pe=n.n(fe);var me=function(){var e=Object(h.m)(),t=a.a.useState("main"),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(ie.jsx)(je.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(ie.jsxs)(oe.a,{value:c,onChange:function(t,n){r(n),e(n)},children:[Object(ie.jsx)(be.a,{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",value:"main",icon:Object(ie.jsx)(pe.a,{})}),Object(ie.jsx)(be.a,{label:"\u0421\u0434\u0435\u043b\u043a\u0438",value:"property",icon:Object(ie.jsx)(le.a,{})}),Object(ie.jsx)(be.a,{label:"\u0411\u0430\u043d\u043a",value:"bank",icon:Object(ie.jsx)(Oe.a,{})}),Object(ie.jsx)(be.a,{label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",value:"profile",icon:Object(ie.jsx)(he.a,{})})]})})},ve=function(e){var t=e.fetchedUser;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(se,{fetchedUser:t}),Object(ie.jsx)(h.a,{}),Object(ie.jsx)(me,{})]})},ge=n(19),ye=n(445),we=n(420),ze=n(438),Ce=n(439),ke=n(415),Se=n(446),_e=n(429),Pe=n(409),Ie=n(440),Ke=n(412),Ee=n(442),Te=n(443),Ae=n(444),Me=n(72),Ue=n(408),Fe=n(108),Ge=n.n(Fe),We=n(105),Be=n.n(We),De=n(106),Ne=n.n(De),Re=n(107),Ve=n.n(Re);var qe=function(e){var t=e.biz,n=a.a.useState("inherit"),c=Object(l.a)(n,2),r=c[0],i=c[1],s=function(){return Object(ie.jsx)(Be.a,{color:"warning",onClick:function(){return P(!0)}})},j=function(){return Object(ie.jsx)(Ne.a,{color:"success",onClick:function(){return P(!0)}})},o=function(){return Object(ie.jsx)(Ve.a,{color:"secondary",onClick:function(){return P(!0)}})},b=a.a.useState(Me.a[300]),d=Object(l.a)(b,2),g=d[0],y=d[1],z=a.a.useState(!1),k=Object(l.a)(z,2),_=k[0],P=k[1],I=a.a.useState((t.maxProfit-t.minProfit)/2+t.minProfit),K=Object(l.a)(I,2),E=K[0],T=K[1],A=a.a.useState(0),M=Object(l.a)(A,2),U=M[0],F=M[1],W=10*U,B=a.a.useState(!0),D=Object(l.a)(B,2),N=D[0],V=D[1],q=Object(x.b)(),L=Object(h.m)(),H=Object(x.c)((function(e){return e.user.user})),J=Object(x.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return H.bizs.includes(t)})),Q=a.a.useState((function(){return Object(ie.jsx)(C.a,{animation:"wave",variant:"circular",width:40,height:40})})),X=Object(l.a)(Q,2),Y=X[0],Z=X[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?(i("secondary"),Z(o)):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?(i("warning"),Z(s)):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType&&(i("success"),Z(j))}),[t.bizType]);var $=function(){var e,n,c=(e=-150,n=t.maxProfit,e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e);y(c>0?Me.a[700]:Ue.a[500]),V(!1),T(c)};a.a.useEffect((function(){var e=setInterval((function(){N&&F((function(e){return e>=10?10:e+1})),10==U&&(H.energy<=0?ee():$())}),500);return function(){clearInterval(e)}}),[U,N,H]);var ee=function(){var e=Object(f.a)(Object(f.a)({},H),{},{onGame:!1});q(R(e)),te(e),L("/pause")},te=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(H._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{alignItems:"flex-end",children:[Object(ie.jsxs)(m.a,{variant:"h6",sx:{color:g},children:[Math.trunc(E)," K"]}),Object(ie.jsx)(v.a,{onClick:function(){return function(e,t){10==U&&F(0),V(!0);var n=H.balance+e,c=H.energy-t,r=Object(f.a)(Object(f.a)({},H),{},{balance:n,energy:c});q(R(r)),te(r)}(Math.trunc(E),t.requiredEnergy)},color:"primary",disabled:N,variant:"contained",size:"small",children:Object(ie.jsx)(Ge.a,{})})]}),children:[Object(ie.jsx)(ze.a,{children:Object(ie.jsx)(w.a,{sx:{bgcolor:"white"},children:Y})}),Object(ie.jsx)(S.a,{primary:Object(ie.jsxs)(a.a.Fragment,{children:[t.bizName,Object(ie.jsx)("br",{}),Object(ie.jsxs)(m.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",t.maxProfit," K"]})]}),secondary:Object(ie.jsx)(Ce.a,{sx:{width:.5},variant:"determinate",value:W,color:r})})]}),Object(ie.jsx)(Pe.a,{variant:"inset",component:"li"}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(Ie.a,{open:_,onClose:function(){return P(!1)},fullWidth:!0,children:[Object(ie.jsx)(Ke.a,{children:t.bizName}),Object(ie.jsx)(Ee.a,{children:Object(ie.jsxs)(Te.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(ie.jsx)("b",{children:t.bizType}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u044d\u043d\u0435\u0440\u0433\u0438\u0438: ",Object(ie.jsx)("b",{children:t.requiredEnergy}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(ie.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(ie.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(ie.jsxs)("b",{children:[t.maxProfit," K"]}),Object(ie.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(ie.jsxs)("b",{children:[t.minProfit," K"]}),Object(ie.jsx)("br",{}),"\u0420\u0438\u0441\u043a: ",Object(ie.jsx)("b",{children:t.risk}),Object(ie.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(ie.jsxs)("b",{children:[t.sellPrice," K"]}),Object(ie.jsx)("br",{})]})}),Object(ie.jsxs)(Ae.a,{children:[Object(ie.jsx)(_e.a,{onClick:function(){!function(e,t){var n=H.balance+t,c=J.filter((function(t){return t._id!==e})),r=Object(f.a)(Object(f.a)({},H),{},{balance:n,bizs:c.map((function(e){return e._id}))});q(R(r)),te(r)}(t._id,t.sellPrice),P(!1)},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),Object(ie.jsx)(_e.a,{onClick:function(){return P(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Le=n(164),He=n.n(Le);var Je=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.cars.cars})),n=Object(x.c)((function(e){return e.houses.houses})).filter((function(t){var n=t._id;return e.house.includes(n)})),c=t.filter((function(t){var n=t._id;return e.car.includes(n)})),r=n.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),i=c.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),s=a.a.useState(0),j=Object(l.a)(s,2),o=j[0],b=j[1],u=a.a.useState(!1),d=Object(l.a)(u,2),O=d[0],h=d[1],p=Object(x.b)();return a.a.useEffect((function(){var t=setInterval((function(){b((function(e){return e>=100?100:e+1})),100==o&&(!function(){var t=e.balance+e.salary,n=Object(f.a)(Object(f.a)({},e),{},{balance:t});p(R(n))}(),b(0))}),100);return function(){clearInterval(t)}}),[o]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"h6",children:[e.salary," K"]}),children:[Object(ie.jsx)(ze.a,{onClick:function(){return h(!0)},children:Object(ie.jsx)(w.a,{sx:{bgcolor:"white"},children:Object(ie.jsx)(He.a,{color:"action"})})}),Object(ie.jsx)(S.a,{primary:Object(ie.jsxs)(a.a.Fragment,{children:["\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ",e.prof,Object(ie.jsx)("br",{})]}),secondary:Object(ie.jsx)(Ce.a,{sx:{width:.5},variant:"determinate",value:o,color:"inherit"})})]}),Object(ie.jsxs)(Ie.a,{open:O,onClose:function(){return h(!1)},fullWidth:!0,children:[Object(ie.jsx)(Ke.a,{children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),Object(ie.jsx)(Ee.a,{children:Object(ie.jsxs)(Te.a,{children:["\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ",Object(ie.jsx)("b",{children:e.prof}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(ie.jsx)("b",{children:"8\u0447."}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u043e\u043c: ",Object(ie.jsxs)("b",{children:[r," K"]}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442: ",Object(ie.jsxs)("b",{children:[i," K"]}),Object(ie.jsx)("br",{}),"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b: ",Object(ie.jsxs)("b",{children:[e.expenses," K"]}),Object(ie.jsx)("br",{})]})}),Object(ie.jsxs)(Ae.a,{children:[Object(ie.jsx)(_e.a,{onClick:function(){!function(){var t=Object(f.a)(Object(f.a)({},e),{},{workTime:0,salary:0});p(R(t))}(),h(!1)},children:"\u0423\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(ie.jsx)(_e.a,{onClick:function(){return h(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Qe=n(111),Xe=n.n(Qe);var Ye=function(e){var t=e.house,n=a.a.useState(0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=r,j=Object(x.b)(),o=Object(x.c)((function(e){return e.user.user}));return a.a.useEffect((function(){var e=setInterval((function(){i((function(e){return e>=100?100:e+1})),100==r&&function(){var e=o.balance+t.rentPrice,n=Object(f.a)(Object(f.a)({},o),{},{balance:e});j(R(n)),i(0)}()}),100);return function(){clearInterval(e)}}),[r]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"h6",children:[t.rentPrice," K"]}),children:[Object(ie.jsx)(ze.a,{children:Object(ie.jsx)(w.a,{sx:{bgcolor:"white"},children:Object(ie.jsx)(Xe.a,{color:"action"})})}),Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:t.name}),secondary:Object(ie.jsx)(Ce.a,{sx:{width:.5},variant:"determinate",value:s,color:"inherit"})})]}),Object(ie.jsx)(Pe.a,{variant:"inset",component:"li"}),Object(ie.jsx)("br",{})]})},Ze=n(137),$e=n.n(Ze),et=n(112),tt=n.n(et);var nt=function(){var e=Object(x.b)(),t=Object(h.m)(),n=Object(x.c)((function(e){return e.user.user}));0==n.onGame&&t("/pause");var c=Object(x.c)((function(e){return e.bizs.bizs})),r=Object(x.c)((function(e){return e.houses.houses})),i=Object(x.c)((function(e){return e.cars.cars})),s=r.filter((function(e){var t=e._id;return n.house.includes(t)})),j=i.filter((function(e){var t=e._id;return n.car.includes(t)})),o=c.filter((function(e){var t=e._id;return n.bizs.includes(t)})),b=r.filter((function(e){var t=e._id;return n.rent.includes(t)})),d=b.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),g=s.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),z=j.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),C=b.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),_=n.credits.map((function(e){return e.debt})).reduce((function(e,t){return e+t}),0),P=n.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),K=5*n.children+n.expenses+z+g+C,E=a.a.useState(0),T=Object(l.a)(E,2),A=T[0],M=T[1],U=a.a.useState(!0),F=Object(l.a)(U,2),W=F[0],B=F[1],D=a.a.useState(0),N=Object(l.a)(D,2),V=N[0],q=N[1],L=a.a.useState(!1),H=Object(l.a)(L,2),J=H[0],Q=H[1],X=a.a.useState(!1),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=a.a.useState(!1),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],re=a.a.useState(!1),ae=Object(l.a)(re,2),se=ae[0],je=ae[1],oe=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(n._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a.a.useEffect((function(){var t=setInterval((function(){n.balance<n.debts+_&&n.credits.length>=5&&s.length<=1&&o.length<=0&&j.length<=0&&b.length<=0&&$(!0),n.age>=720&&ce(!0),.13*n.deposit.amount/12+d>2*(K+P)&&je(!0),n.onGame&&M((function(e){return e>=1198?1198:e+1})),1198==A&&(n.debts>=0&&Q(!0),M(0)),100!=A&&200!=A&&300!=A&&400!=A&&500!=A&&600!=A&&700!=A&&800!=A&&900!=A&&1e3!=A&&1100!=A&&1197!=A||function(){var t=n.age+1,c=n.debts+K,r=Object(f.a)(Object(f.a)({},n),{},{credits:function(e){for(var t=[],n=0;n<e.length;n++){var c=e[n];c.debt>=c.amount?t.push({id:c.id,amount:c.amount,debt:c.debt,payment:c.payment}):t.push({id:c.id,amount:c.amount,debt:c.debt+c.payment,payment:c.payment})}return t.sort((function(e,t){return e.id-t.id}))}(n.credits),debts:c,age:t});e(R(r)),oe(r)}();var t=+new Date;n.deposit.date<=t&&(B(!1),q(100)),W&&q(Math.round(100-(n.deposit.date-t)/10/120)),n.deposit.date>t&&B(!0)}),100);return function(){clearInterval(t)}}),[A]);var be={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"background.paper",borderRadius:"10px",boxShadow:24,p:4},ue=function(){return Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)(tt.a,{sx:{fontSize:40,color:I.a[500],marginTop:"15px"}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:'\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0421\u0434\u0435\u043b\u043a\u0438"'})]})},le=function(){return Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)($e.a,{sx:{fontSize:40,color:I.a[500],marginTop:"15px"}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0432\u043a\u043b\u0430\u0434\u0430"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:'\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432\u043a\u043b\u0430\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"'})]})},de=function(){return Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)(Xe.a,{sx:{fontSize:40,color:I.a[500],marginTop:"15px"}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:'\u0421\u0434\u0430\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c"'})]})};return Object(ie.jsxs)(k.a,{disableGutters:!0,children:[n.onGame?Object(ie.jsxs)(ie.Fragment,{children:[0!=n.salary&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),Object(ie.jsx)(Je,{})]}),Object(ie.jsxs)(ye.a,{dense:!0,children:[o.length>=1?Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0411\u0438\u0437\u043d\u0435\u0441\u044b"}):Object(ie.jsx)(ue,{}),o.map((function(e,t){return Object(ie.jsx)(qe,{biz:e},t)}))]}),Object(ie.jsx)(ye.a,{dense:!0,children:0!=n.deposit.amount?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0412\u043a\u043b\u0430\u0434"}),Object(ie.jsxs)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{alignItems:"flex-end",children:[Object(ie.jsxs)(m.a,{variant:"h6",children:[Math.round(.13*n.deposit.amount)," K"]}),Object(ie.jsx)(v.a,{onClick:function(){return function(){var t=n.balance+Math.round(.13*n.deposit.amount),c=Object(f.a)(Object(f.a)({},n.deposit),{},{date:+new Date+12e4}),r=Object(f.a)(Object(f.a)({},n),{},{balance:t,deposit:c});e(R(r)),oe(r)}()},color:"primary",disabled:W,variant:"contained",size:"small",children:Object(ie.jsx)(Ge.a,{})})]}),children:[Object(ie.jsx)(ze.a,{children:Object(ie.jsx)(w.a,{sx:{bgcolor:"white"},children:Object(ie.jsx)($e.a,{color:"action"})})}),Object(ie.jsx)(S.a,{primary:Object(ie.jsxs)(a.a.Fragment,{children:["\u0412\u043a\u043b\u0430\u0434: ",n.deposit.amount,"\u041a",Object(ie.jsx)("br",{})]}),secondary:Object(ie.jsx)(Ce.a,{sx:{width:.5},variant:"determinate",value:V,color:"inherit"})})]})]}):Object(ie.jsx)(le,{})}),Object(ie.jsxs)(ye.a,{dense:!0,children:[b.length>=1?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0410\u0440\u0435\u043d\u0434\u0430"})}):Object(ie.jsx)(de,{}),b.map((function(e){return Object(ie.jsx)(Ye,{house:e},e._id)}))]}),Object(ie.jsx)(y.a,{})]}):Object(ie.jsx)(p.a,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u041d\u0435 \u0432 \u0438\u0433\u0440\u0435"})}),Object(ie.jsx)(ke.a,{open:J,onClose:function(){return Q(!1)},children:Object(ie.jsxs)(Se.a,{sx:be,children:[Object(ie.jsxs)(m.a,{children:["\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c ",n.debts," K"]}),Object(ie.jsx)("br",{}),Object(ie.jsx)(m.a,{variant:"caption",children:'\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0433\u0430\u0441\u0438\u0442\u044c \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"'})]})}),Object(ie.jsx)(ke.a,{open:se,onClose:function(){return je(!1)},children:Object(ie.jsxs)(Se.a,{sx:be,children:[Object(ie.jsx)(m.a,{children:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c!  \ud83e\udd73"}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(m.a,{variant:"caption",children:["\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u044b \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 ",Object(ie.jsx)("b",{children:Math.trunc(n.age/12)}),", \u0441 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0435\u0439 ",Object(ie.jsx)("b",{children:n.prof}),", \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u043f\u0430\u0441\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 ",Object(ie.jsx)("b",{children:Math.round(.13*n.deposit.amount/12+d)})]}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),Object(ie.jsx)(_e.a,{onClick:function(){return function(){var c={id:+new Date,prof:n.prof,age:Math.trunc(n.age/12),cashflow:Math.round(.13*n.deposit.amount/12+d)},r=Object(f.a)(Object(f.a)({},n),{},{records:[].concat(Object(ge.a)(n.records),[c])});e(R(r)),oe(r),t("/register")}()},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(ie.jsx)(ke.a,{open:Z,children:Object(ie.jsxs)(Se.a,{sx:be,children:[Object(ie.jsx)(m.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(ie.jsx)("br",{}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u0412\u044b \u0431\u0430\u043d\u043a\u0440\u043e\u0442 \ud83d\ude25"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),Object(ie.jsx)(_e.a,{onClick:function(){return t("/register")},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(ie.jsx)(ke.a,{open:ne,children:Object(ie.jsxs)(Se.a,{sx:be,children:[Object(ie.jsx)(m.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(ie.jsx)("br",{}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430 \ud83d\ude25"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("br",{}),Object(ie.jsx)(_e.a,{onClick:function(){return t("/register")},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})})]})},ct=n(417),rt=n(451);var at=function(e){var t=e.biz,n=Object(x.b)(),c=Object(x.c)((function(e){return e.user.user})),r=Object(x.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return c.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0),i=a.a.useState(!1),s=Object(l.a)(i,2),j=s[0],o=s[1],b=a.a.useState(!0),d=Object(l.a)(b,2),h=d[0],v=d[1],g=function(){return Object(ie.jsx)(Be.a,{color:"warning"})},y=function(){return Object(ie.jsx)(Ne.a,{color:"success"})},w=function(){return Object(ie.jsx)(Ve.a,{color:"secondary"})},z=a.a.useState((function(){return Object(ie.jsx)(C.a,{animation:"wave",variant:"circular",width:40,height:40})})),k=Object(l.a)(z,2),_=k[0],P=k[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?P(w):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?P(g):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType&&P(y),t.bizPrice<=c.balance&&t.requiredTime<=c.time-(r+c.workTime)&&v(!1),(t.bizPrice>c.balance||t.requiredTime>c.time-(r+c.workTime))&&v(!0)}),[t,c.balance]);var I=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e,t){var r=c.balance-t,a=[].concat(Object(ge.a)(c.bizs),[e]),i=Object(f.a)(Object(f.a)({},c),{},{balance:r,bizs:a});n(R(i)),I(i)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{justifyContent:"flex-end",direction:"column",children:[Object(ie.jsxs)(m.a,{variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.bizPrice,"K"]}),Object(ie.jsx)(_e.a,{disabled:h,onClick:function(){K(t._id,t.bizPrice)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]}),children:[Object(ie.jsx)(ze.a,{onClick:function(){return o(!0)},children:_}),Object(ie.jsx)(S.a,{primary:t.bizName,secondary:Object(ie.jsxs)(a.a.Fragment,{children:[Object(ie.jsxs)(m.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(ie.jsxs)("b",{children:[t.maxProfit," K"]})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(m.a,{variant:"caption",children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(ie.jsxs)("b",{children:[t.requiredTime,"\u0447."]})]})]})})]}),Object(ie.jsx)(Pe.a,{variant:"inset",component:"li"}),Object(ie.jsx)("br",{}),Object(ie.jsxs)(Ie.a,{open:j,onClose:function(){return o(!1)},fullWidth:!0,children:[Object(ie.jsx)(Ke.a,{children:t.bizName}),Object(ie.jsx)(Ee.a,{children:Object(ie.jsxs)(Te.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(ie.jsx)("b",{children:t.bizType}),Object(ie.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u044d\u043d\u0435\u0440\u0433\u0438\u0438: ",Object(ie.jsx)("b",{children:t.requiredEnergy}),Object(ie.jsx)("br",{}),"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(ie.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(ie.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(ie.jsxs)("b",{children:[t.maxProfit," K"]}),Object(ie.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(ie.jsxs)("b",{children:[t.minProfit," K"]}),Object(ie.jsx)("br",{}),"\u0420\u0438\u0441\u043a: ",Object(ie.jsx)("b",{children:t.risk}),Object(ie.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(ie.jsxs)("b",{children:[t.sellPrice," K"]}),Object(ie.jsx)("br",{})]})}),Object(ie.jsxs)(Ae.a,{children:[Object(ie.jsx)(_e.a,{disabled:h,onClick:function(){K(t._id,t.bizPrice),o(!1)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(ie.jsx)(_e.a,{onClick:function(){return o(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})};var it=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.bizs.bizs})),n=new Set(e.bizs),c=t.filter((function(e){var t=e._id;return!n.has(t)}));return Object(ie.jsx)(ie.Fragment,{children:c.length>=1?Object(ie.jsx)(ye.a,{children:c.map((function(e,t){return Object(ie.jsx)(at,{biz:e},t)}))}):Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(tt.a,{sx:{fontSize:40,color:I.a[500]}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})},st=n(430),jt=n(447),ot=n(448),bt=n(449),ut=n(450);var lt=function(e){var t=e.car,n=e.isMy,c=Object(x.b)(),r=Object(x.c)((function(e){return e.user.user})),i=Object(x.c)((function(e){return e.cars.cars})).filter((function(e){var t=e._id;return r.car.includes(t)})),s=a.a.useState(!0),j=Object(l.a)(s,2),o=j[0],b=j[1];a.a.useEffect((function(){r.balance>t.price&&b(!1)}),[r.balance]);var d=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(r._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsx)(st.a,{item:!0,children:Object(ie.jsxs)(jt.a,{children:[Object(ie.jsx)(ot.a,{component:"img",height:"140",image:"http://localhost:4444".concat(t.imageUrl)}),Object(ie.jsxs)(bt.a,{children:[n?Object(ie.jsx)(m.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}):Object(ie.jsxs)(m.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(ie.jsxs)(m.a,{gutterBottom:!0,variant:"body2",children:[" \u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(ie.jsx)(m.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(ie.jsxs)(m.a,{variant:"caption",color:"text.secondary",children:["\u0412\u0440\u0435\u043c\u044f: ",Object(ie.jsxs)("b",{children:["+",t.time,"\u0447"]}),Object(ie.jsx)("br",{}),"\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(ie.jsxs)("b",{children:["+",t.energy]}),Object(ie.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(ie.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(ie.jsx)("br",{}),"\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(ie.jsxs)("b",{children:[t.sellPrice," \u041a"]}),Object(ie.jsx)("br",{})]})]}),Object(ie.jsx)(ut.a,{children:n?Object(ie.jsx)(_e.a,{size:"small",onClick:function(){return function(){var e=r.balance+t.sellPrice,a=i.filter((function(e){return e._id!==n})),s=r.maxEnergy-t.energy,j=r.time-t.time,o=Object(f.a)(Object(f.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:s,time:j});c(R(o)),d(o)}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}):Object(ie.jsx)(_e.a,{disabled:o,size:"small",onClick:function(){return function(){var e=r.balance-t.price,n=[].concat(Object(ge.a)(r.car),[t._id]),a=r.maxEnergy+t.energy,i=r.time+t.time,s=Object(f.a)(Object(f.a)({},r),{},{balance:e,car:n,maxEnergy:a,time:i});c(R(s)),d(s)}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},dt=n(165),Ot=n.n(dt);var xt=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.cars.cars})),n=new Set(e.car),c=t.filter((function(e){var t=e._id;return!n.has(t)}));return Object(ie.jsx)(ie.Fragment,{children:c.length>=1?Object(ie.jsx)(st.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:c.map((function(e,t){return Object(ie.jsx)(lt,{car:e},t)}))}):Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(Ot.a,{sx:{fontSize:40,color:I.a[500]}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})};var ht=function(e){var t=e.house,n=e.isMy,c=e.isRent,r=Object(x.b)(),i=Object(x.c)((function(e){return e.user.user})),s=Object(x.c)((function(e){return e.houses.houses})),j=s.filter((function(e){var t=e._id;return i.house.includes(t)})),o=s.filter((function(e){var t=e._id;return i.rent.includes(t)})),b=a.a.useState(!0),d=Object(l.a)(b,2),h=d[0],v=d[1];a.a.useEffect((function(){n?c?v(!1):(j.length>1&&v(!1),j.length<=1&&v(!0)):i.balance>t.price&&v(!1)}),[j]);var g=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(i._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsx)(st.a,{item:!0,children:Object(ie.jsxs)(jt.a,{children:[Object(ie.jsx)(ot.a,{component:"img",height:"140",image:"http://localhost:4444".concat(t.imageUrl)}),Object(ie.jsxs)(bt.a,{children:[n?Object(ie.jsxs)(p.a,{direction:"row",children:[Object(ie.jsx)(m.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),c&&Object(ie.jsx)(m.a,{variant:"subtitle2",sx:{marginLeft:"auto"},children:"\u0432 \u0430\u0440\u0435\u043d\u0434\u0435"})]}):Object(ie.jsxs)(m.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(ie.jsxs)(m.a,{gutterBottom:!0,variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(ie.jsx)(m.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(ie.jsxs)(m.a,{variant:"caption",color:"text.secondary",children:["\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(ie.jsxs)("b",{children:["+",t.energy]}),Object(ie.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(ie.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(ie.jsx)("br",{}),"\u0421\u0434\u0430\u0447\u0430 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443: ",Object(ie.jsxs)("b",{children:[t.rentPrice," \u041a/\u043c\u0435\u0441"]})]})]}),Object(ie.jsx)(ut.a,{children:n?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(_e.a,{disabled:h,size:"small",onClick:function(){return function(){var e=i.balance+t.price,c=j.filter((function(e){return e._id!==n})),a=i.maxEnergy-t.energy,s=Object(f.a)(Object(f.a)({},i),{},{balance:e,house:c.map((function(e){return e._id})),maxEnergy:a});r(R(s)),g(s)}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),c?Object(ie.jsx)(_e.a,{disabled:h,size:"small",onClick:function(){return function(){var e=[].concat(Object(ge.a)(i.house),[t._id]),n=i.maxEnergy+t.energy,c=o.filter((function(e){return e._id!==t._id})),a=Object(f.a)(Object(f.a)({},i),{},{house:e,maxEnergy:n,rent:c.map((function(e){return e._id}))});r(R(a)),g(a)}()},children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0441 \u0430\u0440\u0435\u043d\u0434\u044b"}):Object(ie.jsx)(_e.a,{disabled:h,size:"small",onClick:function(){return function(){var e=j.filter((function(e){return e._id!==n})),c=i.maxEnergy-t.energy,a=[].concat(Object(ge.a)(i.rent),[t._id]),s=Object(f.a)(Object(f.a)({},i),{},{house:e.map((function(e){return e._id})),maxEnergy:c,rent:a});r(R(s)),g(s)}()},children:"\u0421\u0434\u0430\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"})]}):Object(ie.jsx)(_e.a,{disabled:h,size:"small",onClick:function(){return function(){var e=i.balance-t.price,n=[].concat(Object(ge.a)(i.house),[t._id]),c=i.maxEnergy+t.energy,a=Object(f.a)(Object(f.a)({},i),{},{balance:e,house:n,maxEnergy:c});r(R(a)),g(a)}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},ft=n(166),pt=n.n(ft);var mt=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.houses.houses})),n=new Set(e.house),c=t.filter((function(e){var t=e._id;return!n.has(t)})),r=new Set(e.rent),a=c.filter((function(e){var t=e._id;return!r.has(t)}));return Object(ie.jsx)(ie.Fragment,{children:a.length>=1?Object(ie.jsx)(st.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:a.map((function(e,t){return Object(ie.jsx)(ht,{house:e},t)}))}):Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(pt.a,{sx:{fontSize:40,color:I.a[500]}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})};var vt=function(){var e=a.a.useState("one"),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(ie.jsxs)(Se.a,{sx:{width:"100%"},children:[Object(ie.jsxs)(ct.a,{value:n,onChange:function(e,t){c(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(ie.jsx)(rt.a,{value:"one",label:"\u0411\u0438\u0437\u043d\u0435\u0441"}),Object(ie.jsx)(rt.a,{value:"two",label:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(ie.jsx)(rt.a,{value:"three",label:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})]}),"one"===n&&Object(ie.jsx)(it,{}),"two"===n&&Object(ie.jsx)(xt,{}),"three"===n&&Object(ie.jsx)(mt,{}),Object(ie.jsx)(y.a,{})]})};var gt=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.cars.cars})),n=Object(x.c)((function(e){return e.houses.houses})),c=Object(x.c)((function(e){return e.bizs.bizs})),r=n.filter((function(t){var n=t._id;return e.house.includes(n)})),i=r.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),s=r.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),j=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),o=j.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),b=j.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),d=t.filter((function(t){var n=t._id;return e.car.includes(n)})),h=d.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),v=d.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),g=c.filter((function(t){var n=t._id;return e.bizs.includes(n)})).map((function(e){return e.maxProfit})).reduce((function(e,t){return e+t}),0),w=e.credits.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),z=e.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),C=a.a.useState(!0),_=Object(l.a)(C,2),P=(_[0],_[1]),I=a.a.useState(!1),K=Object(l.a)(I,2),E=K[0],T=K[1],A=Object(x.b)();a.a.useEffect((function(){e.debts>0&&P(!1)}),[e]);var M=function(){var t=Object(u.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.patch("/auth/".concat(e._id),n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ie.jsxs)(k.a,{disableGutters:!0,children:[Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0414\u043e\u043b\u0433\u0438"})}),Object(ie.jsxs)(ye.a,{children:[e.credits.map((function(t,n){return Object(ie.jsx)(we.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{alignItems:"flex-end",children:[Object(ie.jsxs)(m.a,{variant:"body1",children:["\u0414\u043e\u043b\u0433: ",t.debt," K"]}),Object(ie.jsx)(_e.a,{disabled:!t.debt>0,onClick:function(){return function(t,n,c,r){if(c>e.balance)T(!0);else{var a=e.balance-c,i=e.credits.filter((function(e){return e.id!=t})),s={id:t,amount:n-c,debt:0,payment:r};if(s.amount>0){var j=Object(f.a)(Object(f.a)({},e),{},{balance:a,credits:[].concat(Object(ge.a)(i),[s]).sort((function(e,t){return e.id-t.id}))});A(R(j)),M(j)}else{var o=Object(f.a)(Object(f.a)({},e),{},{balance:a,credits:i.sort((function(e,t){return e.id-t.id}))});A(R(o)),M(o)}}}(t.id,t.amount,t.debt,t.payment)},size:"small",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})]}),children:Object(ie.jsx)(S.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(t.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(ie.jsxs)(m.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",t.payment," K"]})})},n)})),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{alignItems:"flex-end",children:[Object(ie.jsxs)(m.a,{variant:"body1",children:[e.debts," K"]}),Object(ie.jsx)(_e.a,{disabled:!e.debts>0,onClick:function(){return function(){if(e.balance<e.debts)T(!0);else{var t=e.balance-e.debts,n=Object(f.a)(Object(f.a)({},e),{},{balance:t,debts:0});A(R(n)),M(n)}}()},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(ie.jsx)(S.a,{primary:"\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f",secondary:"\u041f\u043e\u0433\u0430\u0448\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u043e"})})]}),Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0414\u043e\u0445\u043e\u0434\u044b"})}),Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"green"},children:[Math.round(.13*e.deposit.amount/12)," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"green"},children:[o," \u041a/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0430\u0440\u0435\u043d\u0434\u044b"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"green"},children:[e.salary," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"green"},children:["~ ",g," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"subtitle1",sx:{color:"green"},children:["~ ",Math.round(.13*e.deposit.amount/12)+o+e.salary+g," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{sx:{color:"green"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"})}),Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"red"},children:[z," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u043c"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"red"},children:[s+b," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"red"},children:[v," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"red"},children:[e.expenses," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body2",sx:{color:"red"},children:[5*e.children," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u0435\u0442\u0435\u0439"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"subtitle1",sx:{color:"red"},children:[5*e.children+e.expenses+v+s+b+z," K/\u043c\u0435\u0441"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{sx:{color:"red"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0410\u043a\u0442\u0438\u0432\u044b"})}),Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[e.deposit.amount," K"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0412\u043a\u043b\u0430\u0434\u044b"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[i," K"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"})})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[h," K"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"})})})]}),Object(ie.jsx)(p.a,{direction:"row",children:Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u044b"})}),Object(ie.jsx)(ye.a,{children:Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[w," K"]}),children:Object(ie.jsx)(S.a,{primary:Object(ie.jsx)(m.a,{variant:"body2",children:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b \u043d\u0430 \u0441\u0443\u043c\u043c\u0443"})})})}),Object(ie.jsx)(ke.a,{open:E,onClose:function(){return T(!1)},children:Object(ie.jsx)(Se.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"background.paper",borderRadius:"10px",boxShadow:24,p:4},children:Object(ie.jsx)(m.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(ie.jsx)(y.a,{})]})},yt=n(452),wt=n(421),zt=n(416),Ct=n(432);var kt=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.user.user})),n=a.a.useState(""),c=Object(l.a)(n,2),r=c[0],i=c[1],s=a.a.useState(""),j=Object(l.a)(s,2),o=j[0],b=j[1],d=a.a.useState(0),h=Object(l.a)(d,2),v=h[0],g=h[1],y=a.a.useState(""),w=Object(l.a)(y,2),z=w[0],C=w[1],k=a.a.useState(!1),_=Object(l.a)(k,2),P=_[0],I=_[1],K=a.a.useState(!1),E=Object(l.a)(K,2),T=E[0],A=E[1],M=a.a.useState(!1),U=Object(l.a)(M,2),F=U[0],W=U[1],B=a.a.useState(!1),D=Object(l.a)(B,2),N=D[0],V=D[1],q=function(){var e=Object(u.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(t._id),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a.a.useEffect((function(){""!=r&&""!=o&&I(!0)}),[o,r]);var L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"background.paper",borderRadius:"10px",boxShadow:24,p:4};return Object(ie.jsxs)(Se.a,{sx:{width:"100%"},children:[Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442"}),Object(ie.jsxs)(st.a,{container:!0,spacing:1,children:[Object(ie.jsx)(st.a,{item:!0,xs:6,children:Object(ie.jsxs)(yt.a,{fullWidth:!0,sx:{marginTop:"10px"},error:!0,children:[Object(ie.jsx)(wt.a,{id:"credit-amount-label",children:"\u0421\u0443\u043c\u043c\u0430"}),Object(ie.jsxs)(zt.a,{labelId:"credit-amount-label",id:"credit-amount-select",value:r,label:"Amount",onChange:function(e){i(e.target.value)},children:[Object(ie.jsx)(Ct.a,{value:100,children:"100 \u041a"}),Object(ie.jsx)(Ct.a,{value:200,children:"200 \u041a"}),Object(ie.jsx)(Ct.a,{value:500,children:"500 \u041a"}),Object(ie.jsx)(Ct.a,{value:1e3,children:"1000 \u041a"}),Object(ie.jsx)(Ct.a,{value:5e3,children:"5000 \u041a"})]})]})}),Object(ie.jsx)(st.a,{item:!0,xs:6,children:Object(ie.jsxs)(yt.a,{fullWidth:!0,sx:{marginTop:"10px"},children:[Object(ie.jsx)(wt.a,{id:"credit-term-label",children:"\u0421\u0440\u043e\u043a"}),Object(ie.jsxs)(zt.a,{labelId:"credit-term-label",id:"credit-term-select",value:o,label:"Term",onChange:function(e){b(e.target.value)},children:[Object(ie.jsx)(Ct.a,{value:12,children:"12 \u043c\u0435\u0441"}),Object(ie.jsx)(Ct.a,{value:24,children:"24 \u043c\u0435\u0441"}),Object(ie.jsx)(Ct.a,{value:60,children:"60 \u043c\u0435\u0441"}),Object(ie.jsx)(Ct.a,{value:120,children:"120 \u043c\u0435\u0441"}),Object(ie.jsx)(Ct.a,{value:240,children:"240 \u043c\u0435\u0441"})]})]})})]}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0438 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442 \u043f\u043e\u0434 ~18% \u0433\u043e\u0434\u043e\u0432\u044b\u0445"}),Object(ie.jsx)(p.a,{direction:"column",children:Object(ie.jsx)(_e.a,{sx:{marginTop:"15px"},disabled:!P,size:"small",variant:"contained",onClick:function(){return g(Math.round((.18*r*(o/12)+r)/o)),C(Math.round((.18*r*(o/12)+r)/o)*o),void A(!0)},children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),T&&Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[v," K"]}),children:Object(ie.jsx)(S.a,{primary:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[z," K"]}),children:Object(ie.jsx)(S.a,{primary:"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u0430"})}),Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[r," K"]}),children:Object(ie.jsx)(S.a,{primary:"\u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u0430"})}),Object(ie.jsx)(p.a,{direction:"column",children:Object(ie.jsx)(_e.a,{onClick:function(){return function(){if(t.credits.length>=5)V(!0);else{var n={id:+new Date,amount:z,debt:0,payment:v},c=[].concat(Object(ge.a)(t.credits),[n]),a=t.balance+r,i=Object(f.a)(Object(f.a)({},t),{},{balance:a,credits:c.sort((function(e,t){return e.id-t.id}))});e(R(i)),q(i)}}()},sx:{marginTop:"10px"},disabled:!P,size:"small",variant:"contained",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})})]}),Object(ie.jsxs)(ye.a,{children:[t.credits.length>=1&&Object(ie.jsx)(m.a,{variant:"overline",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044b\u0435"}),t.credits.map((function(n,c){return Object(ie.jsx)(we.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(ie.jsxs)(p.a,{alignItems:"flex-end",children:[Object(ie.jsxs)(m.a,{variant:"body1",children:["\u0421\u0443\u043c\u043c\u0430 ",n.amount," K"]}),Object(ie.jsx)(_e.a,{onClick:function(){return function(n,c){if(c>t.balance)W(!0);else{var r=t.balance-c,a=t.credits.filter((function(e){return e.id!=n})),i=Object(f.a)(Object(f.a)({},t),{},{balance:r,credits:a.sort((function(e,t){return e.id-t.id}))});e(R(i)),q(i)}}(n.id,n.amount)},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(ie.jsx)(S.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(n.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(ie.jsxs)(m.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",n.payment," K"]})})},c)}))]}),Object(ie.jsx)(ke.a,{open:F,onClose:function(){return W(!1)},children:Object(ie.jsx)(Se.a,{sx:L,children:Object(ie.jsx)(m.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(ie.jsx)(ke.a,{open:N,onClose:function(){return V(!1)},children:Object(ie.jsx)(Se.a,{sx:L,children:Object(ie.jsx)(m.a,{children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432 \ud83d\ude25"})})})]})},St=n(422);var _t=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.user.user})),n=a.a.useState(0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=a.a.useState(0),j=Object(l.a)(s,2),o=j[0],b=j[1],d=a.a.useState(!0),h=Object(l.a)(d,2),v=h[0],g=h[1],y=a.a.useState(!0),w=Object(l.a)(y,2),z=w[0],C=w[1];a.a.useEffect((function(){r>t.balance&&g(!0),r<=t.balance&&g(!1),r<=0&&g(!0)}),[r,t]),a.a.useEffect((function(){o>t.deposit.amount&&C(!0),o<=t.deposit.amount&&C(!1),o<=0&&C(!0)}),[o,t]);var k=function(){var e=Object(u.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(t._id),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsx)(Se.a,{sx:{width:"100%"},children:Object(ie.jsxs)(p.a,{direction:"column",spacing:1,children:[Object(ie.jsx)(ye.a,{children:Object(ie.jsx)(we.a,{disablePadding:!0,secondaryAction:Object(ie.jsxs)(m.a,{variant:"body1",children:[t.deposit.amount," K"]}),children:Object(ie.jsx)(S.a,{primary:"\u0412\u043a\u043b\u0430\u0434"})})}),Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(ie.jsx)(St.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){i(e.target.value)},InputLabelProps:{shrink:!0}}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c ~13% \u0432 \u0433\u043e\u0434"}),Object(ie.jsx)(_e.a,{sx:{marginTop:"15px"},disabled:v,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount+Number(r),date:+new Date+12e4},c=t.balance-Number(r),a=Object(f.a)(Object(f.a)({},t),{},{balance:c,deposit:n});e(R(a)),k(a)}()},children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u0421\u043d\u044f\u0442\u044c"}),Object(ie.jsx)(St.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){b(e.target.value)},InputLabelProps:{shrink:!0}}),Object(ie.jsx)(_e.a,{sx:{marginTop:"15px"},disabled:z,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount-Number(o),date:+new Date+12e4},c=t.balance+Number(o),r=Object(f.a)(Object(f.a)({},t),{},{balance:c,deposit:n});e(R(r)),k(r)}()},children:"\u0421\u043d\u044f\u0442\u044c"})]})})};var Pt=function(){var e=a.a.useState("one"),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(ie.jsxs)(Se.a,{sx:{width:"100%"},children:[Object(ie.jsxs)(ct.a,{value:n,onChange:function(e,t){c(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(ie.jsx)(rt.a,{value:"one",label:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"}),Object(ie.jsx)(rt.a,{value:"two",label:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b"}),Object(ie.jsx)(rt.a,{value:"three",label:"\u0412\u043a\u043b\u0430\u0434\u044b"})]}),"one"===n&&Object(ie.jsx)(gt,{}),"two"===n&&Object(ie.jsx)(kt,{}),"three"===n&&Object(ie.jsx)(_t,{}),Object(ie.jsx)(y.a,{})]})},It=n(413);var Kt=function(e){var t=e.fetchedUser,n=Object(x.b)(),c=Object(h.m)(),r=a.a.useState(!0),i=Object(l.a)(r,2),s=i[0],j=i[1],o=function(){var e=Object(u.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/auth/me/".concat(t.id)).then((function(e){var t=e.data;n(R(t)),j(!1)})).catch((function(){console.log("user not found")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&o(),Object(ie.jsxs)(k.a,{disableGutters:!0,children:[Object(ie.jsx)(It.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(ie.jsx)(_e.a,{disabled:s,onClick:function(){return c("/main/main")},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(ie.jsx)(_e.a,{disabled:s,onClick:function(){return c("/register")},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"}),Object(ie.jsx)(_e.a,{onClick:function(){return c("/training")},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(ie.jsx)(_e.a,{onClick:function(){return c("/settings")},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})},Et=n(455);var Tt=function(e){var t=e.fetchedUser,n=Object(x.b)(),c=Object(h.m)(),r=Object(x.c)((function(e){return e.user.profs})),i=Object(x.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(l.a)(s,2),o=j[0],b=j[1],d=a.a.useState(),f=Object(l.a)(d,2),v=f[0],g=f[1],w=a.a.useState(0),z=Object(l.a)(w,2),C=z[0],S=z[1],_=a.a.useState(!0),P=Object(l.a)(_,2),I=P[0],K=P[1];a.a.useEffect((function(){var e=setInterval((function(){I&&S((function(e){return e>=10?10:e+1})),10==C&&I&&E()}),200);return function(){clearInterval(e)}}),[C,I,i]);var E=function(){var e,t,n=(e=0,t=r.length-1,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);g(r[n])},T=function(){var e=Object(u.a)(O.a.mark((function e(){var c,r,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!1),0!=Object.keys(i).length){e.next=10;break}return c={amount:0,date:+new Date},r={firstName:t.first_name,prof:v.profName,workTime:8,salary:v.salary,userId:t.id,balance:100,debts:0,age:v.age,children:v.childCount,house:v.house,car:v.car,rent:[],bizs:[],deposit:c,credits:[],records:[],expenses:v.expenses,onGame:!0,time:10,energy:100,maxEnergy:100,energizer:0,freeEnergizerOn:!0},console.log(r),e.next=7,G.post("/auth/register",r).then((function(e){n(R(e.data.user))}));case 7:b(!0),e.next=16;break;case 10:return a={amount:0,date:+new Date},s={_id:i._id,firstName:i.firstName,prof:v.profName,workTime:8,salary:v.salary,userId:i.userId,balance:100,debts:0,age:v.age,children:v.childCount,house:v.house,car:v.car,rent:[],bizs:[],deposit:a,credits:[],records:i.records,expenses:v.expenses,datePoint:i.datePoint,freeEnergizer:i.freeEnergizer,onGame:!0,time:10,energy:100,maxEnergy:100,energizer:0,freeEnergizerOn:!0,lifesCount:i.lifesCount+1},n(R(s)),e.next=15,G.patch("/auth/".concat(i._id),s);case 15:b(!0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(k.a,{disableGutters:!0,children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsxs)(p.a,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[v?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(m.a,{variant:"subtitle1",children:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f:"}),Object(ie.jsx)(m.a,{variant:"h6",children:v.profName}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e"}),Object(ie.jsx)(_e.a,{disabled:!I,onClick:function(){return T()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]}):Object(ie.jsx)(Et.a,{}),o&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(m.a,{variant:"caption",children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e ",Object(ie.jsx)("b",{children:i.prof})]}),Object(ie.jsxs)(m.a,{variant:"caption",children:["\u0412\u0430\u0448\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430 ",Object(ie.jsx)("b",{children:i.salary})," \u041a, \u0412\u0430\u043c ",Object(ie.jsx)("b",{children:i.age/12}),", \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0435\u0439: ",Object(ie.jsx)("b",{children:i.children}),"."]}),Object(ie.jsx)(m.a,{variant:"caption",children:Object(ie.jsx)("b",{children:"\u0423\u0434\u0430\u0447\u043d\u043e\u0439 \u0438\u0433\u0440\u044b!"})}),Object(ie.jsx)(_e.a,{onClick:function(){return c("/main/main")},children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]})]})]})};var At=function(e){e.fetchedUser;var t=Object(h.m)();return Object(ie.jsxs)(k.a,{disableGutters:!0,children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsxs)(p.a,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[Object(ie.jsx)(m.a,{children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f"}),Object(ie.jsx)(_e.a,{onClick:function(){return t("/register")},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(ie.jsx)(y.a,{})]})]})};var Mt=function(e){return e.fetchedUser,Object(ie.jsxs)(Se.a,{children:[Object(ie.jsx)(m.a,{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(ie.jsx)(y.a,{})]})},Ut=n(167),Ft=n.n(Ut);var Gt=function(e){e.fetchedUser;var t=Object(x.b)(),n=Object(h.m)(),c=Object(x.c)((function(e){return e.user.user})),r=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(k.a,{disableGutters:!0,children:[Object(ie.jsx)(It.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsxs)(p.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(ie.jsx)(Ft.a,{sx:{fontSize:40}}),Object(ie.jsx)(m.a,{variant:"h6",children:"\u041f\u0410\u0423\u0417\u0410"}),Object(ie.jsx)(m.a,{variant:"caption",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u0438\u0438"}),Object(ie.jsx)(_e.a,{onClick:function(){return function(){var e=Object(f.a)(Object(f.a)({},c),{},{onGame:!0,energy:c.maxEnergy});t(R(e)),r(e),n("/main/main")}()},children:"\u0418\u0433\u0440\u0430\u0442\u044c"})]})]})};var Wt=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(x.c)((function(e){return e.cars.cars})),n=Object(x.c)((function(e){return e.houses.houses})),c=n.filter((function(t){var n=t._id;return e.house.includes(n)})),r=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),a=t.filter((function(t){var n=t._id;return e.car.includes(n)}));return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(m.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(ie.jsx)(st.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:c.map((function(e,t){return Object(ie.jsx)(ht,{house:e,isMy:e._id},t)}))}),r.length>0&&Object(ie.jsx)(m.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(ie.jsx)(st.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:r.map((function(e,t){return Object(ie.jsx)(ht,{house:e,isMy:e._id,isRent:!0},e._id)}))}),a.length>0&&Object(ie.jsx)(m.a,{variant:"overline",children:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(ie.jsx)(st.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:a.map((function(e,t){return Object(ie.jsx)(lt,{car:e,isMy:e._id},e._id)}))}),Object(ie.jsx)(y.a,{})]})},Bt=n(138),Dt=n.n(Bt);var Nt=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.user.friends})),n=Object(x.c)((function(e){return e.user.users})).map((function(e){return e.userId})).map((function(e){return parseInt(e)})),c=t.filter((function(e){var t=e.id;return n.includes(t)}));function r(){return(r=Object(u.a)(O.a.mark((function t(){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.send("VKWebAppGetAuthToken",{app_id:51483243,scope:"friends"});case 2:return n=t.sent,t.next=5,b.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{order:"hints",fields:"photo_100",v:"5.131",access_token:n.access_token}});case 5:c=t.sent,e(q(c.response.items));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(ie.jsxs)(k.a,{children:[0==t.length?Object(ie.jsxs)(p.a,{direction:"column",alignItems:"center",spacing:1,children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(Dt.a,{sx:{fontSize:40,color:I.a[500]}}),Object(ie.jsx)(_e.a,{onClick:function(){return function(){return r.apply(this,arguments)}()},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439"})]}):Object(ie.jsx)(ie.Fragment,{children:0==c.length?Object(ie.jsxs)(p.a,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[Object(ie.jsx)(y.a,{}),Object(ie.jsx)(y.a,{}),Object(ie.jsx)(Dt.a,{sx:{fontSize:40,color:I.a[500]}}),Object(ie.jsx)(m.a,{sx:{color:I.a[700]},variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0435"}),Object(ie.jsx)(m.a,{sx:{color:I.a[700],padding:"20px"},variant:"caption",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0433\u0440\u0430\u044e\u0442 \u0432 \u044d\u0442\u0443 \u0438\u0433\u0440\u0443. \u0412\u044b \u0438\u0445 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c, \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u0442\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0442, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 5 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]}):Object(ie.jsx)(Se.a,{sx:{display:"flex"},children:Object(ie.jsx)(m.a,{children:"\u0414\u0440\u0443\u0437\u044c\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b"})})}),Object(ie.jsx)(y.a,{})]})};var Rt=function(){return Object(ie.jsxs)(Se.a,{sx:{width:"100%"},children:[Object(ie.jsx)(m.a,{children:"Raiting"}),Object(ie.jsx)(y.a,{})]})};var Vt,qt,Lt,Ht=function(){var e=a.a.useState("one"),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(ie.jsxs)(Se.a,{sx:{width:"100%"},children:[Object(ie.jsxs)(ct.a,{value:n,onChange:function(e,t){c(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(ie.jsx)(rt.a,{value:"one",label:"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c"}),Object(ie.jsx)(rt.a,{value:"two",label:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(ie.jsx)(rt.a,{value:"three",label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"})]}),"one"===n&&Object(ie.jsx)(Wt,{}),"two"===n&&Object(ie.jsx)(Nt,{}),"three"===n&&Object(ie.jsx)(Rt,{}),Object(ie.jsx)(y.a,{})]})},Jt=function(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(h.a,{})})},Qt=Object(F.b)("houses/getHouses",function(){var e=Object(u.a)(O.a.mark((function e(t,n){var c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,G.get("/houses");case 3:r=e.sent,c(Yt(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Xt=Object(F.c)({name:"houses",initialState:{houses:[]},reducers:{setHouses:function(e,t){e.houses=t.payload}},extraReducers:(Vt={},Object(U.a)(Vt,Qt.fulfilled,(function(){return console.log("houses \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")})),Object(U.a)(Vt,Qt.pending,(function(){return console.log("\u0437\u0430\u043f\u0440\u043e\u0441 houses")})),Object(U.a)(Vt,Qt.rejected,(function(){return console.log("\u043e\u0448\u0438\u0431\u043a\u0430 houses")})),Vt)}),Yt=Xt.actions.setHouses,Zt=Xt.reducer,$t=Object(F.b)("cars/getCars",function(){var e=Object(u.a)(O.a.mark((function e(t,n){var c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,G.get("/cars");case 3:r=e.sent,c(tn(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),en=Object(F.c)({name:"cars",initialState:{cars:[]},reducers:{setCars:function(e,t){e.cars=t.payload}},extraReducers:(qt={},Object(U.a)(qt,$t.fulfilled,(function(){return console.log("cars \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")})),Object(U.a)(qt,$t.pending,(function(){return console.log("\u0437\u0430\u043f\u0440\u043e\u0441 cars")})),Object(U.a)(qt,$t.rejected,(function(){return console.log("\u043e\u0448\u0438\u0431\u043a\u0430 cars")})),qt)}),tn=en.actions.setCars,nn=en.reducer,cn=Object(F.b)("bizs/getBizs",function(){var e=Object(u.a)(O.a.mark((function e(t,n){var c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,G.get("/bizs");case 3:r=e.sent,c(an(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),rn=Object(F.c)({name:"bizs",initialState:{bizs:[]},reducers:{setBizs:function(e,t){e.bizs=t.payload}},extraReducers:(Lt={},Object(U.a)(Lt,cn.fulfilled,(function(){return console.log("bizs \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")})),Object(U.a)(Lt,cn.pending,(function(){return console.log("\u0437\u0430\u043f\u0440\u043e\u0441 bizs")})),Object(U.a)(Lt,cn.rejected,(function(){return console.log("\u043e\u0448\u0438\u0431\u043a\u0430 bizs")})),Lt)}),an=rn.actions.setBizs,sn=rn.reducer,jn=n(119),on=(n(351),function(){var e=Object(r.useState)("bright_light"),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),i=Object(l.a)(a,2),s=i[0],j=i[1],o=(Object(h.m)(),Object(x.b)());return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(Qt()),o($t()),o(cn()),o(W()),o(B()),b.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;"VKWebAppUpdateConfig"===n&&c(r.scheme)})),function(){e.apply(this,arguments)}()}),[]),Object(ie.jsx)(jn.c,{scheme:n,isWebView:!0,children:Object(ie.jsx)(jn.a,{children:Object(ie.jsx)(jn.b,{children:Object(ie.jsxs)(h.d,{children:[Object(ie.jsx)(h.b,{path:"/",element:Object(ie.jsx)(Jt,{})}),Object(ie.jsx)(h.b,{index:!0,element:Object(ie.jsx)(Kt,{fetchedUser:s})}),Object(ie.jsx)(h.b,{path:"register",element:Object(ie.jsx)(Tt,{fetchedUser:s})}),Object(ie.jsx)(h.b,{path:"training",element:Object(ie.jsx)(At,{fetchedUser:s})}),Object(ie.jsx)(h.b,{path:"settings",element:Object(ie.jsx)(Mt,{fetchedUser:s})}),Object(ie.jsx)(h.b,{path:"pause",element:Object(ie.jsx)(Gt,{fetchedUser:s})}),Object(ie.jsxs)(h.b,{path:"main/",element:Object(ie.jsx)(ve,{fetchedUser:s}),children:[Object(ie.jsx)(h.b,{path:"main",element:Object(ie.jsx)(nt,{})}),Object(ie.jsx)(h.b,{path:"property",element:Object(ie.jsx)(vt,{})}),Object(ie.jsx)(h.b,{path:"bank",element:Object(ie.jsx)(Pt,{})}),Object(ie.jsx)(h.b,{path:"profile",element:Object(ie.jsx)(Ht,{})})]})]})})})})}),bn=Object(F.a)({reducer:{user:H,houses:Zt,cars:nn,bizs:sn}});b.a.send("VKWebAppInit"),s.a.render(Object(ie.jsx)(a.a.StrictMode,{children:Object(ie.jsx)(j.a,{children:Object(ie.jsx)(x.a,{store:bn,children:Object(ie.jsx)(on,{})})})}),document.getElementById("root"))}},[[352,1,2]]]);
//# sourceMappingURL=main.82047724.chunk.js.map