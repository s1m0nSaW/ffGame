(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{505:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n.n(r),i=n(49),s=n.n(i),j=n(22),o=n.n(j),b=n(20),l=n(7),u=n(15),d=n.n(u),O=n(13),x=n(21),h=n(3),f=n(565).a.create({baseURL:"https://financial-freedom-game.ru"}),p="/register",m="/training",v="/settings",g="/pause",y="/main",w="/property",C="/bank",z="/profile",k="panel_intro",S="panel_register",P="panel_training",I="panel_settings",_="panel_pause",E="panel_main",K="panel_property",A="panel_bank",F="panel_profile",T="view_main",M=(c={},Object(h.a)(c,"/",new x.Page(k,T)),Object(h.a)(c,p,new x.Page(S,T)),Object(h.a)(c,m,new x.Page(P,T)),Object(h.a)(c,v,new x.Page(I,T)),Object(h.a)(c,g,new x.Page(_,T)),Object(h.a)(c,y,new x.Page(E,T)),Object(h.a)(c,w,new x.Page(K,T)),Object(h.a)(c,C,new x.Page(A,T)),Object(h.a)(c,z,new x.Page(F,T)),c),U=new x.Router(M);U.on("update",(function(e,t){e.getPageId(),e.getParams(),e.getPanelId(),e.getViewId(),e.getLocation(),e.isModal(),e.isPopup(),e.hasOverlay()})),U.start();var R=n(11),B=n(554),W=n(109),V=n(579),G=n(583),N=n(602),D=n(573),L=n(589),H=n(596),q=n(580),J=n(555),X=n(597),Q=n(591),Y=n(571),Z=n(562),$=n(578),ee=n(43),te=Object(ee.b)("users/getUsers",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/auth/users");case 3:r=e.sent,c(ie(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ne=Object(ee.b)("users/getProfs",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/profs");case 3:r=e.sent,c(be(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(ee.c)({name:"user",initialState:{user:{},users:[],friends:[],profs:[],debts:!1,greetings:!1,theme:"auto",expenditure:3},reducers:{setUser:function(e,t){e.user=t.payload},setUsers:function(e,t){e.users=t.payload},setFriends:function(e,t){e.friends=t.payload},setProfs:function(e,t){e.profs=t.payload},setDebts:function(e,t){e.debts=t.payload},setGreetings:function(e,t){e.greetings=t.payload},setTheme:function(e,t){e.theme=t.payload},setExpenditure:function(e,t){e.expenditure=t.payload}}}),re=ce.actions,ae=re.setUser,ie=re.setUsers,se=re.setFriends,je=re.setDebts,oe=re.setGreetings,be=re.setProfs,le=re.setTheme,ue=re.setExpenditure,de=ce.reducer,Oe=n(590),xe=n(569),he=n(581),fe=n(582),pe=n(572),me=n(178),ve=n.n(me),ge=n(104),ye=n.n(ge),we=n(180),Ce=n.n(we),ze=n(105),ke=n.n(ze),Se=n(238),Pe=n.n(Se),Ie=n(174),_e=n.n(Ie),Ee=n(103),Ke=n.n(Ee),Ae=n(239),Fe=n.n(Ae),Te=n(0),Me=function(e){var t=e.fetchedUser,n=e.info,c=Object(x.useRouter)(),r=Object(O.b)(),i=a.a.useState(!1),s=Object(l.a)(i,2),j=s[0],b=s[1],u=a.a.useState(!1),d=Object(l.a)(u,2),h=d[0],f=d[1],p=a.a.useState(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],y=a.a.useState(!1),w=Object(l.a)(y,2),C=w[0],z=w[1],k=a.a.useState(!1),S=Object(l.a)(k,2),P=S[0],I=S[1],_=a.a.useState("default"),E=Object(l.a)(_,2),K=E[0],A=E[1],F=a.a.useState(0),T=Object(l.a)(F,2),M=T[0],U=T[1],V=a.a.useState(0),N=Object(l.a)(V,2),D=N[0],H=N[1],X=a.a.useState(0),Y=Object(l.a)(X,2),Z=Y[0],ee=Y[1],te=a.a.useState(0),ne=Object(l.a)(te,2),ce=ne[0],re=ne[1],ie=a.a.useState(Object(Te.jsx)("b",{children:"E"})),se=Object(l.a)(ie,2),je=se[0],oe=se[1],be=a.a.useState(0),le=Object(l.a)(be,2),ue=le[0],de=le[1],me=a.a.useState(!0),ge=Object(l.a)(me,2),we=ge[0],ze=ge[1],Se=Object(O.c)((function(e){return e.user.user})),Ie=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return Se.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0);a.a.useEffect((function(){Se.energizer>0&&Se.energy<Se.maxEnergy?A("primary"):A("default"),"\u041c\u0430\u043b\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"!=Se.prof&&"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"!=Se.prof||(oe(Object(Te.jsx)("b",{children:"S"})),de(Se.time-(Ie+Se.workTime))),"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==Se.prof&&(oe(Object(Te.jsx)("b",{children:"B"})),de(Se.time)),"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440"==Se.prof&&(oe(Object(Te.jsx)("b",{children:"I"})),de(Se.time));var e=setInterval((function(){!Se.freeEnergizer&&U((function(e){return e>=100?100:e+1}));var e=+new Date;if(e>Se.freeEnergizer){var t=Object(R.a)(Object(R.a)({},Se),{},{freeEnergizerOn:!0});r(ae(t))}if(H(Se.freeEnergizer-e),100==M&&U(0),1==Se.carsharing.status){if(ee((function(e){return e>=100?100:e+1})),e>Se.carsharing.date){var n=Object(R.a)(Object(R.a)({},Se),{},{carsharing:{status:!1,date:0},maxEnergy:Se.maxEnergy-50});r(ae(n))}re(Se.carsharing.date-e),100==Z&&ee(0)}}),100);return function(){clearInterval(e)}}),[Se,U,ee]);var Ee=Object(Te.jsx)(a.a.Fragment,{children:Object(Te.jsx)(L.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){g(!1),b(!1),f(!1),z(!1)},children:Object(Te.jsx)(ve.a,{fontSize:"small"})})}),Ae=Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)($.a,{disabled:we,color:"secondary",size:"small",onClick:function(){o.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((function(e){if(e.result){I(!1);var t={status:!0,date:+new Date+36e5},n=Object(R.a)(Object(R.a)({},Se),{},{carsharing:t,maxEnergy:Se.maxEnergy+50});r(ae(n))}else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043a\u0430\u0437\u0435")})).catch((function(e){console.log(e)}))},children:"\u0421\u041c\u041e\u0422\u0420\u0415\u0422\u042c"}),Object(Te.jsx)(L.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return I(!1)},children:Object(Te.jsx)(ve.a,{fontSize:"small"})})]});function Me(e){var t=e/36e5,n=Math.floor(t),c=n>9?n:"0"+n,r=60*(t-n),a=Math.floor(r),i=a>9?a:"0"+a,s=60*(r-a),j=Math.floor(s);return c+":"+i+":"+(j>9?j:"0"+j)}return Object(Te.jsxs)(Oe.a,{component:"nav",color:"inherit",sx:{padding:"10px",borderRadius:"10px",marginTop:"10px",marginBottom:"10px"},position:"sticky",children:[t?Object(Te.jsx)(Q.a,{disableGutters:!0,children:Object(Te.jsxs)(B.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(B.a,{direction:"row",spacing:1,children:[Object(Te.jsx)(B.a,{children:Object(Te.jsx)(xe.a,{overlap:"rectangular",anchorOrigin:{vertical:"top",horizontal:"left"},badgeContent:je,children:Object(Te.jsx)(q.a,{onClick:function(){c.pushPage("/")},src:t.photo_200})})}),Object(Te.jsxs)(B.a,{direction:"column",children:[Object(Te.jsxs)(W.a,{variant:"caption",children:[t.first_name," ",t.last_name]}),Object(Te.jsxs)(W.a,{children:["\u0411\u0430\u043b\u0430\u043d\u0441: ",Se.balance," K"]})]})]}),Object(Te.jsxs)(B.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(Te.jsx)(he.a,{label:Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[Se.energy,"/",Se.maxEnergy]})}),deleteIcon:Object(Te.jsx)(Pe.a,{sx:{color:"black"}}),onDelete:function(){if(Se.energizer>0&&Se.energy<Se.maxEnergy){var e=Se.energizer-1,t=Se.maxEnergy,n=Object(R.a)(Object(R.a)({},Se),{},{energizer:e,energy:t});r(ae(n))}},icon:Object(Te.jsx)(ye.a,{}),size:"small",color:K}),Object(Te.jsx)(he.a,{label:Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsx)("b",{children:Se.energizer})}),icon:Object(Te.jsx)(ke.a,{sx:{color:"black"}}),onClick:function(){return b(!0)},size:"small",color:"secondary"}),Object(Te.jsx)(he.a,{label:Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[ue,"/",Se.time]})}),icon:Object(Te.jsx)(Ce.a,{sx:{color:"black"}}),onClick:function(){return f(!0)},size:"small",color:"success"}),Object(Te.jsx)(he.a,{label:Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[Math.trunc(Se.age/12),"/60"]})}),icon:Object(Te.jsx)(Ke.a,{}),onClick:function(){return g(!0)},size:"small",color:"warning"})]}),Object(Te.jsxs)(B.a,{direction:"row",sx:{marginTop:"15px"},children:[Object(Te.jsxs)(B.a,{direction:"row",spacing:1,children:[Se.freeEnergizerOn?Object(Te.jsx)(he.a,{label:Object(Te.jsxs)("b",{children:["\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0438 +",Se.freeEnergizerCount]}),onClick:function(){return function(){var e=+new Date,t=Se.energizer+Se.freeEnergizerCount,n=Object(R.a)(Object(R.a)({},Se),{},{energizer:t,freeEnergizer:e+864e5,freeEnergizerOn:!1,disabled:[]});r(ae(n))}()},color:"primary",icon:Object(Te.jsx)(ke.a,{}),size:"small"}):Object(Te.jsx)(he.a,{label:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 ".concat(Me(D)),icon:Object(Te.jsx)(ke.a,{}),size:"small"}),Se.carsharing.status?Object(Te.jsx)(he.a,{label:Me(ce),icon:Object(Te.jsx)(ye.a,{}),size:"small"}):Object(Te.jsx)(he.a,{disabled:Se.carsharing.status,label:Object(Te.jsxs)(B.a,{direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(Te.jsx)("b",{children:"MAX"}),Object(Te.jsx)(ye.a,{fontSize:"small",sx:{color:"black"}})]}),onClick:function(){return I(!0),void o.a.send("VKWebAppCheckNativeAds",{ad_format:"reward"}).then((function(e){e.result?ze(!1):console.log("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.")})).catch((function(e){console.log(e)}))},color:"primary",icon:Object(Te.jsx)(Fe.a,{fontSize:"small",sx:{color:"black"}}),size:"small"})]}),Object(Te.jsx)(_e.a,{onClick:function(){return z(!0)},color:"primary",sx:{marginLeft:"auto"}})]})]})}):Object(Te.jsxs)(Q.a,{children:[Object(Te.jsx)(fe.a,{variant:"circular",width:40,height:40,animation:"wave"}),Object(Te.jsx)(G.a,{children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(fe.a,{}),secondary:Object(Te.jsx)(fe.a,{})})})]}),Object(Te.jsxs)("div",{children:[Object(Te.jsx)(pe.a,{open:j,onClose:function(){return b(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(ke.a,{}),Object(Te.jsxs)(W.a,{children:[Object(Te.jsx)("b",{children:"\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a"})," \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u044e.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u041a\u0430\u0436\u0434\u044b\u0435 24 \u0447\u0430\u0441\u0430 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f ",Object(Te.jsx)("b",{children:"2 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0430"}),", \u0438\u0445 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0434\u043e 10, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432 ",Object(Te.jsx)("b",{children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445"}),".",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u042d\u043d\u0435\u0440\u0433\u0438\u044f - ",Object(Te.jsx)("b",{children:"\u0440\u0430\u0441\u0445\u043e\u0434\u0443\u0435\u0442\u0441\u044f"})," \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043a\u043e\u0433\u0434\u0430 \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430."]})]}),action:Ee}),Object(Te.jsx)(pe.a,{open:h,onClose:function(){return f(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ce.a,{}),Object(Te.jsxs)(W.a,{children:["\u0412\u0440\u0435\u043c\u044f ",Object(Te.jsx)("b",{children:"\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e"})," \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 14 \u0447.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0434\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430 \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0432 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442."]})]}),action:Ee}),Object(Te.jsx)(pe.a,{open:v,onClose:function(){return g(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ke.a,{}),Object(Te.jsx)(W.a,{children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u043f\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 60 \u043b\u0435\u0442 \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f."})]}),action:Ee}),Object(Te.jsx)(pe.a,{open:C,onClose:function(){return z(!1)},message:n,action:Ee}),Object(Te.jsx)(pe.a,{open:P,onClose:function(){return I(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(ye.a,{}),Object(Te.jsx)(W.a,{children:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438 \u043d\u0430 50 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0430, \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0432 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0440\u043e\u043b\u0438\u043a"})]}),action:Ae})]})]})},Ue=n(592),Re=n(593),Be=n(594),We=n(595),Ve=n(127),Ge=n.n(Ve),Ne=n(128),De=n.n(Ne),Le=n(129),He=n.n(Le),qe=n(126),Je=n.n(qe),Xe=[];var Qe=function(e){var t=e.value,n=Object(x.useRouter)(),c=Object(O.c)((function(e){return e.user.debts})),r=Object(O.c)((function(e){return e.user.greetings})),i=Object(O.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(l.a)(s,2),u=j[0],h=j[1],p=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(i._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsxs)(V.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:[Object(Te.jsx)(Ue.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:u,children:Object(Te.jsx)(Re.a,{color:"inherit"})}),Object(Te.jsxs)(Be.a,{value:t,onChange:function(e,t){Xe.push(t),4==Xe.length&&o.a.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}),5==Xe.length?(h(!0),Xe.length=0,setTimeout((function(){h(!1),o.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){e.result?(console.log("\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0430"),p(i),n.pushPage(t)):console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043a\u0430\u0437\u0435")})).catch((function(e){console.log(e)}))}),1e3)):(p(i),n.pushPage(t))},children:[Object(Te.jsx)(We.a,{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",value:y,icon:Object(Te.jsx)(Je.a,{})}),Object(Te.jsx)(We.a,{label:"\u0421\u0434\u0435\u043b\u043a\u0438",value:w,icon:Object(Te.jsx)(Ge.a,{})}),Object(Te.jsx)(We.a,{label:"\u0411\u0430\u043d\u043a",value:C,icon:Object(Te.jsx)(xe.a,{color:"secondary",variant:"dot",invisible:!c,children:Object(Te.jsx)(De.a,{})})}),Object(Te.jsx)(We.a,{label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",value:z,icon:Object(Te.jsx)(xe.a,{color:"secondary",variant:"dot",invisible:!r,children:Object(Te.jsx)(He.a,{})})})]})]})},Ye=n(559),Ze=n(598),$e=n(561),et=n(599),tt=n(600),nt=n(601),ct=n(80),rt=n(558),at=n(87),it=n.n(at),st=n(130),jt=n.n(st),ot=n(131),bt=n.n(ot),lt=n(132),ut=n.n(lt),dt=n(86),Ot=n.n(dt);var xt=function(e){var t=e.biz,n=a.a.useState("inherit"),c=Object(l.a)(n,2),r=c[0],i=c[1],s=function(){return Object(Te.jsx)(jt.a,{color:"warning",onClick:function(){return v(!0)}})},j=function(){return Object(Te.jsx)(bt.a,{color:"success",onClick:function(){return v(!0)}})},o=function(){return Object(Te.jsx)(ut.a,{color:"secondary",onClick:function(){return v(!0)}})},b=function(){return Object(Te.jsx)(Ot.a,{onClick:function(){return v(!0)}})},u=a.a.useState(ct.a[300]),d=Object(l.a)(u,2),x=d[0],h=d[1],f=a.a.useState(!1),p=Object(l.a)(f,2),m=p[0],v=p[1],g=a.a.useState((t.maxProfit-t.minProfit)/2+t.minProfit),y=Object(l.a)(g,2),w=y[0],C=y[1],z=a.a.useState(0),k=Object(l.a)(z,2),S=k[0],P=k[1],I=10*S,_=a.a.useState(!0),E=Object(l.a)(_,2),K=E[0],A=E[1],F=Object(O.b)(),T=Object(O.c)((function(e){return e.user.user})),M=Object(O.c)((function(e){return e.user.expenditure})),U=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return T.bizs.includes(t)})),V=U.map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0),G=a.a.useState((function(){return Object(Te.jsx)(fe.a,{animation:"wave",variant:"circular",width:40,height:40})})),N=Object(l.a)(G,2),Q=N[0],Y=N[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?(i("secondary"),Y(o)):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?(i("warning"),Y(s)):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType?(i("success"),Y(j)):"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"==t.bizType&&Y(b)}),[t.bizType]);var Z=function(){A(!1);var e,n,c=(e=t.minProfit,n=t.maxProfit,e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e);h(c>0?ct.a[700]:rt.a[500]),C(c)};return a.a.useEffect((function(){}),[T]),a.a.useEffect((function(){var e=setInterval((function(){(!t.requiredTime<=T.time-(V+T.workTime)||"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==T.prof||"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==T.prof)&&K&&P((function(e){return e>=10?10:e+1})),10==S&&(T.energy<=0?function(){var e=+new Date,t=Object(R.a)(Object(R.a)({},T),{},{onGame:!1,datePoint:e+3e5});F(ae(t))}():Z())}),500);return function(){clearInterval(e)}}),[K,S,t]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"h6",sx:{color:x},children:[Math.trunc(w)," K"]}),Object(Te.jsx)(L.a,{onClick:function(){return function(e,t){A(!0),10==S&&P(0);var n=T.balance+e,c=T.energy-M,r=Object(R.a)(Object(R.a)({},T.record),{},{carSum:T.record.carSum+e}),a=Object(R.a)(Object(R.a)({},T),{},{balance:n,energy:c,record:r});F(ae(a))}(Math.trunc(w),t.requiredEnergy)},color:"primary",disabled:K,variant:"contained",size:"small",children:Object(Te.jsx)(it.a,{})})]}),children:[Object(Te.jsx)(H.a,{children:Object(Te.jsx)(q.a,{children:Q})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:[t.bizName,Object(Te.jsx)("br",{}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",t.maxProfit," K"]})]}),secondary:Object(Te.jsx)(X.a,{sx:{width:.5},variant:"determinate",value:I,color:r})})]}),Object(Te.jsx)(Ye.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(Ze.a,{open:m,onClose:function(){return v(!1)},fullWidth:!0,children:[Object(Te.jsx)($e.a,{children:t.bizName}),Object(Te.jsx)(et.a,{children:Object(Te.jsxs)(tt.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(Te.jsx)("b",{children:t.bizType}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(Te.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]}),Object(Te.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.minProfit," K"]}),Object(Te.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(nt.a,{children:[Object(Te.jsx)($.a,{onClick:function(){!function(e,t){var n=T.balance+t,c=U.filter((function(t){return t._id!==e})),r=Object(R.a)(Object(R.a)({},T),{},{balance:n,bizs:c.map((function(e){return e._id}))});F(ae(r))}(t._id,t.sellPrice),v(!1)},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return v(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})};var ht=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})).filter((function(t){var n=t._id;return e.house.includes(n)})),c=t.filter((function(t){var n=t._id;return e.car.includes(n)})),r=n.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),i=c.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),s=a.a.useState(0),j=Object(l.a)(s,2),o=j[0],b=j[1],u=a.a.useState(!1),d=Object(l.a)(u,2),x=d[0],h=d[1],f=Object(O.b)();return a.a.useEffect((function(){var t=setInterval((function(){b((function(e){return e>=99?99:e+1})),99==o&&(!function(){var t=e.balance+e.salary,n=Object(R.a)(Object(R.a)({},e),{},{balance:t});f(ae(n))}(),b(0))}),100);return function(){clearInterval(t)}}),[o]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"h6",children:[e.salary," K"]}),children:[Object(Te.jsx)(H.a,{onClick:function(){return h(!0)},children:Object(Te.jsx)(q.a,{children:Object(Te.jsx)(Ot.a,{color:"action"})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:["\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",e.prof,Object(Te.jsx)("br",{})]}),secondary:Object(Te.jsx)(X.a,{sx:{width:.5},variant:"determinate",value:o,color:"inherit"})})]}),Object(Te.jsxs)(Ze.a,{open:x,onClose:function(){return h(!1)},fullWidth:!0,children:[Object(Te.jsx)($e.a,{children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),Object(Te.jsx)(et.a,{children:Object(Te.jsxs)(tt.a,{children:["\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",Object(Te.jsx)("b",{children:e.prof}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(Te.jsx)("b",{children:"8\u0447."}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u043e\u043c: ",Object(Te.jsxs)("b",{children:[r," K"]}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442: ",Object(Te.jsxs)("b",{children:[i," K"]}),Object(Te.jsx)("br",{}),"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b: ",Object(Te.jsxs)("b",{children:[e.expenses," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(nt.a,{children:[Object(Te.jsx)($.a,{onClick:function(){!function(){var t=Object(R.a)(Object(R.a)({},e),{},{prof:"\u041c\u0430\u043b\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",workTime:0,salary:0});f(ae(t))}(),h(!1)},children:"\u0423\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(Te.jsx)($.a,{onClick:function(){return h(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},ft=n(135),pt=n.n(ft);var mt=function(){var e=a.a.useState(0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=a.a.useState(!0),i=Object(l.a)(r,2),s=i[0],j=i[1],o=n,b=Object(O.b)(),u=Object(O.c)((function(e){return e.user.user})),d=Object(O.c)((function(e){return e.houses.houses})).filter((function(e){var t=e._id;return u.rent.includes(t)})).map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0);return a.a.useEffect((function(){var e=setInterval((function(){s&&c((function(e){return e>=100?100:e+1})),100==n&&j(!1)}),100);return function(){clearInterval(e)}}),[n]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"h6",children:[d," K"]}),Object(Te.jsx)(L.a,{onClick:function(){return function(){j(!0);var e=u.balance+d,t=Object(R.a)(Object(R.a)({},u.record),{},{carSum:u.record.carSum+d}),n=Object(R.a)(Object(R.a)({},u),{},{balance:e,record:t});b(ae(n)),c(0)}()},color:"primary",disabled:s,variant:"contained",size:"small",children:Object(Te.jsx)(it.a,{})})]}),children:[Object(Te.jsx)(H.a,{children:Object(Te.jsx)(q.a,{children:Object(Te.jsx)(pt.a,{color:"action"})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),secondary:Object(Te.jsx)(X.a,{sx:{width:.5},variant:"determinate",value:o,color:"inherit"})})]}),Object(Te.jsx)(Ye.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{})]})},vt=n(181),gt=n.n(vt),yt=n(136),wt=n.n(yt),Ct=n(241),zt=n.n(Ct),kt=n(242),St=n.n(kt);var Pt=function(e){var t=e.name,n=Object(x.useRouter)(),c=Object(O.c)((function(e){return e.user.user})),r=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsx)(Oe.a,{position:"static",children:Object(Te.jsxs)(Q.a,{children:[Object(Te.jsx)(L.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){n.popPage(),r(c)},children:Object(Te.jsx)(zt.a,{})}),Object(Te.jsx)(L.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){n.pushPage("/"),r(c)},children:Object(Te.jsx)(St.a,{})}),Object(Te.jsx)(W.a,{variant:"subtitle1",component:"div",sx:{flexGrow:1},children:t})]})})};var It=function(e){var t=e.fetchedUser,n=Object(O.b)(),c=Object(x.useRouter)(),r=Object(O.c)((function(e){return e.user.user})),i=Object(O.c)((function(e){return e.bizs.bizs})),s=Object(O.c)((function(e){return e.houses.houses})),j=Object(O.c)((function(e){return e.cars.cars})),b=s.filter((function(e){var t=e._id;return r.house.includes(t)})),u=j.filter((function(e){var t=e._id;return r.car.includes(t)})),d=i.filter((function(e){var t=e._id;return r.bizs.includes(t)})),h=s.filter((function(e){var t=e._id;return r.rent.includes(t)})),f=h.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),m=b.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),v=b.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),w=u.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),C=u.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),z=h.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),k=h.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),S=r.credits.map((function(e){return e.debt})).reduce((function(e,t){return e+t}),0),P=r.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),I=5*r.children+r.expenses+w+m+z,_=a.a.useState(0),E=Object(l.a)(_,2),K=E[0],A=E[1],F=a.a.useState(!0),T=Object(l.a)(F,2),M=T[0],U=T[1],ee=a.a.useState(0),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],re=a.a.useState(!1),ie=Object(l.a)(re,2),se=ie[0],je=ie[1],oe=a.a.useState(!1),be=Object(l.a)(oe,2),le=be[0],de=be[1],Oe=a.a.useState(!1),xe=Object(l.a)(Oe,2),he=xe[0],fe=xe[1],pe=a.a.useState(!1),me=Object(l.a)(pe,2),ve=me[0],ge=me[1];a.a.useEffect((function(){if(0==r.onGame&&c.pushPage(g),Number.isInteger(r.age/12))if(r.lifesCount<r.record.carSum)!function(){var e=Object(R.a)(Object(R.a)({},r.record),{},{carSum:0}),t=Object(R.a)(Object(R.a)({},r),{},{record:e,lifesCount:r.record.carSum});n(ae(t)),ge(!0)}();else{var e=Object(R.a)(Object(R.a)({},r.record),{},{carSum:0}),t=Object(R.a)(Object(R.a)({},r),{},{record:e});n(ae(t))}}),[r.age,ve]),a.a.useEffect((function(){var e=setInterval((function(){r.balance<r.debts+S&&r.credits.length>=5&&b.length<=1&&d.length<=0&&u.length<=0&&h.length<=0&&de(!0),function(){if(r.age>=720){if(r.record.cashflow<Math.round(.13*r.deposit.amount/12+f)&&0==P){var e={prof:r.prof,age:Math.trunc(r.age/12),cashflow:Math.round(.13*r.deposit.amount/12+f),bizCount:d.length,deposit:r.deposit.amount,rentCount:h.length,houseSumm:v+k+C,carSum:r.record.carSum},t=Object(R.a)(Object(R.a)({},r),{},{record:e});n(ae(t))}fe(!0)}}(),r.onGame&&A((function(e){return e>=1198?1198:e+1})),1198!=K&&598!=K||(r.debts>0&&(je(!0),n(ue(10))),A(0)),101!=K&&201!=K&&301!=K&&401!=K&&501!=K&&601!=K&&701!=K&&801!=K&&901!=K&&1001!=K&&1101!=K&&1197!=K||function(){var e=r.age+1,t=r.debts+I,c=Object(R.a)(Object(R.a)({},r),{},{credits:function(e){for(var t=[],n=0;n<e.length;n++){var c=e[n];c.debt>=c.amount?t.push({id:c.id,amount:c.amount,debt:c.debt,payment:c.payment}):t.push({id:c.id,amount:c.amount,debt:c.debt+c.payment,payment:c.payment})}return t.sort((function(e,t){return e.id-t.id}))}(r.credits),debts:t,age:e});n(ae(c))}();var e=+new Date;r.deposit.date<=e&&(U(!1),ce(100)),M&&ce(Math.round(100-(r.deposit.date-e)/10/120)),r.deposit.date>e&&U(!0)}),100);return function(){clearInterval(e)}}),[K]);var ye={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4},we=function(){return Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(wt.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(Te.jsx)(W.a,{variant:"caption",children:'\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0421\u0434\u0435\u043b\u043a\u0438"'})]})},Ce=function(){return Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(gt.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0432\u043a\u043b\u0430\u0434\u0430"}),Object(Te.jsx)(W.a,{variant:"caption",children:'\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432\u043a\u043b\u0430\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"'})]})},ze=function(){return Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(pt.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(Te.jsx)(W.a,{variant:"caption",children:'\u0421\u0434\u0430\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c"'})]})},ke=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Je.a,{}),Object(Te.jsxs)(W.a,{children:["\u041d\u0430 ",Object(Te.jsx)("b",{children:"\u0413\u041b\u0410\u0412\u041d\u041e\u0419"})," \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b \u0434\u043e\u0445\u043e\u0434\u044b",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446 (",Object(Te.jsx)("b",{children:"10 \u0441\u0435\u043a\u0443\u043d\u0434"}),") \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0438\u043a\u043e\u043d\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 ",Object(Te.jsx)("b",{children:"\u0431\u0438\u0437\u043d\u0435\u0441\u0430"})," \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u0431\u044b\u043b\u044c. \u041f\u0440\u043e\u0434\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0435\u0433\u043e \u0438\u043a\u043e\u043d\u043a\u0443.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0414\u043e\u0445\u043e\u0434\u044b \u043e\u0442 ",Object(Te.jsx)("b",{children:"\u0432\u043a\u043b\u0430\u0434\u0430"})," \u0438 ",Object(Te.jsx)("b",{children:"\u0430\u0440\u0435\u043d\u0434\u044b \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"})," \u0442\u0430\u043a \u0436\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0431\u0438\u0440\u0430\u0442\u044c \u043d\u0430\u0436\u0430\u0442\u0438\u0435\u043c \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0438\u043a\u043e\u043d\u043a\u0443.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)("b",{children:"\u0418\u0433\u0440\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"})," \u0438\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0418\u0433\u0440\u0430 ",Object(Te.jsx)("b",{children:"\u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f"})," \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})]})]});return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(Te.jsxs)(G.a,{children:[Object(Te.jsx)(Me,{fetchedUser:t,info:ke}),r.onGame?Object(Te.jsxs)(Te.Fragment,{children:[0!=r.salary&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{sx:{marginTop:"10px"},variant:"subtitle1",children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),Object(Te.jsx)(ht,{})]}),Object(Te.jsxs)(N.a,{dense:!0,children:[d.length>=1?Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0411\u0438\u0437\u043d\u0435\u0441"}):Object(Te.jsx)(we,{}),d.map((function(e,t){return Object(Te.jsx)(xt,{biz:e},t)}))]}),Object(Te.jsx)(N.a,{dense:!0,children:0!=r.deposit.amount?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0412\u043a\u043b\u0430\u0434"}),Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"h6",children:[Math.round(.13*r.deposit.amount)," K"]}),Object(Te.jsx)(L.a,{onClick:function(){return function(){var e=r.balance+Math.round(.13*r.deposit.amount),t=Object(R.a)(Object(R.a)({},r.record),{},{carSum:r.record.carSum+Math.round(.13*r.deposit.amount)}),c=Object(R.a)(Object(R.a)({},r.deposit),{},{date:+new Date+12e4}),a=Object(R.a)(Object(R.a)({},r),{},{balance:e,deposit:c,record:t});n(ae(a))}()},color:"primary",disabled:M,variant:"contained",size:"small",children:Object(Te.jsx)(it.a,{})})]}),children:[Object(Te.jsx)(H.a,{children:Object(Te.jsx)(q.a,{children:Object(Te.jsx)(gt.a,{})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:["\u0412\u043a\u043b\u0430\u0434: ",r.deposit.amount,"\u041a",Object(Te.jsx)("br",{})]}),secondary:Object(Te.jsx)(X.a,{sx:{width:.5},variant:"determinate",value:ne,color:"inherit"})})]})]}):Object(Te.jsx)(Ce,{})}),Object(Te.jsxs)(N.a,{dense:!0,children:[h.length>=1?Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0410\u0440\u0435\u043d\u0434\u0430"})}):Object(Te.jsx)(ze,{}),h.length>=1&&Object(Te.jsx)(mt,{})]}),Object(Te.jsx)(Q.a,{})]}):Object(Te.jsx)(B.a,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041d\u0435 \u0432 \u0438\u0433\u0440\u0435"})}),Object(Te.jsx)(Y.a,{open:se,onClose:function(){return je(!1)},children:Object(Te.jsxs)(Z.a,{sx:ye,children:[Object(Te.jsxs)(W.a,{children:["\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c ",r.debts," K"]}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(W.a,{variant:"caption",children:['\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0433\u0430\u0441\u0438\u0442\u044c \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"',Object(Te.jsx)("br",{}),"\u0418\u043d\u0430\u0447\u0435 \u0440\u0430\u0441\u0445\u043e\u0434 \u044d\u043d\u0435\u0440\u0433\u0438\u0438 \u0443\u0432\u0435\u043b\u0438\u0447\u0442\u0441\u044f"]})]})}),Object(Te.jsx)(Y.a,{open:ve,onClose:function(){return ge(!1)},children:Object(Te.jsxs)(Z.a,{sx:ye,children:[Object(Te.jsx)(W.a,{children:Object(Te.jsx)("b",{children:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u043a\u043e\u0440\u0434!"})}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0437\u0430 \u044d\u0442\u043e\u0442 \u0433\u043e\u0434 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ",Object(Te.jsxs)("b",{children:[r.lifesCount,"\u041a"]}),Object(Te.jsx)("br",{}),"\u0420\u0435\u043a\u043e\u0440\u0434 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d \u0432 ",Object(Te.jsx)("b",{children:"\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u043c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435"})]}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return e=r.lifesCount,void o.a.send("VKWebAppShowWallPostBox",{message:"\u0423 \u043c\u0435\u043d\u044f \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u043a\u043e\u0440\u0434! \u0417\u0430 \u0433\u043e\u0434 \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ".concat(e," \u041a!!!"),attachments:"https://vk.com/app51483243"}).then((function(e){e.post_id})).catch((function(e){console.log(e)}));var e},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(Te.jsx)($.a,{onClick:function(){return ge(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})}),Object(Te.jsx)(Y.a,{open:le,children:Object(Te.jsxs)(Z.a,{sx:ye,children:[Object(Te.jsx)(W.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(Te.jsx)("br",{}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0412\u044b \u0431\u0430\u043d\u043a\u0440\u043e\u0442 \ud83d\ude25"}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(Te.jsx)(Y.a,{open:he,children:Object(Te.jsxs)(Z.a,{sx:ye,children:[Object(Te.jsx)(W.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430.",Object(Te.jsx)("br",{}),"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u044b \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 ",Object(Te.jsx)("b",{children:Math.trunc(r.age/12)}),", \u0441 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0435\u0439 ",Object(Te.jsx)("b",{children:r.prof}),", \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u043f\u0430\u0441\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 ",Object(Te.jsx)("b",{children:Math.round(.13*r.deposit.amount/12+f)})]}),r.record.cashflow>Math.round(.13*r.deposit.amount/12+f)?Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0430 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u0440\u0435\u043a\u043e\u0440\u0434 \u0432 ",r.record.cashflow,"\u041a \u043d\u0435 \u043f\u043e\u0431\u0438\u0442.",Object(Te.jsx)("br",{})]}):Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u043a\u043e\u0440\u0434! \u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434 - ",Object(Te.jsxs)("b",{children:[Math.round(.13*r.deposit.amount/12+f)," \u041a"]})]}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(Te.jsx)(Qe,{value:y})]})]})},_t=n(567),Et=n(607),Kt=n(19);var At=function(e){var t=e.biz,n=Object(O.b)(),c=Object(O.c)((function(e){return e.user.user})),r=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return c.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0),i=a.a.useState(!1),s=Object(l.a)(i,2),j=s[0],o=s[1],b=a.a.useState(!0),u=Object(l.a)(b,2),d=u[0],x=u[1],h=function(){return Object(Te.jsx)(jt.a,{color:"warning"})},f=function(){return Object(Te.jsx)(bt.a,{color:"success"})},p=function(){return Object(Te.jsx)(ut.a,{color:"secondary"})},m=function(){return Object(Te.jsx)(Ot.a,{})},v=a.a.useState((function(){return Object(Te.jsx)(fe.a,{animation:"wave",variant:"circular",width:40,height:40})})),g=Object(l.a)(v,2),y=g[0],w=g[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?w(p):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?w(h):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType?w(f):"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"==t.bizType&&w(m),t.bizPrice<=c.balance&&"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==c.prof||t.bizPrice<=c.balance&&"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==c.prof||t.bizPrice<=c.balance&&"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440"==c.prof?x(!1):(t.bizPrice<=c.balance&&t.requiredTime<=c.time-(r+c.workTime)&&x(!1),(t.bizPrice>c.balance||t.requiredTime>c.time-(r+c.workTime))&&x(!0))}),[t,c]);var C=function(e,t){if(t>=2e4&&t<5e4){var r=c.balance-t,a=[].concat(Object(Kt.a)(c.bizs),[e]),i=Object(R.a)(Object(R.a)({},c),{},{prof:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",balance:r,bizs:a});n(ae(i))}else if(t>=5e4){var s=c.balance-t,j=[].concat(Object(Kt.a)(c.bizs),[e]),o=Object(R.a)(Object(R.a)({},c),{},{prof:"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",balance:s,bizs:j});n(ae(o))}else{var b=c.balance-t,l=[].concat(Object(Kt.a)(c.bizs),[e]),u=Object(R.a)(Object(R.a)({},c),{},{balance:b,bizs:l});n(ae(u))}};return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{justifyContent:"flex-end",direction:"column",children:[Object(Te.jsxs)(W.a,{variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.bizPrice,"K"]}),Object(Te.jsx)($.a,{disabled:d,onClick:function(){C(t._id,t.bizPrice)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]}),children:[Object(Te.jsx)(H.a,{onClick:function(){return o(!0)},children:y}),Object(Te.jsx)(J.a,{primary:t.bizName,secondary:Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]})]}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]})]})]})})]}),Object(Te.jsx)(Ye.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(Ze.a,{open:j,onClose:function(){return o(!1)},fullWidth:!0,children:[Object(Te.jsx)($e.a,{children:t.bizName}),Object(Te.jsx)(et.a,{children:Object(Te.jsxs)(tt.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(Te.jsx)("b",{children:t.bizType}),Object(Te.jsx)("br",{}),"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(Te.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]}),Object(Te.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.minProfit," K"]}),Object(Te.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(nt.a,{children:[Object(Te.jsx)($.a,{disabled:d,onClick:function(){C(t._id,t.bizPrice),o(!1)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return o(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})};var Ft=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.bizs.bizs})),n=new Set(e.bizs),c=t.filter((function(e){var t=e._id;return!n.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:c.length>=1?Object(Te.jsx)(N.a,{children:c.map((function(e,t){return Object(Te.jsx)(At,{biz:e},t)}))}):Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(Q.a,{}),Object(Te.jsx)(wt.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})},Tt=n(584),Mt=n(603),Ut=n(604),Rt=n(605),Bt=n(606);var Wt=function(e){var t=e.car,n=e.isMy,c=Object(O.b)(),r=Object(O.c)((function(e){return e.user.user})),i=Object(O.c)((function(e){return e.cars.cars})).filter((function(e){var t=e._id;return r.car.includes(t)})),s=i.map((function(e){return e.time})).reduce((function(e,t){return e+t}),0),j=a.a.useState(!0),o=Object(l.a)(j,2),b=o[0],u=o[1];return a.a.useEffect((function(){r.balance>=t.price&&u(!1),r.balance<t.price&&u(!0)}),[r]),Object(Te.jsx)(Tt.a,{item:!0,children:Object(Te.jsxs)(Mt.a,{variant:"outlined",children:[Object(Te.jsx)(Ut.a,{component:"img",height:"140",image:"https://financial-freedom-game.ru".concat(t.imageUrl)}),Object(Te.jsxs)(Rt.a,{children:[n?Object(Te.jsx)(W.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}):Object(Te.jsxs)(W.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(Te.jsxs)(W.a,{gutterBottom:!0,variant:"body2",children:[" \u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(Te.jsx)(W.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0412\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:["+",t.time,"\u0447"]}),Object(Te.jsx)("br",{}),"\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(Te.jsxs)("b",{children:["+",t.energy]}),Object(Te.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(Te.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(Te.jsx)("br",{}),"\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," \u041a"]}),Object(Te.jsx)("br",{})]})]}),Object(Te.jsx)(Bt.a,{children:n?Object(Te.jsx)($.a,{size:"small",onClick:function(){return function(){var e=r.balance+t.sellPrice,a=i.filter((function(e){return e._id!==n})),j=r.maxEnergy-t.energy;if(s==t.time){var o=r.time-t.time;if(o<10){var b=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:10});c(ae(b))}else if(o>14){var l=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:14});c(ae(l))}else{var u=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:o});c(ae(u))}}else{var d=s-t.time+10;if(d<10){var O=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:10});c(ae(O))}else if(d>14){var x=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:14});c(ae(x))}else{var h=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:d});c(ae(h))}}}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}):Object(Te.jsx)($.a,{disabled:b,size:"small",onClick:function(){return function(){var e=r.balance-t.price,n=[].concat(Object(Kt.a)(r.car),[t._id]),a=r.maxEnergy+t.energy,i=r.time+t.time;if(i>14){var s=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:n,maxEnergy:a,time:14});c(ae(s))}else{var j=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:n,maxEnergy:a,time:i});c(ae(j))}}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},Vt=n(243),Gt=n.n(Vt);var Nt=function(){var e,t=Object(O.c)((function(e){return e.user.user})),n=Object(O.c)((function(e){return e.cars.cars})),c=new Set(t.car),r=n.filter((function(e){var t=e._id;return!c.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:r.length>=1?Object(Te.jsx)(Tt.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:r.sort((e="price",function(t,n){return t[e]>n[e]?1:-1})).map((function(e,t){return Object(Te.jsx)(Wt,{car:e},t)}))}):Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(Q.a,{}),Object(Te.jsx)(Gt.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})};var Dt=function(e){var t=e.house,n=e.isMy,c=e.isRent,r=Object(O.b)(),i=Object(O.c)((function(e){return e.user.user})),s=Object(O.c)((function(e){return e.houses.houses})),j=s.filter((function(e){var t=e._id;return i.house.includes(t)})),o=s.filter((function(e){var t=e._id;return i.rent.includes(t)})),b=a.a.useState(!0),u=Object(l.a)(b,2),d=u[0],x=u[1];return a.a.useEffect((function(){n?c?x(!1):(j.length>1&&x(!1),j.length<=1&&x(!0)):(i.balance>=t.price&&x(!1),i.balance<t.price&&x(!0))}),[n,c,j,i]),Object(Te.jsx)(Tt.a,{item:!0,children:Object(Te.jsxs)(Mt.a,{variant:"outlined",children:[Object(Te.jsx)(Ut.a,{component:"img",height:"140",image:"https://financial-freedom-game.ru".concat(t.imageUrl)}),Object(Te.jsxs)(Rt.a,{children:[n?Object(Te.jsxs)(B.a,{direction:"row",children:[Object(Te.jsx)(W.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),c&&Object(Te.jsx)(W.a,{variant:"subtitle2",sx:{marginLeft:"auto"},children:"\u0432 \u0430\u0440\u0435\u043d\u0434\u0435"})]}):Object(Te.jsxs)(W.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(Te.jsxs)(W.a,{gutterBottom:!0,variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(Te.jsx)(W.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(Te.jsxs)("b",{children:["+",t.energy]}),Object(Te.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(Te.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(Te.jsx)("br",{}),"\u0421\u0434\u0430\u0447\u0430 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443: ",Object(Te.jsxs)("b",{children:[t.rentPrice," \u041a/\u043c\u0435\u0441"]})]})]}),Object(Te.jsx)(Bt.a,{children:n?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)($.a,{disabled:d,size:"small",onClick:function(){return function(){var e=i.balance+t.price;if(c){var a=o.filter((function(e){return e._id!==n})),s=i.maxEnergy-t.energy,b=Object(R.a)(Object(R.a)({},i),{},{balance:e,rent:a.map((function(e){return e._id})),maxEnergy:s});r(ae(b))}else{var l=j.filter((function(e){return e._id!==n})),u=i.maxEnergy-t.energy,d=Object(R.a)(Object(R.a)({},i),{},{balance:e,house:l.map((function(e){return e._id})),maxEnergy:u});r(ae(d))}}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),c?Object(Te.jsx)($.a,{disabled:d,size:"small",onClick:function(){return function(){var e=[].concat(Object(Kt.a)(i.house),[t._id]),n=i.maxEnergy+t.energy,c=o.filter((function(e){return e._id!==t._id})),a=Object(R.a)(Object(R.a)({},i),{},{house:e,maxEnergy:n,rent:c.map((function(e){return e._id}))});r(ae(a))}()},children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0441 \u0430\u0440\u0435\u043d\u0434\u044b"}):Object(Te.jsx)($.a,{disabled:d,size:"small",onClick:function(){return function(){var e=j.filter((function(e){return e._id!==n})),c=i.maxEnergy-t.energy,a=[].concat(Object(Kt.a)(i.rent),[t._id]);if(s.filter((function(e){var t=e._id;return a.includes(t)})).map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0)>1e3){var o=Object(R.a)(Object(R.a)({},i),{},{prof:"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440",house:e.map((function(e){return e._id})),maxEnergy:c,rent:a});r(ae(o))}else{var b=Object(R.a)(Object(R.a)({},i),{},{house:e.map((function(e){return e._id})),maxEnergy:c,rent:a});r(ae(b))}}()},children:"\u0421\u0434\u0430\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"})]}):Object(Te.jsx)($.a,{disabled:d,size:"small",onClick:function(){return function(){var e=i.balance-t.price,n=[].concat(Object(Kt.a)(i.house),[t._id]),c=i.maxEnergy+t.energy,a=Object(R.a)(Object(R.a)({},i),{},{balance:e,house:n,maxEnergy:c});r(ae(a))}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},Lt=n(244),Ht=n.n(Lt);var qt=function(){var e,t=Object(O.c)((function(e){return e.user.user})),n=Object(O.c)((function(e){return e.houses.houses})),c=new Set(t.house),r=n.filter((function(e){var t=e._id;return!c.has(t)})),a=new Set(t.rent),i=r.filter((function(e){var t=e._id;return!a.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:i.length>=1?Object(Te.jsx)(Tt.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:i.sort((e="price",function(t,n){return t[e]>n[e]?1:-1})).map((function(e,t){return Object(Te.jsx)(Dt,{house:e},t)}))}):Object(Te.jsxs)(B.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(Q.a,{}),Object(Te.jsx)(Ht.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})},Jt=n(68);var Xt=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ge.a,{}),Object(Te.jsxs)(W.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u0421\u0414\u0415\u041b\u041a\u0418"})," \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441, \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442, \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430, \u043f\u043e\u043c\u0438\u043c\u043e \u0434\u0435\u043d\u0435\u0433, ",Object(Te.jsx)("b",{children:"\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e"})," \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438.",Object(Te.jsx)("br",{}),"\u041f\u0440\u0438 ",Object(Te.jsx)("b",{children:"\u043f\u043e\u043a\u0443\u043f\u043a\u0435"})," \u0431\u0438\u0437\u043d\u0435\u0441\u0430 \u0446\u0435\u043d\u043e\u0439 \u0431\u043e\u043b\u0435\u0435 20 000 \u041a \u0438 50 000 \u041a ",Object(Te.jsx)("b",{children:"\u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"})," \u0438\u0433\u0440\u043e\u043a\u0430 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 ",Object(Te.jsx)("b",{children:"'\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441'"})," \u0438 ",Object(Te.jsx)("b",{children:"'\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441'"})," \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0415\u0441\u043b\u0438 \u0443 \u0438\u0433\u0440\u043e\u043a\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ",Object(Te.jsx)("b",{children:"'\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441', '\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441' \u0438 '\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440'"})," \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c ",Object(Te.jsx)("b",{children:"\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442"})," \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 ",Object(Te.jsx)("b",{children:"\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442"})," \u0432\u0440\u0435\u043c\u044f \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u044d\u043d\u0435\u0440\u0433\u0438\u044e."]})]});return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u0421\u0434\u0435\u043b\u043a\u0438"}),Object(Te.jsxs)(G.a,{children:[Object(Te.jsx)(Me,{fetchedUser:t,info:s}),Object(Te.jsxs)(_t.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(Te.jsx)(Et.a,{value:"one",label:"\u0411\u0438\u0437\u043d\u0435\u0441"}),Object(Te.jsx)(Et.a,{value:"two",label:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(Te.jsx)(Et.a,{value:"three",label:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})]}),"one"===r&&Object(Te.jsx)(Ft,{}),"two"===r&&Object(Te.jsx)(Nt,{}),"three"===r&&Object(Te.jsx)(qt,{}),Object(Te.jsx)(Q.a,{}),Object(Te.jsx)(Qe,{value:w})]})]})};var Qt=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})),c=Object(O.c)((function(e){return e.bizs.bizs})),r=n.filter((function(t){var n=t._id;return e.house.includes(n)})),i=r.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),s=r.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),j=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),o=j.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),b=j.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),u=t.filter((function(t){var n=t._id;return e.car.includes(n)})),d=u.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),x=u.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),h=c.filter((function(t){var n=t._id;return e.bizs.includes(n)})).map((function(e){return e.maxProfit})).reduce((function(e,t){return e+t}),0),f=e.credits.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),p=e.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),m=a.a.useState(!0),v=Object(l.a)(m,2),g=(v[0],v[1]),y=a.a.useState(!1),w=Object(l.a)(y,2),C=w[0],z=w[1],k=Object(O.b)();return a.a.useEffect((function(){e.debts>0&&g(!1)}),[e]),Object(Te.jsxs)(G.a,{disableGutters:!0,children:[Object(Te.jsxs)(B.a,{direction:"row",children:[Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsxs)(W.a,{sx:{marginLeft:"auto"},variant:"subtitle1",children:[e.prof,"\xa0\xa0\xa0\xa0"]})]}),Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0414\u043e\u043b\u0433\u0438"})}),Object(Te.jsxs)(N.a,{children:[e.credits.map((function(t,n){return Object(Te.jsx)(D.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"body1",children:["\u0414\u043e\u043b\u0433: ",t.debt," K"]}),Object(Te.jsx)($.a,{disabled:!t.debt>0,onClick:function(){return function(t,n,c,r){if(c>e.balance)z(!0);else{var a=e.balance-c,i=e.credits.filter((function(e){return e.id!=t})),s={id:t,amount:n-c,debt:0,payment:r};if(s.amount>0){var j=Object(R.a)(Object(R.a)({},e),{},{balance:a,credits:[].concat(Object(Kt.a)(i),[s]).sort((function(e,t){return e.id-t.id}))});k(ae(j))}else{var o=Object(R.a)(Object(R.a)({},e),{},{balance:a,credits:i.sort((function(e,t){return e.id-t.id}))});k(ae(o))}}}(t.id,t.amount,t.debt,t.payment)},size:"small",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(t.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",t.payment," K"]})})},n)})),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"body1",children:[e.debts," K"]}),Object(Te.jsx)($.a,{disabled:!e.debts>0,onClick:function(){return function(){if(e.balance<e.debts)z(!0);else{var t=e.balance-e.debts,n=Object(R.a)(Object(R.a)({},e),{},{balance:t,debts:0});k(ae(n)),k(ue(3))}}()},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f",secondary:"\u041f\u043e\u0433\u0430\u0448\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u043e"})})]}),Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0414\u043e\u0445\u043e\u0434\u044b"})}),Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"green"},children:["~ ",Math.round(.13*e.deposit.amount/12)," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"green"},children:[o," \u041a/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0430\u0440\u0435\u043d\u0434\u044b"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"green"},children:[e.salary," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"green"},children:["~ ",h," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"subtitle1",sx:{color:"green"},children:["~ ",Math.round(.13*e.deposit.amount/12)+o+e.salary+h," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{sx:{color:"green"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"})}),Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"red"},children:[p," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u043c"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"red"},children:[s+b," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"red"},children:[x," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"red"},children:[e.expenses," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body2",sx:{color:"red"},children:[5*e.children," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u0435\u0442\u0435\u0439"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"subtitle1",sx:{color:"red"},children:[5*e.children+e.expenses+x+s+b+p," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{sx:{color:"red"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0410\u043a\u0442\u0438\u0432\u044b"})}),Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[e.deposit.amount," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0412\u043a\u043b\u0430\u0434\u044b"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[i," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"})})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[d," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"})})})]}),Object(Te.jsx)(B.a,{direction:"row",children:Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u044b"})}),Object(Te.jsx)(N.a,{children:Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[f," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"body2",children:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b \u043d\u0430 \u0441\u0443\u043c\u043c\u0443"})})})}),Object(Te.jsx)(Y.a,{open:C,onClose:function(){return z(!1)},children:Object(Te.jsx)(Z.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4},children:Object(Te.jsx)(W.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(Te.jsx)(Q.a,{})]})},Yt=n(608),Zt=n(575),$t=n(566),en=n(586);var tn=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.user})),n=a.a.useState(""),c=Object(l.a)(n,2),r=c[0],i=c[1],s=a.a.useState(""),j=Object(l.a)(s,2),o=j[0],b=j[1],u=a.a.useState(0),d=Object(l.a)(u,2),x=d[0],h=d[1],f=a.a.useState(""),p=Object(l.a)(f,2),m=p[0],v=p[1],g=a.a.useState(!1),y=Object(l.a)(g,2),w=y[0],C=y[1],z=a.a.useState(!1),k=Object(l.a)(z,2),S=k[0],P=k[1],I=a.a.useState(!1),_=Object(l.a)(I,2),E=_[0],K=_[1],A=a.a.useState(!1),F=Object(l.a)(A,2),T=F[0],M=F[1];a.a.useEffect((function(){""!=r&&""!=o&&C(!0)}),[o,r]);var U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4};return Object(Te.jsxs)(Z.a,{sx:{width:"100%"},children:[Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442"}),Object(Te.jsxs)(Tt.a,{container:!0,spacing:1,children:[Object(Te.jsx)(Tt.a,{item:!0,xs:6,children:Object(Te.jsxs)(Yt.a,{fullWidth:!0,sx:{marginTop:"10px"},error:!0,children:[Object(Te.jsx)(Zt.a,{id:"credit-amount-label",children:"\u0421\u0443\u043c\u043c\u0430"}),Object(Te.jsxs)($t.a,{labelId:"credit-amount-label",id:"credit-amount-select",value:r,label:"Amount",onChange:function(e){i(e.target.value)},children:[Object(Te.jsx)(en.a,{value:100,children:"100 \u041a"}),Object(Te.jsx)(en.a,{value:200,children:"200 \u041a"}),Object(Te.jsx)(en.a,{value:500,children:"500 \u041a"})]})]})}),Object(Te.jsx)(Tt.a,{item:!0,xs:6,children:Object(Te.jsxs)(Yt.a,{fullWidth:!0,sx:{marginTop:"10px"},children:[Object(Te.jsx)(Zt.a,{id:"credit-term-label",children:"\u0421\u0440\u043e\u043a"}),Object(Te.jsxs)($t.a,{labelId:"credit-term-label",id:"credit-term-select",value:o,label:"Term",onChange:function(e){b(e.target.value)},children:[Object(Te.jsx)(en.a,{value:12,children:"12 \u043c\u0435\u0441"}),Object(Te.jsx)(en.a,{value:24,children:"24 \u043c\u0435\u0441"}),Object(Te.jsx)(en.a,{value:60,children:"60 \u043c\u0435\u0441"})]})]})})]}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0438 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442 \u043f\u043e\u0434 ~18% \u0433\u043e\u0434\u043e\u0432\u044b\u0445"}),Object(Te.jsx)(B.a,{direction:"column",children:Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:!w,size:"small",variant:"contained",onClick:function(){return h(Math.round((.18*r*(o/12)+r)/o)),v(Math.round((.18*r*(o/12)+r)/o)*o),void P(!0)},children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),S&&Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[x," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[m," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u0430"})}),Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[r," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u0430"})}),Object(Te.jsx)(B.a,{direction:"column",children:Object(Te.jsx)($.a,{onClick:function(){return function(){if(t.credits.length>=5)M(!0);else{var n={id:+new Date,amount:m,debt:0,payment:x},c=[].concat(Object(Kt.a)(t.credits),[n]),a=t.balance+r,i=Object(R.a)(Object(R.a)({},t),{},{balance:a,credits:c.sort((function(e,t){return e.id-t.id}))});e(ae(i))}}()},sx:{marginTop:"10px"},disabled:!w,size:"small",variant:"contained",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})})]}),Object(Te.jsxs)(N.a,{children:[t.credits.length>=1&&Object(Te.jsx)(W.a,{variant:"overline",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044b\u0435"}),t.credits.map((function(n,c){return Object(Te.jsx)(D.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(W.a,{variant:"body1",children:["\u0421\u0443\u043c\u043c\u0430 ",n.amount," K"]}),Object(Te.jsx)($.a,{onClick:function(){return function(n,c){if(c>t.balance)K(!0);else{var r=t.balance-c,a=t.credits.filter((function(e){return e.id!=n})),i=Object(R.a)(Object(R.a)({},t),{},{balance:r,credits:a.sort((function(e,t){return e.id-t.id}))});e(ae(i))}}(n.id,n.amount)},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(n.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",n.payment," K"]})})},c)}))]}),Object(Te.jsx)(Y.a,{open:E,onClose:function(){return K(!1)},children:Object(Te.jsx)(Z.a,{sx:U,children:Object(Te.jsx)(W.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(Te.jsx)(Y.a,{open:T,onClose:function(){return M(!1)},children:Object(Te.jsx)(Z.a,{sx:U,children:Object(Te.jsx)(W.a,{children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432 \ud83d\ude25"})})})]})},nn=n(576);var cn=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.user})),n=a.a.useState(0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=a.a.useState(0),j=Object(l.a)(s,2),o=j[0],b=j[1],u=a.a.useState(!0),d=Object(l.a)(u,2),x=d[0],h=d[1],f=a.a.useState(!0),p=Object(l.a)(f,2),m=p[0],v=p[1];return a.a.useEffect((function(){r>t.balance&&h(!0),r<=t.balance&&h(!1),r<=0&&h(!0)}),[r,t]),a.a.useEffect((function(){o>t.deposit.amount&&v(!0),o<=t.deposit.amount&&v(!1),o<=0&&v(!0)}),[o,t]),Object(Te.jsx)(Z.a,{sx:{width:"100%"},children:Object(Te.jsxs)(B.a,{direction:"column",spacing:1,children:[Object(Te.jsx)(N.a,{children:Object(Te.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"body1",children:[t.deposit.amount," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0412\u043a\u043b\u0430\u0434"})})}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(Te.jsx)(nn.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){i(e.target.value)},InputLabelProps:{shrink:!0}}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c ~13% \u0432 \u0433\u043e\u0434"}),Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:x,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount+Number(r),date:+new Date+12e4},c=t.balance-Number(r),a=Object(R.a)(Object(R.a)({},t),{},{balance:c,deposit:n});e(ae(a))}()},children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0421\u043d\u044f\u0442\u044c"}),Object(Te.jsx)(nn.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){b(e.target.value)},InputLabelProps:{shrink:!0}}),Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:m,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount-Number(o),date:+new Date+12e4},c=t.balance+Number(o),r=Object(R.a)(Object(R.a)({},t),{},{balance:c,deposit:n});e(ae(r))}()},children:"\u0421\u043d\u044f\u0442\u044c"})]})})};var rn=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(De.a,{}),Object(Te.jsxs)(W.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u0411\u0410\u041d\u041a"})," \u043c\u043e\u0436\u043d\u043e",Object(Te.jsx)("br",{}),"- \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043b\u0438\u0447\u043d\u044b\u0445 \u0444\u0438\u043d\u0430\u043d\u0441\u0430\u0445",Object(Te.jsx)("br",{}),"- \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442",Object(Te.jsx)("br",{}),"- \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u043a\u043b\u0430\u0434",Object(Te.jsx)("br",{}),"- \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438"]})]});return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u0411\u0430\u043d\u043a"}),Object(Te.jsxs)(G.a,{children:[Object(Te.jsx)(Me,{fetchedUser:t,info:s}),Object(Te.jsxs)(_t.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(Te.jsx)(Et.a,{value:"one",label:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"}),Object(Te.jsx)(Et.a,{value:"two",label:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b"}),Object(Te.jsx)(Et.a,{value:"three",label:"\u0412\u043a\u043b\u0430\u0434\u044b"})]}),"one"===r&&Object(Te.jsx)(Qt,{}),"two"===r&&Object(Te.jsx)(tn,{}),"three"===r&&Object(Te.jsx)(cn,{}),Object(Te.jsx)(Qe,{value:C})]})]})},an=n(611),sn=n(34),jn=n(92),on=n.n(jn),bn=n(93),ln=n.n(bn),un=n(245),dn=n.n(un),On=n(246),xn=n.n(On),hn=[{label:Object(Te.jsx)(dn.a,{color:"disabled",sx:{fontSize:50,marginBottom:"40px"}}),description:Object(Te.jsxs)(W.a,{children:["\u0415\u0441\u0442\u044c \u0447\u0435\u0442\u044b\u0440\u0435 \u0442\u0438\u043f\u0430 \u0442\u044e\u0434\u0435\u0439:",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"E - \u041d\u0430\u0451\u043c\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0438",Object(Te.jsx)("br",{}),"S - \u0442\u0435 \u043a\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0441\u0435\u0431\u044f",Object(Te.jsx)("br",{}),"B - \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u044b \u043a\u0440\u0443\u043f\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430",Object(Te.jsx)("br",{}),"I - \u0438\u043d\u0432\u0435\u0441\u0442\u043e\u0440\u044b, \u0434\u0435\u043d\u044c\u0433\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043d\u0430 \u043d\u0438\u0445",Object(Te.jsx)("br",{})," "]})},{label:Object(Te.jsx)(Ke.a,{color:"disabled",sx:{fontSize:50,marginBottom:"40px"}}),description:Object(Te.jsx)(W.a,{children:"\u0412 \u044d\u0442\u043e\u0439 \u0438\u0433\u0440\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u0432\u0435\u0441\u044c \u043f\u0443\u0442\u044c - \u043e\u0442 \u043d\u0430\u0451\u043c\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430 \u0434\u043e \u0438\u043d\u0432\u0435\u0441\u0442\u043e\u0440\u0430"})},{label:Object(Te.jsx)(xn.a,{color:"disabled",sx:{fontSize:50,marginBottom:"40px"}}),description:Object(Te.jsx)(W.a,{children:"\u042d\u0442\u043e \u0441\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440 \u0436\u0438\u0437\u043d\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0447\u0438\u0442 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f\u0445 \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u0441\u0432\u043e\u0435 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435."})}];var fn=function(e){var t=e.fetchedUser,n=Object(O.b)(),c=Object(x.useRouter)(),r=a.a.useState(),i=Object(l.a)(r,2),s=i[0],j=i[1],u=a.a.useState(!1),h=Object(l.a)(u,2),g=h[0],w=h[1],C=a.a.useState(!0),z=Object(l.a)(C,2),k=z[0],S=z[1],P=a.a.useState(),I=Object(l.a)(P,2),_=I[0],E=I[1],K=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(_),e.next=3,f.get("/auth/me/".concat(t)).then((function(e){var t=e.data;n(ae(t)),w(!0),S(!1),j("not")})).catch((function(){console.log("user not found"),j("yes"),w(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&(g||(o.a.send("VKWebAppGetLaunchParams").then((function(e){e.vk_app_id&&E(e)})).catch((function(e){console.log(e)})),_&&K()));var A=Object(sn.a)(),F=a.a.useState(0),T=Object(l.a)(F,2),M=T[0],U=T[1],R=hn.length;return Object(Te.jsx)(Jt.b,{centered:!0,children:Object(Te.jsx)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsx)(B.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:s?Object(Te.jsxs)(Te.Fragment,{children:["yes"==s&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(Z.a,{sx:{width:"80%",p:2},children:[Object(Te.jsxs)(Z.a,{sx:{width:"100%"},children:[Object(Te.jsx)(B.a,{justifyContent:"center",alignItems:"center",children:hn[M].label}),hn[M].description]}),Object(Te.jsx)(an.a,{sx:{marginTop:"25px"},variant:"dots",steps:R,position:"static",activeStep:M,nextButton:Object(Te.jsx)($.a,{size:"small",onClick:function(){U((function(e){return e+1}))},disabled:M===R-1,children:"rtl"===A.direction?Object(Te.jsx)(on.a,{}):Object(Te.jsx)(ln.a,{})}),backButton:Object(Te.jsx)($.a,{size:"small",onClick:function(){U((function(e){return e-1}))},disabled:0===M,children:"rtl"===A.direction?Object(Te.jsx)(ln.a,{}):Object(Te.jsx)(on.a,{})})})]}),Object(Te.jsx)($.a,{onClick:function(){return j("not")},children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]}),"not"==s&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)($.a,{disabled:k,onClick:function(){return c.pushPage(y)},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(m)},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(v)},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]}):Object(Te.jsx)(Re.a,{})})})})};var pn=function(e){var t=e.fetchedUser,n=Object(x.useRouter)(),c=Object(O.b)(),r=Object(O.c)((function(e){return e.user.profs})),i=Object(O.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(l.a)(s,2),u=j[0],h=j[1],p=a.a.useState(),m=Object(l.a)(p,2),v=m[0],g=m[1],w=a.a.useState(0),C=Object(l.a)(w,2),z=C[0],k=C[1],S=a.a.useState(!0),P=Object(l.a)(S,2),I=P[0],_=P[1],E=a.a.useState(),K=Object(l.a)(E,2);K[0],K[1],a.a.useEffect((function(){var e=setInterval((function(){I&&k((function(e){return e>=10?10:e+1})),10==z&&I&&A()}),200);return function(){clearInterval(e)}}),[z,I,i]);var A=function(){var e,t,n=(e=0,t=r.length-1,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);g(r[n])},F=function(){var e=Object(b.a)(d.a.mark((function e(n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={firstName:t.first_name,photo100:t.photo_100,userId:t.id,profId:v._id},a=new URLSearchParams(n),e.next=4,f.post("/auth/register/".concat(a),r).then((function(e){c(ae(e.data.user))}));case 4:h(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={profId:v._id},r=new URLSearchParams(t),e.next=4,f.patch("/auth/new/".concat(r),n).then((function(e){c(ae(e.data))}));case 4:h(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(!1),0==Object.keys(i).length?o.a.send("VKWebAppGetLaunchParams").then((function(e){e.vk_app_id&&F(e)})).catch((function(e){console.log(e)})):o.a.send("VKWebAppGetLaunchParams").then((function(e){e.vk_app_id&&T(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u0412\u044b\u0431\u043e\u0440 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438"}),Object(Te.jsxs)(B.a,{sx:{width:"100vw",height:"100vh"},direction:"column",alignItems:"center",justifyContent:"top",spacing:1,children:[Object(Te.jsxs)(W.a,{variant:"subtitle2",sx:{width:"80vw",marginBottom:"20px",marginTop:"50px"},children:["\u041a\u0412\u0410\u0414\u0420\u0410\u041d\u0422 \u0414\u0415\u041d\u0415\u0416\u041d\u041e\u0413\u041e \u041f\u041e\u0422\u041e\u041a\u0410\xa0\u2013 \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438\xa0\u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u043b\u044e\u0434\u0435\u0439 \u043f\u043e\xa0\u0433\u0440\u0443\u043f\u043f\u0430\u043c \u0432\xa0\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441\xa0\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u0445 \u0434\u0435\u043d\u0435\u0433.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"E (Employee) - \u041d\u0430\u0451\u043c\u043d\u044b\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a.",Object(Te.jsx)("br",{}),"S (Self-Employed) - \u0420\u0430\u0431\u043e\u0442\u0430 \u043d\u0430 \u0441\u0435\u0431\u044f.",Object(Te.jsx)("br",{}),"B (Business Owner) - \u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0431\u0438\u0437\u043d\u0435\u0441\u0430.",Object(Te.jsx)("br",{}),"I (Investor) - \u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0426\u0415\u041b\u042c \u0418\u0413\u0420\u042b: \u0441\u0442\u0430\u0442\u044c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0431\u0438\u0437\u043d\u0435\u0441\u0430 \u0438\u043b\u0438 \u0438\u043d\u0432\u0435\u0441\u0442\u043e\u0440\u043e\u043c."]}),v?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f:"}),Object(Te.jsx)(W.a,{variant:"h6",children:v.profName}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e"}),Object(Te.jsx)($.a,{disabled:!I,onClick:function(){return M()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]}):Object(Te.jsx)(Re.a,{}),u&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e ",Object(Te.jsx)("b",{children:v.prof})]}),Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0412\u0430\u0448\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430 ",Object(Te.jsx)("b",{children:v.salary})," \u041a, \u0412\u0430\u043c ",Object(Te.jsx)("b",{children:v.age/12}),", \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0435\u0439: ",Object(Te.jsx)("b",{children:v.childCount}),"."]}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsx)("b",{children:"\u0423\u0434\u0430\u0447\u043d\u043e\u0439 \u0438\u0433\u0440\u044b!"})}),Object(Te.jsx)($.a,{onClick:function(){return n.pushPage(y)},children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]})]})]})},mn=n(247),vn=n.n(mn),gn=n.p+"static/media/bank.c624ff42.png",yn=n.p+"static/media/choose.fe9b981e.png",wn=n.p+"static/media/deals.db5c4edc.png",Cn=[{label:"Choose",imgPath:yn},{label:"Header",imgPath:n.p+"static/media/header.9ec04f55.png"},{label:"Main",imgPath:n.p+"static/media/main.a67b917a.png"},{label:"Deals",imgPath:wn},{label:"Bank",imgPath:gn},{label:"Profile",imgPath:n.p+"static/media/profile.ec4cc714.png"}];var zn=function(){var e=Object(sn.a)(),t=a.a.useState(0),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Cn.length;return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(Te.jsx)(vn.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){r(e)},enableMouseEvents:!0,children:Cn.map((function(e,t){return Object(Te.jsx)("div",{children:Math.abs(c-t)<=2?Object(Te.jsx)(Z.a,{component:"img",sx:{marginLeft:"auto",marginRight:"auto",display:"block",overflow:"hidden",width:"75%"},src:e.imgPath,alt:e.label}):null},e.label)}))}),Object(Te.jsx)(an.a,{variant:"text",steps:i,position:"static",activeStep:c,nextButton:Object(Te.jsx)($.a,{size:"small",onClick:function(){r((function(e){return e+1}))},disabled:c===i-1,children:"rtl"===e.direction?Object(Te.jsx)(on.a,{}):Object(Te.jsx)(ln.a,{})}),backButton:Object(Te.jsx)($.a,{size:"small",onClick:function(){r((function(e){return e-1}))},disabled:0===c,children:"rtl"===e.direction?Object(Te.jsx)(ln.a,{}):Object(Te.jsx)(on.a,{})})})]})},kn=n(587),Sn=n(612),Pn=n(570),In=n(564),_n=n(250),En=n.n(_n),Kn=n(248),An=n.n(Kn),Fn=n(249),Tn=n.n(Fn);var Mn=function(e){e.fetchedUser;var t=Object(x.useRouter)(),n=Object(O.b)(),c=Object(O.c)((function(e){return e.user.user})),r=a.a.useState("auto"),i=Object(l.a)(r,2),s=i[0],j=i[1],u=a.a.useState(!1),h=Object(l.a)(u,2),p=h[0],m=h[1],v=a.a.useState(!1),g=Object(l.a)(v,2),y=g[0],w=g[1],C=a.a.useState(!1),z=Object(l.a)(C,2),k=z[0],S=z[1],P=a.a.useState(!1),I=Object(l.a)(P,2),_=I[0],E=I[1];function K(){return(K=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppJoinGroup",{group_id:218628265}).then((function(e){e.result&&w(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppAllowMessagesFromGroup",{group_id:218628265}).then((function(e){e.result&&S(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppAddToFavorites").then((function(e){e.result&&m(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppAllowNotifications").then((function(e){e.result&&E(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){if(1==c.promoter)m(!0),w(!0),S(!0);else if(1==y&&1==p&&1==k&&1==_){var e=Object(R.a)(Object(R.a)({},c),{},{freeEnergizerCount:10,promoter:!0});n(ae(e)),M(e)}}),[p,y,k,c]),Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(Te.jsxs)(B.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(Te.jsxs)(kn.a,{sx:{marginBottom:"20px"},value:s,exclusive:!0,onChange:function(e,t){null!==t&&(j(t),n(le(t)))},"aria-label":"theme",children:[Object(Te.jsx)(Sn.a,{value:"auto","aria-label":"left aligned",children:Object(Te.jsx)(An.a,{})}),Object(Te.jsx)(Sn.a,{value:"light","aria-label":"centered",children:Object(Te.jsx)(Tn.a,{})}),Object(Te.jsx)(Sn.a,{value:"dark","aria-label":"right aligned",children:Object(Te.jsx)(En.a,{})})]}),c&&Object(Te.jsxs)(In.a,{sx:{width:"80vw"},children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0438 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u0441\u044f \u0434\u043e 10 "}),Object(Te.jsxs)(B.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),y?Object(Te.jsx)(Pn.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return K.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Te.jsxs)(B.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c \u043d\u0430 \u043b\u0441 \u043e\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"}),k?Object(Te.jsx)(Pn.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return A.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Te.jsxs)(B.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c \u043d\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),_?Object(Te.jsx)(Pn.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return T.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Te.jsxs)(B.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0414\u043e\u0431\u0430\u0432\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),p?Object(Te.jsx)(Pn.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return F.apply(this,arguments)}()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(Te.jsx)(B.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"center",alignItems:"center",children:Object(Te.jsx)($.a,{onClick:function(){return t.popPage()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})]})},Un=n(251),Rn=n.n(Un);var Bn=function(){var e=a.a.useState(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=a.a.useState(""),i=Object(l.a)(r,2),s=i[0],j=i[1],u=Object(O.b)(),h=Object(x.useRouter)(),p=Object(O.c)((function(e){return e.user.user}));o.a.send("VKWebAppCheckNativeAds",{ad_format:"reward"}).then((function(e){e.result?c(!1):console.log("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.")})).catch((function(e){console.log(e)}));var m=function(){var e=Object(R.a)(Object(R.a)({},p),{},{onGame:!0,energy:p.maxEnergy});u(ae(e)),v(e),h.pushPage(y)},v=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(p._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=setInterval((function(){var e=+new Date;j(p.datePoint-e),p.datePoint<e&&m()}),1e3);return function(){clearInterval(e)}}),[j,p]),Object(Te.jsx)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(B.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(Te.jsx)(Rn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"h6",children:"\u041f\u0410\u0423\u0417\u0410"}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u0438\u0438"}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437:"}),Object(Te.jsx)(W.a,{variant:"h6",children:function(e){var t=e/36e5,n=Math.floor(t),c=n>9?n:"0"+n,r=60*(t-n),a=Math.floor(r),i=a>9?a:"0"+a,s=60*(r-a),j=Math.floor(s);return c+":"+i+":"+(j>9?j:"0"+j)}(s)}),Object(Te.jsx)(W.a,{variant:"caption",children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0432 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0440\u043e\u043b\u0438\u043a"}),Object(Te.jsx)($.a,{disabled:n,onClick:function(){o.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((function(e){e.result?m():console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043a\u0430\u0437\u0435")})).catch((function(e){console.log(e)}))},children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443"})]})})};var Wn=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})),c=n.filter((function(t){var n=t._id;return e.house.includes(n)})),r=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),a=t.filter((function(t){var n=t._id;return e.car.includes(n)}));return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(W.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(Te.jsx)(Tt.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:c.map((function(e,t){return Object(Te.jsx)(Dt,{house:e,isMy:e._id},t)}))}),r.length>0&&Object(Te.jsx)(W.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(Te.jsx)(Tt.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:r.map((function(e,t){return Object(Te.jsx)(Dt,{house:e,isMy:e._id,isRent:!0},e._id)}))}),a.length>0&&Object(Te.jsx)(W.a,{variant:"overline",children:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(Te.jsx)(Tt.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:a.map((function(e,t){return Object(Te.jsx)(Wt,{car:e,isMy:e._id},e._id)}))}),Object(Te.jsx)(Q.a,{})]})},Vn=n(183),Gn=n.n(Vn),Nn=n(613),Dn=n(252),Ln=n.n(Dn);var Hn=function(e){var t=e.friend,n=e.invisible,c=e.disabled,r=Object(O.b)(),i=Object(O.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(l.a)(s,2),o=j[0],u=j[1],x=function(){var e=Object(b.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsx)(L.a,{onClick:function(){return function(e,c){if(0==n){var a=Object(R.a)(Object(R.a)({},i),{},{greetingIn:i.greetingIn.filter((function(e){return e!==c})),disabled:[].concat(Object(Kt.a)(i.disabled),[c]),energizer:i.energizer+1});r(ae(a));var s=Object(R.a)(Object(R.a)({},t),{},{greetingOut:t.greetingOut.filter((function(e){return e!==i.userId})),disabled:[].concat(Object(Kt.a)(t.disabled),[i.userId]),energizer:t.energizer+1});x(e,s)}else{var j=Object(R.a)(Object(R.a)({},i),{},{greetingOut:[].concat(Object(Kt.a)(i.greetingOut),[c])});r(ae(j));var o=Object(R.a)(Object(R.a)({},t),{},{greetingIn:[].concat(Object(Kt.a)(t.greetingIn),[i.userId])});x(e,o)}}(t._id,t.userId)},color:"primary",variant:"contained",size:"small",disabled:c,children:Object(Te.jsx)(xe.a,{color:"secondary",variant:"dot",invisible:n,children:Object(Te.jsx)(Ln.a,{})})}),children:[Object(Te.jsx)(H.a,{onClick:function(){return u(!o)},children:Object(Te.jsx)(q.a,{src:t.photo100})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"subtitle1",children:t.firstName}),secondary:Object(Te.jsxs)(W.a,{variant:"caption",children:["\u0420\u0435\u043a\u043e\u0440\u0434: ",t.lifesCount," K/\u0433\u043e\u0434"]})})]}),Object(Te.jsx)(Nn.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(Te.jsx)(N.a,{component:"div",children:Object(Te.jsx)(D.a,{children:Object(Te.jsxs)(B.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.prof]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.cashflow," \u041a"]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0439:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.bizCount]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.deposit," \u041a"]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.rentCount]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.houseSumm," \u041a"]})})]})]})})})}),Object(Te.jsx)(Ye.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{})]})};var qn=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.user})),n=Object(O.c)((function(e){return e.user.friends})),c=Object(O.c)((function(e){return e.user.users})),r=n.map((function(e){return e.id})).map((function(e){return String(e)})),a=c.filter((function(e){var t=e.userId;return r.includes(t)})),i=a.filter((function(e){var n=e.userId;return t.greetingIn.includes(n)})),s=a.filter((function(e){var n=e.userId;return t.greetingOut.includes(n)})),j=a.filter((function(e){var n=e.userId;return t.disabled.includes(n)})),l=a.filter((function(e){var n=e.userId;return!t.greetingIn.includes(n)})).filter((function(e){var n=e.userId;return!t.greetingOut.includes(n)})).filter((function(e){var n=e.userId;return!t.disabled.includes(n)}));function u(){return(u=Object(b.a)(d.a.mark((function t(){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:51483243,scope:"friends"});case 2:return n=t.sent,t.next=5,o.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{order:"hints",fields:"photo_100",v:"5.131",access_token:n.access_token}});case 5:c=t.sent,e(se(c.response.items));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(Te.jsxs)(G.a,{disableGutters:!0,children:[0==n.length?Object(Te.jsxs)(B.a,{direction:"column",sx:{width:"100%",height:"60vh"},alignItems:"center",justifyContent:"center",spacing:1,children:[Object(Te.jsx)(Gn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(Te.jsx)(W.a,{sx:{padding:"20px"},variant:"caption",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0433\u0440\u0430\u044e\u0442 \u0432 \u044d\u0442\u0443 \u0438\u0433\u0440\u0443. \u0412\u044b \u0438\u0445 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c, \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u0442\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0442, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 5 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e."}),Object(Te.jsx)($.a,{onClick:function(){return function(){return u.apply(this,arguments)}()},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"})]}):Object(Te.jsx)(Te.Fragment,{children:0==a.length?Object(Te.jsxs)(B.a,{sx:{width:"100%",height:"60vh"},direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[Object(Te.jsx)(Gn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(W.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0435"}),Object(Te.jsx)(W.a,{sx:{padding:"20px"},variant:"caption",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0433\u0440\u0430\u044e\u0442 \u0432 \u044d\u0442\u0443 \u0438\u0433\u0440\u0443. \u0412\u044b \u0438\u0445 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c, \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u0442\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0442, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 5 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]}):Object(Te.jsxs)(N.a,{dense:!0,children:[i.map((function(e){return Object(Te.jsx)(Hn,{friend:e,invisible:!1,disabled:!1},e.userId)})),l.map((function(e){return Object(Te.jsx)(Hn,{friend:e,invisible:!0,disabled:!1},e.userId)})),s.map((function(e){return Object(Te.jsx)(Hn,{friend:e,invisible:!0,disabled:!0},e.userId)})),j.map((function(e){return Object(Te.jsx)(Hn,{friend:e,invisible:!0,disabled:!0},e.userId)}))]})}),Object(Te.jsx)(Q.a,{})]})};var Jn=function(){var e=Object(O.c)((function(e){return e.user.user}));return Object(Te.jsx)(Z.a,{sx:{width:"100%"},children:Object(Te.jsxs)(B.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"body2",children:"\u0420\u0435\u043a\u043e\u0440\u0434\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),Object(Te.jsx)(W.a,{variant:"body2",children:Object(Te.jsxs)("b",{children:[" ",e.lifesCount," \u041a/\u0433\u043e\u0434"]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.prof]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.cashflow," \u041a"]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0439:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.bizCount]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.deposit," \u041a"]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.rentCount]})})]}),Object(Te.jsxs)(B.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(W.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438:"}),Object(Te.jsx)(W.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.houseSumm," \u041a"]})})]})]})})};var Xn=function(){var e,t=Object(O.c)((function(e){return e.user.users})),n=Object(Kt.a)(t).sort((e="lifesCount",function(t,n){return t[e]>n[e]?1:-1})).reverse();return Object(Te.jsxs)(G.a,{disableGutters:!0,children:[Object(Te.jsx)(N.a,{dense:!0,children:n.map((function(e){return Object(Te.jsxs)(D.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{variant:"subtitle1",children:[e.lifesCount," K/\u0433\u043e\u0434"]}),children:[Object(Te.jsx)(H.a,{children:Object(Te.jsx)(q.a,{src:e.photo100})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(W.a,{variant:"subtitle1",children:e.firstName}),secondary:Object(Te.jsx)(W.a,{variant:"caption",children:"\u0420\u0435\u043a\u043e\u0440\u0434:"})})]},e.userId)}))}),Object(Te.jsx)(Q.a,{})]})};var Qn=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(O.c)((function(e){return e.user.greetings})),j=Object(O.b)();function u(){return(u=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:51483243,scope:"friends"});case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{order:"hints",fields:"photo_100",v:"5.131",access_token:t.access_token}});case 5:n=e.sent,j(se(n.response.items));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(He.a,{}),Object(Te.jsxs)(W.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u041f\u0420\u041e\u0424\u0418\u041b\u042c"})," \u043c\u043e\u0436\u043d\u043e",Object(Te.jsx)("br",{}),"-\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c",Object(Te.jsx)("br",{}),"-\u043f\u0440\u043e\u0434\u0430\u0442\u044c \u0435\u0435",Object(Te.jsx)("br",{}),"-\u0441\u0434\u0430\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443",Object(Te.jsx)("br",{}),"-\u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",Object(Te.jsx)("br",{}),"-\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0445 \u0440\u0435\u043a\u043e\u0440\u0434\u044b",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041f\u0440\u0438 \u0432\u0437\u0430\u0438\u043c\u043d\u043e\u043c ",Object(Te.jsx)("b",{children:"\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438"})," \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0443",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)("b",{children:"\u0420\u0435\u043a\u043e\u0440\u0434 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f"})," \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432"]})]});return Object(Te.jsxs)(V.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:[Object(Te.jsx)(Pt,{name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Te.jsxs)(G.a,{children:[Object(Te.jsx)(Me,{fetchedUser:t,info:x}),Object(Te.jsxs)(_t.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",variant:"scrollable",scrollButtons:"auto",children:[Object(Te.jsx)(Et.a,{value:"one",label:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c"})}),Object(Te.jsx)(Et.a,{onClick:function(){return function(){return u.apply(this,arguments)}()},value:"two",label:Object(Te.jsx)(xe.a,{color:"secondary",variant:"dot",invisible:!s,children:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})})}),Object(Te.jsx)(Et.a,{value:"three",label:Object(Te.jsx)(W.a,{variant:"body2",children:"\u041c\u043e\u0439 \u0440\u0435\u043a\u043e\u0440\u0434"})}),Object(Te.jsx)(Et.a,{value:"four",label:Object(Te.jsx)(W.a,{variant:"body2",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"})})]}),"one"===r&&Object(Te.jsx)(Wn,{}),"two"===r&&Object(Te.jsx)(qn,{}),"three"===r&&Object(Te.jsx)(Jn,{}),"four"===r&&Object(Te.jsx)(Xn,{}),Object(Te.jsx)(Q.a,{}),Object(Te.jsx)(Qe,{value:z})]})]})},Yn=Object(ee.b)("houses/getHouses",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/houses");case 3:r=e.sent,c($n(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Zn=Object(ee.c)({name:"houses",initialState:{houses:[]},reducers:{setHouses:function(e,t){e.houses=t.payload}}}),$n=Zn.actions.setHouses,ec=Zn.reducer,tc=Object(ee.b)("cars/getCars",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/cars");case 3:r=e.sent,c(cc(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),nc=Object(ee.c)({name:"cars",initialState:{cars:[]},reducers:{setCars:function(e,t){e.cars=t.payload}}}),cc=nc.actions.setCars,rc=nc.reducer,ac=Object(ee.b)("bizs/getBizs",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/bizs");case 3:r=e.sent,c(sc(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ic=Object(ee.c)({name:"bizs",initialState:{bizs:[]},reducers:{setBizs:function(e,t){e.bizs=t.payload}}}),sc=ic.actions.setBizs,jc=ic.reducer,oc=(n(504),n(184)),bc=n(588),lc=Object(x.withRouter)((function(){var e=Object(r.useState)("bright_light"),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),i=Object(l.a)(a,2),s=i[0],j=i[1],u=Object(O.c)((function(e){return e.user.user})),h=Object(O.c)((function(e){return e.user.theme})),f=Object(O.b)(),p=Object(x.useLocation)();Object(r.useEffect)((function(){var e;(null===u||void 0===u?void 0:u.debts)>0?f(je(!0)):f(je(!1)),(null===u||void 0===u||null===(e=u.greetingIn)||void 0===e?void 0:e.length)>0?f(oe(!0)):f(oe(!1))}),[u]),Object(r.useEffect)((function(){function e(){return e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}f(Yn()),f(tc()),f(ac()),f(te()),f(ne()),o.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;"VKWebAppUpdateConfig"===n&&c(r.scheme)})),function(){e.apply(this,arguments)}()}),[]);var m=Object(oc.a)("dark"==h?{palette:{mode:"dark"},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:"light"==h?{palette:{mode:"light",background:{default:"#FFFFFF",paper:"#F2F2F2"}},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:"auto"==h?"bright_light"==n?{palette:{mode:"light",background:{default:"#FFFFFF",paper:"#F2F2F2"}},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:{palette:{mode:"dark"},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:void 0);return Object(Te.jsx)(Jt.a,{children:Object(Te.jsx)(bc.a,{theme:m,children:Object(Te.jsxs)(Jt.c,{id:T,history:p.hasOverlay()?[]:p.getViewHistory(T),activePanel:p.getViewActivePanel(T),children:[Object(Te.jsx)(fn,{id:k,fetchedUser:s}),Object(Te.jsx)(pn,{id:S,fetchedUser:s}),Object(Te.jsx)(zn,{id:P}),Object(Te.jsx)(Mn,{id:I,fetchedUser:s}),Object(Te.jsx)(Bn,{id:_}),Object(Te.jsx)(It,{id:E,fetchedUser:s}),Object(Te.jsx)(Xt,{id:K,fetchedUser:s}),Object(Te.jsx)(rn,{id:A,fetchedUser:s}),Object(Te.jsx)(Qn,{id:F,fetchedUser:s})]})})})})),uc=Object(ee.a)({reducer:{user:de,houses:ec,cars:rc,bizs:jc}});o.a.send("VKWebAppInit"),s.a.render(Object(Te.jsx)(x.RouterContext.Provider,{value:U,children:Object(Te.jsx)(O.a,{store:uc,children:Object(Te.jsx)(lc,{})})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.3bbfdded.chunk.js.map