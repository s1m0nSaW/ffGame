(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{475:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n.n(r),i=n(49),s=n.n(i),j=n(34),o=n.n(j),b=n(20),u=n(8),l=n(16),d=n.n(l),O=n(13),x=n(21),h=n(3),f=n(533).a.create({baseURL:"https://financial-freedom-game.ru"}),p="/register",m="/training",v="/settings",g="/pause",y="/main",w="/property",C="/bank",z="/profile",k="panel_intro",S="panel_register",_="panel_training",P="panel_settings",I="panel_pause",E="panel_main",K="panel_property",F="panel_bank",T="panel_profile",A="view_main",M=(c={},Object(h.a)(c,"/",new x.Page(k,A)),Object(h.a)(c,p,new x.Page(S,A)),Object(h.a)(c,m,new x.Page(_,A)),Object(h.a)(c,v,new x.Page(P,A)),Object(h.a)(c,g,new x.Page(I,A)),Object(h.a)(c,y,new x.Page(E,A)),Object(h.a)(c,w,new x.Page(K,A)),Object(h.a)(c,C,new x.Page(F,A)),Object(h.a)(c,z,new x.Page(T,A)),c),U=new x.Router(M);U.start();var R=n(12),W=n(518),B=n(105),D=n(546),N=n(550),V=n(569),G=n(541),H=n(557),q=n(562),L=n(547),J=n(523),Q=n(563),X=n(559),Y=n(539),Z=n(530),$=n(551),ee=n(43),te=Object(ee.b)("users/getUsers",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/auth/users");case 3:r=e.sent,c(ie(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ne=Object(ee.b)("users/getProfs",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/profs");case 3:r=e.sent,c(be(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(ee.c)({name:"user",initialState:{user:{},users:[],friends:[],profs:[],debts:!1,greetings:!1,theme:"auto"},reducers:{setUser:function(e,t){e.user=t.payload},setUsers:function(e,t){e.users=t.payload},setFriends:function(e,t){e.friends=t.payload},setProfs:function(e,t){e.profs=t.payload},setDebts:function(e,t){e.debts=t.payload},setGreetings:function(e,t){e.greetings=t.payload},setTheme:function(e,t){e.theme=t.payload}}}),re=ce.actions,ae=re.setUser,ie=re.setUsers,se=re.setFriends,je=re.setDebts,oe=re.setGreetings,be=re.setProfs,ue=re.setTheme,le=ce.reducer,de=n(558),Oe=n(537),xe=n(548),he=n(549),fe=n(540),pe=n(231),me=n.n(pe),ve=n(173),ge=n.n(ve),ye=n(139),we=n.n(ye),Ce=n(91),ze=n.n(Ce),ke=n(234),Se=n.n(ke),_e=n(230),Pe=n.n(_e),Ie=n(170),Ee=n.n(Ie),Ke=n(176),Fe=n.n(Ke),Te=n(0),Ae=function(e){var t=e.fetchedUser,n=e.info,c=Object(x.useRouter)(),r=Object(O.b)(),i=a.a.useState(!1),s=Object(u.a)(i,2),j=s[0],o=s[1],l=a.a.useState(!1),h=Object(u.a)(l,2),p=h[0],m=h[1],v=a.a.useState(!1),g=Object(u.a)(v,2),y=g[0],w=g[1],C=a.a.useState(!1),z=Object(u.a)(C,2),k=z[0],S=z[1],_=a.a.useState("default"),P=Object(u.a)(_,2),I=P[0],E=P[1],K=a.a.useState(0),F=Object(u.a)(K,2),T=F[0],A=F[1],M=a.a.useState(0),U=Object(u.a)(M,2),D=U[0],V=U[1],G=a.a.useState(Object(Te.jsx)("b",{children:"E"})),q=Object(u.a)(G,2),Q=q[0],Y=q[1],Z=a.a.useState(0),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ne=Object(O.c)((function(e){return e.user.user})),ce=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return ne.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0);a.a.useEffect((function(){ne.energizer>0&&ne.energy<ne.maxEnergy?E("primary"):E("default"),"\u041c\u0430\u043b\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"!=ne.prof&&"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"!=ne.prof||(Y(Object(Te.jsx)("b",{children:"S"})),te(ne.time-(ce+ne.workTime))),"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==ne.prof&&(Y(Object(Te.jsx)("b",{children:"B"})),te(ne.time)),"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440"==ne.prof&&(Y(Object(Te.jsx)("b",{children:"I"})),te(ne.time));var e=setInterval((function(){!ne.freeEnergizer&&A((function(e){return e>=100?100:e+1}));var e=+new Date;if(e>ne.freeEnergizer){var t=Object(R.a)(Object(R.a)({},ne),{},{freeEnergizerOn:!0});r(ae(t)),re(t)}V(ne.freeEnergizer-e),100==T&&A(0)}),100);return function(){clearInterval(e)}}),[ne,A]);var re=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(ne._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=(W.a,B.a,W.a,ge.a,B.a,W.a,ze.a,B.a,W.a,we.a,B.a,W.a,Pe.a,B.a,Object(Te.jsx)(a.a.Fragment,{children:Object(Te.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){w(!1),o(!1),m(!1),S(!1)},children:Object(Te.jsx)(me.a,{fontSize:"small"})})}));return Object(Te.jsxs)(de.a,{component:"nav",color:"inherit",sx:{padding:"10px",borderRadius:"10px",top:10,marginBottom:"10px"},position:"sticky",children:[t?Object(Te.jsx)(X.a,{disableGutters:!0,children:Object(Te.jsxs)(W.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(W.a,{direction:"row",spacing:1,children:[Object(Te.jsx)(W.a,{children:Object(Te.jsx)(Oe.a,{overlap:"rectangular",anchorOrigin:{vertical:"top",horizontal:"left"},badgeContent:Q,children:Object(Te.jsx)(L.a,{onClick:function(){c.pushPage("/")},src:t.photo_200})})}),Object(Te.jsxs)(W.a,{direction:"column",children:[Object(Te.jsxs)(B.a,{variant:"caption",children:[t.first_name," ",t.last_name]}),Object(Te.jsxs)(B.a,{children:["\u0411\u0430\u043b\u0430\u043d\u0441: ",ne.balance," K"]})]})]}),Object(Te.jsxs)(W.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(Te.jsx)(xe.a,{label:Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[ne.energy,"/",ne.maxEnergy]})}),deleteIcon:Object(Te.jsx)(Se.a,{sx:{color:"black"}}),onDelete:function(){if(ne.energizer>0&&ne.energy<ne.maxEnergy){var e=ne.energizer-1,t=ne.maxEnergy,n=Object(R.a)(Object(R.a)({},ne),{},{energizer:e,energy:t});r(ae(n)),re(n)}},icon:Object(Te.jsx)(ge.a,{}),size:"small",color:I}),Object(Te.jsx)(xe.a,{label:Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsx)("b",{children:ne.energizer})}),icon:Object(Te.jsx)(ze.a,{sx:{color:"black"}}),onClick:function(){return o(!0)},size:"small",color:"secondary"}),Object(Te.jsx)(xe.a,{label:Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[ee,"/",ne.time]})}),icon:Object(Te.jsx)(we.a,{sx:{color:"black"}}),onClick:function(){return m(!0)},size:"small",color:"success"}),Object(Te.jsx)(xe.a,{label:Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[Math.trunc(ne.age/12),"/60"]})}),icon:Object(Te.jsx)(Fe.a,{}),onClick:function(){return w(!0)},size:"small",color:"warning"})]}),Object(Te.jsxs)(W.a,{direction:"row",sx:{marginTop:"15px"},children:[ne.freeEnergizerOn?Object(Te.jsx)(xe.a,{label:Object(Te.jsxs)("b",{children:["\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0438 +",ne.freeEnergizerCount]}),onClick:function(){return function(){var e=+new Date,t=ne.energizer+ne.freeEnergizerCount,n=Object(R.a)(Object(R.a)({},ne),{},{energizer:t,freeEnergizer:e+864e5,freeEnergizerOn:!1,disabled:[]});r(ae(n)),re(n)}()},color:"primary",icon:Object(Te.jsx)(ze.a,{}),size:"small"}):Object(Te.jsx)(xe.a,{label:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 ".concat(function(e){var t=e/36e5,n=Math.floor(t),c=n>9?n:"0"+n,r=60*(t-n),a=Math.floor(r),i=a>9?a:"0"+a,s=60*(r-a),j=Math.floor(s);return c+":"+i+":"+(j>9?j:"0"+j)}(D)),icon:Object(Te.jsx)(ze.a,{}),size:"small"}),Object(Te.jsx)(Ee.a,{onClick:function(){return S(!0)},color:"primary",sx:{marginLeft:"auto"}})]})]})}):Object(Te.jsxs)(X.a,{children:[Object(Te.jsx)(he.a,{variant:"circular",width:40,height:40,animation:"wave"}),Object(Te.jsx)(N.a,{children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(he.a,{}),secondary:Object(Te.jsx)(he.a,{})})})]}),Object(Te.jsxs)("div",{children:[Object(Te.jsx)(fe.a,{open:j,onClose:function(){return o(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(ze.a,{}),Object(Te.jsxs)(B.a,{children:[Object(Te.jsx)("b",{children:"\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a"})," \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u044e.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u041a\u0430\u0436\u0434\u044b\u0435 24 \u0447\u0430\u0441\u0430 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f ",Object(Te.jsx)("b",{children:"2 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0430"}),", \u0438\u0445 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0434\u043e 10, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432 ",Object(Te.jsx)("b",{children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445"}),".",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u042d\u043d\u0435\u0440\u0433\u0438\u044f - ",Object(Te.jsx)("b",{children:"\u0440\u0430\u0441\u0445\u043e\u0434\u0443\u0435\u0442\u0441\u044f"})," \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043a\u043e\u0433\u0434\u0430 \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430."]})]}),action:ie}),Object(Te.jsx)(fe.a,{open:p,onClose:function(){return m(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(we.a,{}),Object(Te.jsxs)(B.a,{children:["\u0412\u0440\u0435\u043c\u044f ",Object(Te.jsx)("b",{children:"\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e"})," \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 14 \u0447.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})," \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0434\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430 \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0432 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442."]})]}),action:ie}),Object(Te.jsx)(fe.a,{open:y,onClose:function(){return w(!1)},message:Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Fe.a,{}),Object(Te.jsx)(B.a,{children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u043f\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 60 \u043b\u0435\u0442 \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f."})]}),action:ie}),Object(Te.jsx)(fe.a,{open:k,onClose:function(){return S(!1)},message:n,action:ie})]})]})},Me=n(560),Ue=n(561),Re=n(122),We=n.n(Re),Be=n(123),De=n.n(Be),Ne=n(124),Ve=n.n(Ne),Ge=n(121),He=n.n(Ge);var qe=function(e){var t=e.value,n=Object(x.useRouter)(),c=Object(O.c)((function(e){return e.user.debts})),r=Object(O.c)((function(e){return e.user.greetings}));return Object(Te.jsx)(D.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(Te.jsxs)(Me.a,{value:t,onChange:function(e,t){n.pushPage(t)},children:[Object(Te.jsx)(Ue.a,{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",value:y,icon:Object(Te.jsx)(He.a,{})}),Object(Te.jsx)(Ue.a,{label:"\u0421\u0434\u0435\u043b\u043a\u0438",value:w,icon:Object(Te.jsx)(We.a,{})}),Object(Te.jsx)(Ue.a,{label:"\u0411\u0430\u043d\u043a",value:C,icon:Object(Te.jsx)(Oe.a,{color:"secondary",variant:"dot",invisible:!c,children:Object(Te.jsx)(De.a,{})})}),Object(Te.jsx)(Ue.a,{label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",value:z,icon:Object(Te.jsx)(Oe.a,{color:"secondary",variant:"dot",invisible:!r,children:Object(Te.jsx)(Ve.a,{})})})]})})},Le=n(526),Je=n(564),Qe=n(529),Xe=n(566),Ye=n(567),Ze=n(568),$e=n(81),et=n(525),tt=n(86),nt=n.n(tt),ct=n(125),rt=n.n(ct),at=n(126),it=n.n(at),st=n(127),jt=n.n(st),ot=n(85),bt=n.n(ot);var ut=function(e){var t=e.biz,n=a.a.useState("inherit"),c=Object(u.a)(n,2),r=c[0],i=c[1],s=function(){return Object(Te.jsx)(rt.a,{color:"warning",onClick:function(){return w(!0)}})},j=function(){return Object(Te.jsx)(it.a,{color:"success",onClick:function(){return w(!0)}})},o=function(){return Object(Te.jsx)(jt.a,{color:"secondary",onClick:function(){return w(!0)}})},l=function(){return Object(Te.jsx)(bt.a,{onClick:function(){return w(!0)}})},x=a.a.useState($e.a[300]),h=Object(u.a)(x,2),p=h[0],m=h[1],v=a.a.useState(!1),g=Object(u.a)(v,2),y=g[0],w=g[1],C=a.a.useState((t.maxProfit-t.minProfit)/2+t.minProfit),z=Object(u.a)(C,2),k=z[0],S=z[1],_=a.a.useState(0),P=Object(u.a)(_,2),I=P[0],E=P[1],K=10*I,F=a.a.useState(!0),T=Object(u.a)(F,2),A=T[0],M=T[1],U=Object(O.b)(),D=Object(O.c)((function(e){return e.user.user})),N=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return D.bizs.includes(t)})),V=N.map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0),X=a.a.useState((function(){return Object(Te.jsx)(he.a,{animation:"wave",variant:"circular",width:40,height:40})})),Y=Object(u.a)(X,2),Z=Y[0],ee=Y[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?(i("secondary"),ee(o)):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?(i("warning"),ee(s)):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType?(i("success"),ee(j)):"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"==t.bizType&&ee(l)}),[t.bizType]);var te=function(){M(!1);var e,n,c=(e=t.minProfit,n=t.maxProfit,e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e);m(c>0?$e.a[700]:et.a[500]),S(c)},ne=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(D._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=setInterval((function(){(!t.requiredTime<=D.time-(V+D.workTime)||"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==D.prof||"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==D.prof)&&A&&E((function(e){return e>=10?10:e+1})),10==I&&(D.energy<=0?function(){var e=+new Date,t=Object(R.a)(Object(R.a)({},D),{},{onGame:!1,datePoint:e+3e5});U(ae(t)),ne(t)}():te())}),500);return function(){clearInterval(e)}}),[A,I,t]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"h6",sx:{color:p},children:[Math.trunc(k)," K"]}),Object(Te.jsx)(H.a,{onClick:function(){return function(e,t){M(!0),10==I&&E(0);var n=D.balance+e,c=D.energy-3,r=Object(R.a)(Object(R.a)({},D),{},{balance:n,energy:c});U(ae(r)),ne(r)}(Math.trunc(k),t.requiredEnergy)},color:"primary",disabled:A,variant:"contained",size:"small",children:Object(Te.jsx)(nt.a,{})})]}),children:[Object(Te.jsx)(q.a,{children:Object(Te.jsx)(L.a,{children:Z})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:[t.bizName,Object(Te.jsx)("br",{}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",t.maxProfit," K"]})]}),secondary:Object(Te.jsx)(Q.a,{sx:{width:.5},variant:"determinate",value:K,color:r})})]}),Object(Te.jsx)(Le.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(Je.a,{open:y,onClose:function(){return w(!1)},fullWidth:!0,children:[Object(Te.jsx)(Qe.a,{children:t.bizName}),Object(Te.jsx)(Xe.a,{children:Object(Te.jsxs)(Ye.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(Te.jsx)("b",{children:t.bizType}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(Te.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]}),Object(Te.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.minProfit," K"]}),Object(Te.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(Ze.a,{children:[Object(Te.jsx)($.a,{onClick:function(){!function(e,t){var n=D.balance+t,c=N.filter((function(t){return t._id!==e})),r=Object(R.a)(Object(R.a)({},D),{},{balance:n,bizs:c.map((function(e){return e._id}))});U(ae(r)),ne(r)}(t._id,t.sellPrice),w(!1)},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return w(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})};var lt=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})).filter((function(t){var n=t._id;return e.house.includes(n)})),c=t.filter((function(t){var n=t._id;return e.car.includes(n)})),r=n.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),i=c.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),s=a.a.useState(0),j=Object(u.a)(s,2),o=j[0],b=j[1],l=a.a.useState(!1),d=Object(u.a)(l,2),x=d[0],h=d[1],f=Object(O.b)();return a.a.useEffect((function(){var t=setInterval((function(){b((function(e){return e>=99?99:e+1})),99==o&&(!function(){var t=e.balance+e.salary,n=Object(R.a)(Object(R.a)({},e),{},{balance:t});f(ae(n))}(),b(0))}),100);return function(){clearInterval(t)}}),[o]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"h6",children:[e.salary," K"]}),children:[Object(Te.jsx)(q.a,{onClick:function(){return h(!0)},children:Object(Te.jsx)(L.a,{children:Object(Te.jsx)(bt.a,{color:"action"})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:["\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ",e.prof,Object(Te.jsx)("br",{})]}),secondary:Object(Te.jsx)(Q.a,{sx:{width:.5},variant:"determinate",value:o,color:"inherit"})})]}),Object(Te.jsxs)(Je.a,{open:x,onClose:function(){return h(!1)},fullWidth:!0,children:[Object(Te.jsx)(Qe.a,{children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),Object(Te.jsx)(Xe.a,{children:Object(Te.jsxs)(Ye.a,{children:["\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ",Object(Te.jsx)("b",{children:e.prof}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438: ",Object(Te.jsx)("b",{children:"8\u0447."}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u043e\u043c: ",Object(Te.jsxs)("b",{children:[r," K"]}),Object(Te.jsx)("br",{}),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442: ",Object(Te.jsxs)("b",{children:[i," K"]}),Object(Te.jsx)("br",{}),"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b: ",Object(Te.jsxs)("b",{children:[e.expenses," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(Ze.a,{children:[Object(Te.jsx)($.a,{onClick:function(){!function(){var t=Object(R.a)(Object(R.a)({},e),{},{prof:"\u041c\u0430\u043b\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",workTime:0,salary:0});f(ae(t))}(),h(!1)},children:"\u0423\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(Te.jsx)($.a,{onClick:function(){return h(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},dt=n(130),Ot=n.n(dt);var xt=function(){var e=a.a.useState(0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=a.a.useState(!0),i=Object(u.a)(r,2),s=i[0],j=i[1],o=n,b=Object(O.b)(),l=Object(O.c)((function(e){return e.user.user})),d=Object(O.c)((function(e){return e.houses.houses})).filter((function(e){var t=e._id;return l.rent.includes(t)})).map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0);return a.a.useEffect((function(){var e=setInterval((function(){s&&c((function(e){return e>=100?100:e+1})),100==n&&j(!1)}),100);return function(){clearInterval(e)}}),[n]),Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"h6",children:[d," K"]}),Object(Te.jsx)(H.a,{onClick:function(){return function(){j(!0);var e=l.balance+d,t=Object(R.a)(Object(R.a)({},l),{},{balance:e});b(ae(t)),c(0)}()},color:"primary",disabled:s,variant:"contained",size:"small",children:Object(Te.jsx)(nt.a,{})})]}),children:[Object(Te.jsx)(q.a,{children:Object(Te.jsx)(L.a,{children:Object(Te.jsx)(Ot.a,{color:"action"})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),secondary:Object(Te.jsx)(Q.a,{sx:{width:.5},variant:"determinate",value:o,color:"inherit"})})]}),Object(Te.jsx)(Le.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{})]})},ht=n(177),ft=n.n(ht),pt=n(133),mt=n.n(pt),vt=n(58);var gt=function(e){var t=e.fetchedUser,n=Object(O.b)(),c=Object(x.useRouter)(),r=Object(O.c)((function(e){return e.user.user})),i=Object(O.c)((function(e){return e.bizs.bizs})),s=Object(O.c)((function(e){return e.houses.houses})),j=Object(O.c)((function(e){return e.cars.cars})),o=s.filter((function(e){var t=e._id;return r.house.includes(t)})),l=j.filter((function(e){var t=e._id;return r.car.includes(t)})),h=i.filter((function(e){var t=e._id;return r.bizs.includes(t)})),m=s.filter((function(e){var t=e._id;return r.rent.includes(t)})),v=m.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),w=o.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),C=o.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),z=l.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),k=l.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),S=m.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),_=m.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),P=r.credits.map((function(e){return e.debt})).reduce((function(e,t){return e+t}),0),I=r.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),E=5*r.children+r.expenses+z+w+S,K=a.a.useState(0),F=Object(u.a)(K,2),T=F[0],A=F[1],M=a.a.useState(!0),U=Object(u.a)(M,2),ee=U[0],te=U[1],ne=a.a.useState(0),ce=Object(u.a)(ne,2),re=ce[0],ie=ce[1],se=a.a.useState(!1),je=Object(u.a)(se,2),oe=je[0],be=je[1],ue=a.a.useState(!1),le=Object(u.a)(ue,2),de=le[0],Oe=le[1],xe=a.a.useState(!1),he=Object(u.a)(xe,2),fe=he[0],pe=he[1],me=a.a.useState(!1),ve=Object(u.a)(me,2),ge=ve[0],ye=ve[1],we=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(r._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a.a.useEffect((function(){0==r.onGame&&c.pushPage(g)}),[r]),a.a.useEffect((function(){var e=setInterval((function(){r.balance<r.debts+P&&r.credits.length>=5&&o.length<=1&&h.length<=0&&l.length<=0&&m.length<=0&&Oe(!0),function(){if(r.age>=720){if(r.record.cashflow<Math.round(.13*r.deposit.amount/12+v)&&0==I){var e={prof:r.prof,age:Math.trunc(r.age/12),cashflow:Math.round(.13*r.deposit.amount/12+v),bizCount:h.length,deposit:r.deposit.amount,rentCount:m.length,houseSumm:C+_,carSum:k},t=Object(R.a)(Object(R.a)({},r),{},{record:e});n(ae(t)),we(t)}pe(!0)}}(),r.onGame&&A((function(e){return e>=1198?1198:e+1})),1198==T&&(r.debts>=0&&be(!0),A(0)),101!=T&&201!=T&&301!=T&&401!=T&&501!=T&&601!=T&&701!=T&&801!=T&&901!=T&&1001!=T&&1101!=T&&1197!=T||function(){var e=r.age+1,t=r.debts+E,c=Object(R.a)(Object(R.a)({},r),{},{credits:function(e){for(var t=[],n=0;n<e.length;n++){var c=e[n];c.debt>=c.amount?t.push({id:c.id,amount:c.amount,debt:c.debt,payment:c.payment}):t.push({id:c.id,amount:c.amount,debt:c.debt+c.payment,payment:c.payment})}return t.sort((function(e,t){return e.id-t.id}))}(r.credits),debts:t,age:e});n(ae(c)),we(c)}();var e=+new Date;r.deposit.date<=e&&(te(!1),ie(100)),ee&&ie(Math.round(100-(r.deposit.date-e)/10/120)),r.deposit.date>e&&te(!0)}),100);return function(){clearInterval(e)}}),[T]);var Ce={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4},ze=function(){return Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(mt.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(Te.jsx)(B.a,{variant:"caption",children:'\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0421\u0434\u0435\u043b\u043a\u0438"'})]})},ke=function(){return Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(ft.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0432\u043a\u043b\u0430\u0434\u0430"}),Object(Te.jsx)(B.a,{variant:"caption",children:'\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432\u043a\u043b\u0430\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"'})]})},Se=function(){return Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(Ot.a,{color:"disabled",sx:{fontSize:40,marginTop:"15px"}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(Te.jsx)(B.a,{variant:"caption",children:'\u0421\u0434\u0430\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443 \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c"'})]})},_e=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(He.a,{}),Object(Te.jsxs)(B.a,{children:["\u041d\u0430 ",Object(Te.jsx)("b",{children:"\u0413\u041b\u0410\u0412\u041d\u041e\u0419"})," \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b \u0434\u043e\u0445\u043e\u0434\u044b",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446 (",Object(Te.jsx)("b",{children:"10 \u0441\u0435\u043a\u0443\u043d\u0434"}),") \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0438\u043a\u043e\u043d\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 ",Object(Te.jsx)("b",{children:"\u0431\u0438\u0437\u043d\u0435\u0441\u0430"})," \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u0431\u044b\u043b\u044c. \u041f\u0440\u043e\u0434\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0435\u0433\u043e \u0438\u043a\u043e\u043d\u043a\u0443.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0414\u043e\u0445\u043e\u0434\u044b \u043e\u0442 ",Object(Te.jsx)("b",{children:"\u0432\u043a\u043b\u0430\u0434\u0430"})," \u0438 ",Object(Te.jsx)("b",{children:"\u0430\u0440\u0435\u043d\u0434\u044b \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"})," \u0442\u0430\u043a \u0436\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0431\u0438\u0440\u0430\u0442\u044c \u043d\u0430\u0436\u0430\u0442\u0438\u0435\u043c \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0438\u043a\u043e\u043d\u043a\u0443.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)("b",{children:"\u0418\u0433\u0440\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"})," \u0438\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0418\u0433\u0440\u0430 ",Object(Te.jsx)("b",{children:"\u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f"})," \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{})]})]});return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(Ae,{fetchedUser:t,info:_e}),r.onGame?Object(Te.jsxs)(Te.Fragment,{children:[0!=r.salary&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{sx:{marginTop:"10px"},variant:"subtitle1",children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),Object(Te.jsx)(lt,{})]}),Object(Te.jsxs)(V.a,{dense:!0,children:[h.length>=1?Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0411\u0438\u0437\u043d\u0435\u0441"}):Object(Te.jsx)(ze,{}),h.map((function(e,t){return Object(Te.jsx)(ut,{biz:e},t)}))]}),Object(Te.jsx)(V.a,{dense:!0,children:0!=r.deposit.amount?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0412\u043a\u043b\u0430\u0434"}),Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"h6",children:[Math.round(.13*r.deposit.amount)," K"]}),Object(Te.jsx)(H.a,{onClick:function(){return function(){var e=r.balance+Math.round(.13*r.deposit.amount),t=Object(R.a)(Object(R.a)({},r.deposit),{},{date:+new Date+12e4}),c=Object(R.a)(Object(R.a)({},r),{},{balance:e,deposit:t});n(ae(c)),we(c)}()},color:"primary",disabled:ee,variant:"contained",size:"small",children:Object(Te.jsx)(nt.a,{})})]}),children:[Object(Te.jsx)(q.a,{children:Object(Te.jsx)(L.a,{children:Object(Te.jsx)(ft.a,{})})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsxs)(a.a.Fragment,{children:["\u0412\u043a\u043b\u0430\u0434: ",r.deposit.amount,"\u041a",Object(Te.jsx)("br",{})]}),secondary:Object(Te.jsx)(Q.a,{sx:{width:.5},variant:"determinate",value:re,color:"inherit"})})]})]}):Object(Te.jsx)(ke,{})}),Object(Te.jsxs)(V.a,{dense:!0,children:[m.length>=1?Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0410\u0440\u0435\u043d\u0434\u0430"})}):Object(Te.jsx)(Se,{}),m.length>=1&&Object(Te.jsx)(xt,{})]}),Object(Te.jsx)(X.a,{})]}):Object(Te.jsx)(W.a,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041d\u0435 \u0432 \u0438\u0433\u0440\u0435"})}),Object(Te.jsx)(Y.a,{open:oe,onClose:function(){return be(!1)},children:Object(Te.jsxs)(Z.a,{sx:Ce,children:[Object(Te.jsxs)(B.a,{children:["\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c ",r.debts," K"]}),Object(Te.jsx)("br",{}),Object(Te.jsx)(B.a,{variant:"caption",children:'\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0433\u0430\u0441\u0438\u0442\u044c \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u0411\u0430\u043d\u043a"'})]})}),Object(Te.jsx)(Y.a,{open:ge,onClose:function(){return ye(!1)},children:Object(Te.jsxs)(Z.a,{sx:Ce,children:[Object(Te.jsx)(B.a,{children:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c!  \ud83e\udd73"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u044b \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 ",Object(Te.jsx)("b",{children:Math.trunc(r.age/12)}),", \u0441 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0435\u0439 ",Object(Te.jsx)("b",{children:r.prof}),", \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u043f\u0430\u0441\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 ",Object(Te.jsx)("b",{children:Math.round(.13*r.deposit.amount/12+v)})]}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return function(e,t,a){if(e<r.record.age){var i={prof:t,age:e,cashflow:a,bizCount:h.length,deposit:r.deposit.amount,rentCount:m.length,houseSumm:C+_,carSum:k},s=Object(R.a)(Object(R.a)({},r),{},{record:i});n(ae(s)),we(s),c.pushPage(p)}else c.pushPage(p)}(Math.trunc(r.age/12),r.prof,Math.round(.13*r.deposit.amount/12+v))},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(Te.jsx)(Y.a,{open:de,children:Object(Te.jsxs)(Z.a,{sx:Ce,children:[Object(Te.jsx)(B.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(Te.jsx)("br",{}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0412\u044b \u0431\u0430\u043d\u043a\u0440\u043e\u0442 \ud83d\ude25"}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(Te.jsx)(Y.a,{open:fe,children:Object(Te.jsxs)(Z.a,{sx:Ce,children:[Object(Te.jsx)(B.a,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430.",Object(Te.jsx)("br",{}),"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u044b \u0432 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0435 ",Object(Te.jsx)("b",{children:Math.trunc(r.age/12)}),", \u0441 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0435\u0439 ",Object(Te.jsx)("b",{children:r.prof}),", \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u043f\u0430\u0441\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 ",Object(Te.jsx)("b",{children:Math.round(.13*r.deposit.amount/12+v)})]}),r.record.cashflow>Math.round(.13*r.deposit.amount/12+v)?Object(Te.jsxs)(B.a,{variant:"caption",children:["\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0430 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u0440\u0435\u043a\u043e\u0440\u0434 \u0432 ",r.record.cashflow,"\u041a \u043d\u0435 \u043f\u043e\u0431\u0438\u0442.",Object(Te.jsx)("br",{})]}):Object(Te.jsxs)(B.a,{variant:"caption",children:["\u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u043a\u043e\u0440\u0434! \u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434 - ",Object(Te.jsxs)("b",{children:[Math.round(.13*r.deposit.amount/12+v)," \u041a"]})]}),Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"})]})}),Object(Te.jsx)(qe,{value:y})]})})},yt=n(535),wt=n(574),Ct=n(19);var zt=function(e){var t=e.biz,n=Object(O.b)(),c=Object(O.c)((function(e){return e.user.user})),r=Object(O.c)((function(e){return e.bizs.bizs})).filter((function(e){var t=e._id;return c.bizs.includes(t)})).map((function(e){return e.requiredTime})).reduce((function(e,t){return e+t}),0),i=a.a.useState(!1),s=Object(u.a)(i,2),j=s[0],o=s[1],l=a.a.useState(!0),x=Object(u.a)(l,2),h=x[0],p=x[1],m=function(){return Object(Te.jsx)(rt.a,{color:"warning"})},v=function(){return Object(Te.jsx)(it.a,{color:"success"})},g=function(){return Object(Te.jsx)(jt.a,{color:"secondary"})},y=function(){return Object(Te.jsx)(bt.a,{})},w=a.a.useState((function(){return Object(Te.jsx)(he.a,{animation:"wave",variant:"circular",width:40,height:40})})),C=Object(u.a)(w,2),z=C[0],k=C[1];a.a.useEffect((function(){"\u0423\u0441\u043b\u0443\u0433\u0438"==t.bizType?k(g):"\u041e\u0431\u0449\u0435\u043f\u0438\u0442"==t.bizType?k(m):"\u0422\u043e\u0440\u0433\u043e\u0432\u043b\u044f"==t.bizType?k(v):"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"==t.bizType&&k(y),t.bizPrice<=c.balance&&"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==c.prof||t.bizPrice<=c.balance&&"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441"==c.prof||t.bizPrice<=c.balance&&"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440"==c.prof?p(!1):(t.bizPrice<=c.balance&&t.requiredTime<=c.time-(r+c.workTime)&&p(!1),(t.bizPrice>c.balance||t.requiredTime>c.time-(r+c.workTime))&&p(!0))}),[t,c]);var S=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t){if(t>=2e4&&t<5e4){var r=c.balance-t,a=[].concat(Object(Ct.a)(c.bizs),[e]),i=Object(R.a)(Object(R.a)({},c),{},{prof:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",balance:r,bizs:a});n(ae(i)),S(i)}else if(t>=5e4){var s=c.balance-t,j=[].concat(Object(Ct.a)(c.bizs),[e]),o=Object(R.a)(Object(R.a)({},c),{},{prof:"\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441",balance:s,bizs:j});n(ae(o)),S(o)}else{var b=c.balance-t,u=[].concat(Object(Ct.a)(c.bizs),[e]),l=Object(R.a)(Object(R.a)({},c),{},{balance:b,bizs:u});n(ae(l)),S(l)}};return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{justifyContent:"flex-end",direction:"column",children:[Object(Te.jsxs)(B.a,{variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.bizPrice,"K"]}),Object(Te.jsx)($.a,{disabled:h,onClick:function(){_(t._id,t.bizPrice)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]}),children:[Object(Te.jsx)(q.a,{onClick:function(){return o(!0)},children:z}),Object(Te.jsx)(J.a,{primary:t.bizName,secondary:Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsxs)(B.a,{variant:"caption",children:["\u041c\u0430\u043a\u0441. \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]})]}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]})]})]})})]}),Object(Te.jsx)(Le.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{}),Object(Te.jsxs)(Je.a,{open:j,onClose:function(){return o(!1)},fullWidth:!0,children:[Object(Te.jsx)(Qe.a,{children:t.bizName}),Object(Te.jsx)(Xe.a,{children:Object(Te.jsxs)(Ye.a,{children:["\u0412\u0438\u0434 \u0431\u0438\u0437\u043d\u0435\u0441\u0430: ",Object(Te.jsx)("b",{children:t.bizType}),Object(Te.jsx)("br",{}),"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:[t.requiredTime,"\u0447."]}),Object(Te.jsx)("br",{}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.maxProfit," K"]}),Object(Te.jsx)("br",{}),"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: ",Object(Te.jsxs)("b",{children:[t.minProfit," K"]}),Object(Te.jsx)("br",{}),"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," K"]}),Object(Te.jsx)("br",{})]})}),Object(Te.jsxs)(Ze.a,{children:[Object(Te.jsx)($.a,{disabled:h,onClick:function(){_(t._id,t.bizPrice),o(!1)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return o(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})};var kt=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.bizs.bizs})),n=new Set(e.bizs),c=t.filter((function(e){var t=e._id;return!n.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:c.length>=1?Object(Te.jsx)(V.a,{children:c.map((function(e,t){return Object(Te.jsx)(zt,{biz:e},t)}))}):Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(X.a,{}),Object(Te.jsx)(mt.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})},St=n(552),_t=n(570),Pt=n(571),It=n(572),Et=n(573);var Kt=function(e){var t=e.car,n=e.isMy,c=Object(O.b)(),r=Object(O.c)((function(e){return e.user.user})),i=Object(O.c)((function(e){return e.cars.cars})).filter((function(e){var t=e._id;return r.car.includes(t)})),s=i.map((function(e){return e.time})).reduce((function(e,t){return e+t}),0),j=a.a.useState(!0),o=Object(u.a)(j,2),l=o[0],x=o[1];a.a.useEffect((function(){r.balance>=t.price&&x(!1),r.balance<t.price&&x(!0)}),[r]);var h=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(r._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsx)(St.a,{item:!0,children:Object(Te.jsxs)(_t.a,{variant:"outlined",children:[Object(Te.jsx)(Pt.a,{component:"img",height:"140",image:"https://financial-freedom-game.ru".concat(t.imageUrl)}),Object(Te.jsxs)(It.a,{children:[n?Object(Te.jsx)(B.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}):Object(Te.jsxs)(B.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(Te.jsxs)(B.a,{gutterBottom:!0,variant:"body2",children:[" \u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(Te.jsx)(B.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0412\u0440\u0435\u043c\u044f: ",Object(Te.jsxs)("b",{children:["+",t.time,"\u0447"]}),Object(Te.jsx)("br",{}),"\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(Te.jsxs)("b",{children:["+",t.energy]}),Object(Te.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(Te.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(Te.jsx)("br",{}),"\u0426\u0435\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438: ",Object(Te.jsxs)("b",{children:[t.sellPrice," \u041a"]}),Object(Te.jsx)("br",{})]})]}),Object(Te.jsx)(Et.a,{children:n?Object(Te.jsx)($.a,{size:"small",onClick:function(){return function(){var e=r.balance+t.sellPrice,a=i.filter((function(e){return e._id!==n})),j=r.maxEnergy-t.energy;if(s==t.time){var o=r.time-t.time;if(o<10){var b=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:10});c(ae(b)),h(b),console.log("1")}else if(o>14){var u=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:14});c(ae(u)),h(u),console.log("2")}else{var l=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:o});c(ae(l)),h(l),console.log("3")}}else{var d=s-t.time+10;if(d<10){var O=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:10});c(ae(O)),h(O),console.log("4")}else if(d>14){var x=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:14});c(ae(x)),h(x),console.log("5")}else{var f=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:a.map((function(e){return e._id})),maxEnergy:j,time:d});c(ae(f)),h(f),console.log("6")}}}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}):Object(Te.jsx)($.a,{disabled:l,size:"small",onClick:function(){return function(){var e=r.balance-t.price,n=[].concat(Object(Ct.a)(r.car),[t._id]),a=r.maxEnergy+t.energy,i=r.time+t.time;if(i>14){var s=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:n,maxEnergy:a,time:14});c(ae(s)),h(s)}else{var j=Object(R.a)(Object(R.a)({},r),{},{balance:e,car:n,maxEnergy:a,time:i});c(ae(j)),h(j)}}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},Ft=n(236),Tt=n.n(Ft);var At=function(){var e,t=Object(O.c)((function(e){return e.user.user})),n=Object(O.c)((function(e){return e.cars.cars})),c=new Set(t.car),r=n.filter((function(e){var t=e._id;return!c.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:r.length>=1?Object(Te.jsx)(St.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:r.sort((e="price",function(t,n){return t[e]>n[e]?1:-1})).map((function(e,t){return Object(Te.jsx)(Kt,{car:e},t)}))}):Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(X.a,{}),Object(Te.jsx)(Tt.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})};var Mt=function(e){var t=e.house,n=e.isMy,c=e.isRent,r=Object(O.b)(),i=Object(O.c)((function(e){return e.user.user})),s=Object(O.c)((function(e){return e.houses.houses})),j=s.filter((function(e){var t=e._id;return i.house.includes(t)})),o=s.filter((function(e){var t=e._id;return i.rent.includes(t)})),l=a.a.useState(!0),x=Object(u.a)(l,2),h=x[0],p=x[1];a.a.useEffect((function(){n?c?p(!1):(j.length>1&&p(!1),j.length<=1&&p(!0)):(i.balance>=t.price&&p(!1),i.balance<t.price&&p(!0))}),[n,c,j,i]);var m=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(i._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsx)(St.a,{item:!0,children:Object(Te.jsxs)(_t.a,{variant:"outlined",children:[Object(Te.jsx)(Pt.a,{component:"img",height:"140",image:"https://financial-freedom-game.ru".concat(t.imageUrl)}),Object(Te.jsxs)(It.a,{children:[n?Object(Te.jsxs)(W.a,{direction:"row",children:[Object(Te.jsx)(B.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),c&&Object(Te.jsx)(B.a,{variant:"subtitle2",sx:{marginLeft:"auto"},children:"\u0432 \u0430\u0440\u0435\u043d\u0434\u0435"})]}):Object(Te.jsxs)(B.a,{gutterBottom:!0,variant:"h6",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}),n?Object(Te.jsxs)(B.a,{gutterBottom:!0,variant:"body2",children:["\u0426\u0435\u043d\u0430: ",t.price," K"]}):Object(Te.jsx)(B.a,{gutterBottom:!0,variant:"subtitle2",children:t.name}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u042d\u043d\u0435\u0440\u0433\u0438\u044f: ",Object(Te.jsxs)("b",{children:["+",t.energy]}),Object(Te.jsx)("br",{}),"\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u0432 \u043c\u0435\u0441\u044f\u0446: ",Object(Te.jsxs)("b",{children:[t.expenses," \u041a"]}),Object(Te.jsx)("br",{}),"\u0421\u0434\u0430\u0447\u0430 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443: ",Object(Te.jsxs)("b",{children:[t.rentPrice," \u041a/\u043c\u0435\u0441"]})]})]}),Object(Te.jsx)(Et.a,{children:n?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)($.a,{disabled:h,size:"small",onClick:function(){return function(){var e=i.balance+t.price;if(c){var a=o.filter((function(e){return e._id!==n})),s=i.maxEnergy-t.energy,b=Object(R.a)(Object(R.a)({},i),{},{balance:e,rent:a.map((function(e){return e._id})),maxEnergy:s});r(ae(b)),m(b)}else{var u=j.filter((function(e){return e._id!==n})),l=i.maxEnergy-t.energy,d=Object(R.a)(Object(R.a)({},i),{},{balance:e,house:u.map((function(e){return e._id})),maxEnergy:l});r(ae(d)),m(d)}}()},children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"}),c?Object(Te.jsx)($.a,{disabled:h,size:"small",onClick:function(){return function(){var e=[].concat(Object(Ct.a)(i.house),[t._id]),n=i.maxEnergy+t.energy,c=o.filter((function(e){return e._id!==t._id})),a=Object(R.a)(Object(R.a)({},i),{},{house:e,maxEnergy:n,rent:c.map((function(e){return e._id}))});r(ae(a)),m(a)}()},children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0441 \u0430\u0440\u0435\u043d\u0434\u044b"}):Object(Te.jsx)($.a,{disabled:h,size:"small",onClick:function(){return function(){var e=j.filter((function(e){return e._id!==n})),c=i.maxEnergy-t.energy,a=[].concat(Object(Ct.a)(i.rent),[t._id]);if(s.filter((function(e){var t=e._id;return a.includes(t)})).map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0)>1e3){var o=Object(R.a)(Object(R.a)({},i),{},{prof:"\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440",house:e.map((function(e){return e._id})),maxEnergy:c,rent:a});r(ae(o)),m(o)}else{var b=Object(R.a)(Object(R.a)({},i),{},{house:e.map((function(e){return e._id})),maxEnergy:c,rent:a});r(ae(b)),m(b)}}()},children:"\u0421\u0434\u0430\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"})]}):Object(Te.jsx)($.a,{disabled:h,size:"small",onClick:function(){return function(){var e=i.balance-t.price,n=[].concat(Object(Ct.a)(i.house),[t._id]),c=i.maxEnergy+t.energy,a=Object(R.a)(Object(R.a)({},i),{},{balance:e,house:n,maxEnergy:c});r(ae(a)),m(a)}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})})},Ut=n(237),Rt=n.n(Ut);var Wt=function(){var e,t=Object(O.c)((function(e){return e.user.user})),n=Object(O.c)((function(e){return e.houses.houses})),c=new Set(t.house),r=n.filter((function(e){var t=e._id;return!c.has(t)})),a=new Set(t.rent),i=r.filter((function(e){var t=e._id;return!a.has(t)}));return Object(Te.jsx)(Te.Fragment,{children:i.length>=1?Object(Te.jsx)(St.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:i.sort((e="price",function(t,n){return t[e]>n[e]?1:-1})).map((function(e,t){return Object(Te.jsx)(Mt,{house:e},t)}))}):Object(Te.jsxs)(W.a,{direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(Te.jsx)(X.a,{}),Object(Te.jsx)(Rt.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0412\u044b \u0441\u043a\u0443\u043f\u0438\u043b\u0438 \u0432\u0441\u0451"})]})})};var Bt=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(We.a,{}),Object(Te.jsxs)(B.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u0421\u0414\u0415\u041b\u041a\u0418"})," \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441, \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442, \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430, \u043f\u043e\u043c\u0438\u043c\u043e \u0434\u0435\u043d\u0435\u0433, ",Object(Te.jsx)("b",{children:"\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e"})," \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438.",Object(Te.jsx)("br",{}),"\u041f\u0440\u0438 ",Object(Te.jsx)("b",{children:"\u043f\u043e\u043a\u0443\u043f\u043a\u0435"})," \u0431\u0438\u0437\u043d\u0435\u0441\u0430 \u0446\u0435\u043d\u043e\u0439 \u0431\u043e\u043b\u0435\u0435 20 000 \u041a \u0438 50 000 \u041a ",Object(Te.jsx)("b",{children:"\u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"})," \u0438\u0433\u0440\u043e\u043a\u0430 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 ",Object(Te.jsx)("b",{children:"'\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441'"})," \u0438 ",Object(Te.jsx)("b",{children:"'\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441'"})," \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0415\u0441\u043b\u0438 \u0443 \u0438\u0433\u0440\u043e\u043a\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ",Object(Te.jsx)("b",{children:"'\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0438\u0437\u043d\u0435\u0441', '\u041a\u0440\u0443\u043f\u043d\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441' \u0438 '\u0418\u043d\u0432\u0435\u0441\u0442\u043e\u0440'"})," \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c ",Object(Te.jsx)("b",{children:"\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442"})," \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438.",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 ",Object(Te.jsx)("b",{children:"\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442"})," \u0432\u0440\u0435\u043c\u044f \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u044d\u043d\u0435\u0440\u0433\u0438\u044e."]})]});return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(Ae,{fetchedUser:t,info:s}),Object(Te.jsxs)(yt.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(Te.jsx)(wt.a,{value:"one",label:"\u0411\u0438\u0437\u043d\u0435\u0441"}),Object(Te.jsx)(wt.a,{value:"two",label:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(Te.jsx)(wt.a,{value:"three",label:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})]}),"one"===r&&Object(Te.jsx)(kt,{}),"two"===r&&Object(Te.jsx)(At,{}),"three"===r&&Object(Te.jsx)(Wt,{}),Object(Te.jsx)(X.a,{}),Object(Te.jsx)(qe,{value:w})]})})};var Dt=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})),c=Object(O.c)((function(e){return e.bizs.bizs})),r=n.filter((function(t){var n=t._id;return e.house.includes(n)})),i=r.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),s=r.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),j=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),o=j.map((function(e){return e.rentPrice})).reduce((function(e,t){return e+t}),0),l=j.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),x=t.filter((function(t){var n=t._id;return e.car.includes(n)})),h=x.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),p=x.map((function(e){return e.expenses})).reduce((function(e,t){return e+t}),0),m=c.filter((function(t){var n=t._id;return e.bizs.includes(n)})).map((function(e){return e.maxProfit})).reduce((function(e,t){return e+t}),0),v=e.credits.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),g=e.credits.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0),y=a.a.useState(!0),w=Object(u.a)(y,2),C=(w[0],w[1]),z=a.a.useState(!1),k=Object(u.a)(z,2),S=k[0],_=k[1],P=Object(O.b)();a.a.useEffect((function(){e.debts>0&&C(!1)}),[e]);var I=function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.patch("/auth/".concat(e._id),n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Te.jsxs)(N.a,{disableGutters:!0,children:[Object(Te.jsxs)(W.a,{direction:"row",children:[Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsxs)(B.a,{sx:{marginLeft:"auto"},variant:"subtitle1",children:[e.prof,"\xa0\xa0\xa0\xa0"]})]}),Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0414\u043e\u043b\u0433\u0438"})}),Object(Te.jsxs)(V.a,{children:[e.credits.map((function(t,n){return Object(Te.jsx)(G.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"body1",children:["\u0414\u043e\u043b\u0433: ",t.debt," K"]}),Object(Te.jsx)($.a,{disabled:!t.debt>0,onClick:function(){return function(t,n,c,r){if(c>e.balance)_(!0);else{var a=e.balance-c,i=e.credits.filter((function(e){return e.id!=t})),s={id:t,amount:n-c,debt:0,payment:r};if(s.amount>0){var j=Object(R.a)(Object(R.a)({},e),{},{balance:a,credits:[].concat(Object(Ct.a)(i),[s]).sort((function(e,t){return e.id-t.id}))});P(ae(j)),I(j)}else{var o=Object(R.a)(Object(R.a)({},e),{},{balance:a,credits:i.sort((function(e,t){return e.id-t.id}))});P(ae(o)),I(o)}}}(t.id,t.amount,t.debt,t.payment)},size:"small",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(t.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",t.payment," K"]})})},n)})),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"body1",children:[e.debts," K"]}),Object(Te.jsx)($.a,{disabled:!e.debts>0,onClick:function(){return function(){if(e.balance<e.debts)_(!0);else{var t=e.balance-e.debts,n=Object(R.a)(Object(R.a)({},e),{},{balance:t,debts:0});P(ae(n)),I(n)}}()},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f",secondary:"\u041f\u043e\u0433\u0430\u0448\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u043e"})})]}),Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0414\u043e\u0445\u043e\u0434\u044b"})}),Object(Te.jsxs)(V.a,{children:[Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"green"},children:["~ ",Math.round(.13*e.deposit.amount/12)," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"green"},children:[o," \u041a/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0430\u0440\u0435\u043d\u0434\u044b"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"green"},children:[e.salary," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"green"},children:["~ ",m," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u0438\u0437\u043d\u0435\u0441\u0430"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"subtitle1",sx:{color:"green"},children:["~ ",Math.round(.13*e.deposit.amount/12)+o+e.salary+m," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{sx:{color:"green"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"})}),Object(Te.jsxs)(V.a,{children:[Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"red"},children:[g," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u043c"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"red"},children:[s+l," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"red"},children:[p," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"red"},children:[e.expenses," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body2",sx:{color:"red"},children:[5*e.children," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0434\u0435\u0442\u0435\u0439"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"subtitle1",sx:{color:"red"},children:[5*e.children+e.expenses+p+s+l+g," K/\u043c\u0435\u0441"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{sx:{color:"red"},variant:"subtitle1",children:"\u0418\u0442\u043e\u0433\u043e"})})})]}),Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0410\u043a\u0442\u0438\u0432\u044b"})}),Object(Te.jsxs)(V.a,{children:[Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[e.deposit.amount," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0412\u043a\u043b\u0430\u0434\u044b"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[i," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"})})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[h," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"})})})]}),Object(Te.jsx)(W.a,{direction:"row",children:Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u044b"})}),Object(Te.jsx)(V.a,{children:Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[v," K"]}),children:Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"body2",children:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b \u043d\u0430 \u0441\u0443\u043c\u043c\u0443"})})})}),Object(Te.jsx)(Y.a,{open:S,onClose:function(){return _(!1)},children:Object(Te.jsx)(Z.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4},children:Object(Te.jsx)(B.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(Te.jsx)(X.a,{})]})},Nt=n(575),Vt=n(543),Gt=n(534),Ht=n(554);var qt=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.user})),n=a.a.useState(""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=a.a.useState(""),j=Object(u.a)(s,2),o=j[0],l=j[1],x=a.a.useState(0),h=Object(u.a)(x,2),p=h[0],m=h[1],v=a.a.useState(""),g=Object(u.a)(v,2),y=g[0],w=g[1],C=a.a.useState(!1),z=Object(u.a)(C,2),k=z[0],S=z[1],_=a.a.useState(!1),P=Object(u.a)(_,2),I=P[0],E=P[1],K=a.a.useState(!1),F=Object(u.a)(K,2),T=F[0],A=F[1],M=a.a.useState(!1),U=Object(u.a)(M,2),D=U[0],N=U[1],H=function(){var e=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(t._id),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a.a.useEffect((function(){""!=r&&""!=o&&S(!0)}),[o,r]);var q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"white",borderRadius:"10px",boxShadow:24,p:4};return Object(Te.jsxs)(Z.a,{sx:{width:"100%"},children:[Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442"}),Object(Te.jsxs)(St.a,{container:!0,spacing:1,children:[Object(Te.jsx)(St.a,{item:!0,xs:6,children:Object(Te.jsxs)(Nt.a,{fullWidth:!0,sx:{marginTop:"10px"},error:!0,children:[Object(Te.jsx)(Vt.a,{id:"credit-amount-label",children:"\u0421\u0443\u043c\u043c\u0430"}),Object(Te.jsxs)(Gt.a,{labelId:"credit-amount-label",id:"credit-amount-select",value:r,label:"Amount",onChange:function(e){i(e.target.value)},children:[Object(Te.jsx)(Ht.a,{value:100,children:"100 \u041a"}),Object(Te.jsx)(Ht.a,{value:200,children:"200 \u041a"}),Object(Te.jsx)(Ht.a,{value:500,children:"500 \u041a"})]})]})}),Object(Te.jsx)(St.a,{item:!0,xs:6,children:Object(Te.jsxs)(Nt.a,{fullWidth:!0,sx:{marginTop:"10px"},children:[Object(Te.jsx)(Vt.a,{id:"credit-term-label",children:"\u0421\u0440\u043e\u043a"}),Object(Te.jsxs)(Gt.a,{labelId:"credit-term-label",id:"credit-term-select",value:o,label:"Term",onChange:function(e){l(e.target.value)},children:[Object(Te.jsx)(Ht.a,{value:12,children:"12 \u043c\u0435\u0441"}),Object(Te.jsx)(Ht.a,{value:24,children:"24 \u043c\u0435\u0441"}),Object(Te.jsx)(Ht.a,{value:60,children:"60 \u043c\u0435\u0441"})]})]})})]}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0438 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442 \u043f\u043e\u0434 ~18% \u0433\u043e\u0434\u043e\u0432\u044b\u0445"}),Object(Te.jsx)(W.a,{direction:"column",children:Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:!k,size:"small",variant:"contained",onClick:function(){return m(Math.round((.18*r*(o/12)+r)/o)),w(Math.round((.18*r*(o/12)+r)/o)*o),void E(!0)},children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),I&&Object(Te.jsxs)(V.a,{children:[Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[p," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[y," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u0430"})}),Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[r," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u0430"})}),Object(Te.jsx)(W.a,{direction:"column",children:Object(Te.jsx)($.a,{onClick:function(){return function(){if(t.credits.length>=5)N(!0);else{var n={id:+new Date,amount:y,debt:0,payment:p},c=[].concat(Object(Ct.a)(t.credits),[n]),a=t.balance+r,i=Object(R.a)(Object(R.a)({},t),{},{balance:a,credits:c.sort((function(e,t){return e.id-t.id}))});e(ae(i)),H(i)}}()},sx:{marginTop:"10px"},disabled:!k,size:"small",variant:"contained",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})})]}),Object(Te.jsxs)(V.a,{children:[t.credits.length>=1&&Object(Te.jsx)(B.a,{variant:"overline",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044b\u0435"}),t.credits.map((function(n,c){return Object(Te.jsx)(G.a,{sx:{marginTop:"10px"},disablePadding:!0,secondaryAction:Object(Te.jsxs)(W.a,{alignItems:"flex-end",children:[Object(Te.jsxs)(B.a,{variant:"body1",children:["\u0421\u0443\u043c\u043c\u0430 ",n.amount," K"]}),Object(Te.jsx)($.a,{onClick:function(){return function(n,c){if(c>t.balance)A(!0);else{var r=t.balance-c,a=t.credits.filter((function(e){return e.id!=n})),i=Object(R.a)(Object(R.a)({},t),{},{balance:r,credits:a.sort((function(e,t){return e.id-t.id}))});e(ae(i)),H(i)}}(n.id,n.amount)},size:"small",children:"\u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c"})]}),children:Object(Te.jsx)(J.a,{primary:"\u041a\u0440\u0435\u0434\u0438\u0442 \u043e\u0442 ".concat(new Date(n.id).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"})),secondary:Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 ",n.payment," K"]})})},c)}))]}),Object(Te.jsx)(Y.a,{open:T,onClose:function(){return A(!1)},children:Object(Te.jsx)(Z.a,{sx:q,children:Object(Te.jsx)(B.a,{children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \ud83d\ude25"})})}),Object(Te.jsx)(Y.a,{open:D,onClose:function(){return N(!1)},children:Object(Te.jsx)(Z.a,{sx:q,children:Object(Te.jsx)(B.a,{children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432 \ud83d\ude25"})})})]})},Lt=n(544);var Jt=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.user})),n=a.a.useState(0),c=Object(u.a)(n,2),r=c[0],i=c[1],s=a.a.useState(0),j=Object(u.a)(s,2),o=j[0],l=j[1],x=a.a.useState(!0),h=Object(u.a)(x,2),p=h[0],m=h[1],v=a.a.useState(!0),g=Object(u.a)(v,2),y=g[0],w=g[1];a.a.useEffect((function(){r>t.balance&&m(!0),r<=t.balance&&m(!1),r<=0&&m(!0)}),[r,t]),a.a.useEffect((function(){o>t.deposit.amount&&w(!0),o<=t.deposit.amount&&w(!1),o<=0&&w(!0)}),[o,t]);var C=function(){var e=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(t._id),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Te.jsx)(Z.a,{sx:{width:"100%"},children:Object(Te.jsxs)(W.a,{direction:"column",spacing:1,children:[Object(Te.jsx)(V.a,{children:Object(Te.jsx)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsxs)(B.a,{variant:"body1",children:[t.deposit.amount," K"]}),children:Object(Te.jsx)(J.a,{primary:"\u0412\u043a\u043b\u0430\u0434"})})}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(Te.jsx)(Lt.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){i(e.target.value)},InputLabelProps:{shrink:!0}}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c ~13% \u0432 \u0433\u043e\u0434"}),Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:p,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount+Number(r),date:+new Date+12e4},c=t.balance-Number(r),a=Object(R.a)(Object(R.a)({},t),{},{balance:c,deposit:n});e(ae(a)),C(a)}()},children:"\u0412\u043b\u043e\u0436\u0438\u0442\u044c"}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0421\u043d\u044f\u0442\u044c"}),Object(Te.jsx)(Lt.a,{id:"outlined-number",label:"\u0421\u0443\u043c\u043c\u0430",type:"number",onChange:function(e){l(e.target.value)},InputLabelProps:{shrink:!0}}),Object(Te.jsx)($.a,{sx:{marginTop:"15px"},disabled:y,size:"small",variant:"contained",onClick:function(){return function(){var n={amount:t.deposit.amount-Number(o),date:+new Date+12e4},c=t.balance+Number(o),r=Object(R.a)(Object(R.a)({},t),{},{balance:c,deposit:n});e(ae(r)),C(r)}()},children:"\u0421\u043d\u044f\u0442\u044c"})]})})};var Qt=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(De.a,{}),Object(Te.jsxs)(B.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u0411\u0410\u041d\u041a"})," \u043c\u043e\u0436\u043d\u043e",Object(Te.jsx)("br",{}),"- \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043b\u0438\u0447\u043d\u044b\u0445 \u0444\u0438\u043d\u0430\u043d\u0441\u0430\u0445",Object(Te.jsx)("br",{}),"- \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442",Object(Te.jsx)("br",{}),"- \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u043a\u043b\u0430\u0434",Object(Te.jsx)("br",{}),"- \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438"]})]});return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(Ae,{fetchedUser:t,info:s}),Object(Te.jsxs)(yt.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(Te.jsx)(wt.a,{value:"one",label:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044f"}),Object(Te.jsx)(wt.a,{value:"two",label:"\u041a\u0440\u0435\u0434\u0438\u0442\u044b"}),Object(Te.jsx)(wt.a,{value:"three",label:"\u0412\u043a\u043b\u0430\u0434\u044b"})]}),"one"===r&&Object(Te.jsx)(Dt,{}),"two"===r&&Object(Te.jsx)(qt,{}),"three"===r&&Object(Te.jsx)(Jt,{}),Object(Te.jsx)(qe,{value:C})]})})};var Xt=function(e){var t=e.fetchedUser,n=Object(O.b)(),c=Object(x.useRouter)(),r=a.a.useState(!0),i=Object(u.a)(r,2),s=i[0],j=i[1],o=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/auth/me/".concat(t.id)).then((function(e){var t=e.data;n(ae(t)),j(!1)})).catch((function(){console.log("user not found")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&o(),Object(Te.jsx)(vt.b,{centered:!0,children:Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(W.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(Te.jsx)($.a,{disabled:s,onClick:function(){return c.pushPage(y)},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(p)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(m)},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(Te.jsx)($.a,{onClick:function(){return c.pushPage(v)},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})})})},Yt=n(578);var Zt=function(e){var t=e.fetchedUser,n=Object(x.useRouter)(),c=Object(O.b)(),r=Object(O.c)((function(e){return e.user.profs})),i=Object(O.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(u.a)(s,2),o=j[0],l=j[1],h=a.a.useState(),p=Object(u.a)(h,2),m=p[0],v=p[1],g=a.a.useState(0),w=Object(u.a)(g,2),C=w[0],z=w[1],k=a.a.useState(!0),S=Object(u.a)(k,2),_=S[0],P=S[1];a.a.useEffect((function(){var e=setInterval((function(){_&&z((function(e){return e>=10?10:e+1})),10==C&&_&&I()}),200);return function(){clearInterval(e)}}),[C,_,i]);var I=function(){var e,t,n=(e=0,t=r.length-1,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);v(r[n])},E=function(){var e=Object(b.a)(d.a.mark((function e(){var n,r,a,s,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),0!=Object.keys(i).length){e.next=11;break}return n={amount:0,date:+new Date},r={age:60,prof:m.profName,cashflow:0,bizCount:0,deposit:0,rentCount:0,houseSumm:0,carSum:0},a={firstName:t.first_name,photo100:t.photo_100,prof:m.profName,workTime:8,salary:m.salary,userId:t.id,balance:500,debts:0,age:m.age,children:m.childCount,house:m.house,car:m.car,rent:[],bizs:[],deposit:n,credits:[],record:r,expenses:m.expenses,freeEnergizerCount:2,onGame:!0,time:10,energy:100,maxEnergy:100,energizer:0,freeEnergizerOn:!0,greetingIn:[],greetingOut:[],disabled:[],promoter:!1},console.log(a),e.next=8,f.post("/auth/register",a).then((function(e){c(ae(e.data.user))}));case 8:l(!0),e.next=17;break;case 11:return s={amount:0,date:+new Date},j={_id:i._id,firstName:i.firstName,photo100:i.photo100,prof:m.profName,workTime:8,salary:m.salary,userId:i.userId,balance:500,debts:0,age:m.age,children:m.childCount,house:m.house,car:m.car,rent:[],bizs:[],deposit:s,credits:[],record:i.record,expenses:m.expenses,datePoint:i.datePoint,freeEnergizer:i.freeEnergizer,freeEnergizerCount:i.freeEnergizerCount,onGame:!0,time:10,energy:100,maxEnergy:100,energizer:0,freeEnergizerOn:!0,lifesCount:i.lifesCount+1,greetingIn:[],greetingOut:[],disabled:[],promoter:i.promoter},c(ae(j)),e.next=16,f.patch("/auth/".concat(i._id),j);case 16:l(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(W.a,{sx:{width:"100vw",height:"100vh"},direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[m?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f:"}),Object(Te.jsx)(B.a,{variant:"h6",children:m.profName}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e"}),Object(Te.jsx)($.a,{disabled:!_,onClick:function(){return E()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]}):Object(Te.jsx)(Yt.a,{}),o&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e ",Object(Te.jsx)("b",{children:i.prof})]}),Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0412\u0430\u0448\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430 ",Object(Te.jsx)("b",{children:i.salary})," \u041a, \u0412\u0430\u043c ",Object(Te.jsx)("b",{children:i.age/12}),", \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0435\u0439: ",Object(Te.jsx)("b",{children:i.children}),"."]}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsx)("b",{children:"\u0423\u0434\u0430\u0447\u043d\u043e\u0439 \u0438\u0433\u0440\u044b!"})}),Object(Te.jsx)($.a,{onClick:function(){return n.pushPage(y)},children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]})]})})},$t=n(579),en=n(580),tn=n.p+"static/media/bank.c624ff42.png",nn=n.p+"static/media/choose.ef6c6b6d.png",cn=n.p+"static/media/deals.db5c4edc.png",rn=n.p+"static/media/header.9ec04f55.png",an=n.p+"static/media/main.a67b917a.png",sn=n.p+"static/media/profile.ec4cc714.png";var jn=function(){var e=Object(x.useRouter)();return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsx)(W.a,{sx:{width:"100vw",height:"100vh"},direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:Object(Te.jsxs)($t.a,{cols:1,children:[Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:nn})}),Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:rn})}),Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:an})}),Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:cn})}),Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:tn})}),Object(Te.jsx)(en.a,{children:Object(Te.jsx)("img",{src:sn})}),Object(Te.jsx)(X.a,{}),Object(Te.jsx)($.a,{onClick:function(){return e.popPage()},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(Te.jsx)(X.a,{})]})})})},on=n(555),bn=n(581),un=n(538),ln=n(532),dn=n(240),On=n.n(dn),xn=n(238),hn=n.n(xn),fn=n(239),pn=n.n(fn);var mn=function(e){e.fetchedUser;var t=Object(x.useRouter)(),n=Object(O.b)(),c=Object(O.c)((function(e){return e.user.user})),r=a.a.useState("auto"),i=Object(u.a)(r,2),s=i[0],j=i[1],l=a.a.useState(!1),h=Object(u.a)(l,2),p=h[0],m=h[1],v=a.a.useState(!1),g=Object(u.a)(v,2),y=g[0],w=g[1],C=a.a.useState(!1),z=Object(u.a)(C,2),k=z[0],S=z[1];function _(){return(_=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppJoinGroup",{group_id:218628265}).then((function(e){e.result&&w(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppAllowMessagesFromGroup",{group_id:218628265}).then((function(e){e.result&&S(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppShowWallPostBox",{message:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0441\u0435\u0431\u044f \u0432 \u0440\u043e\u043b\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u044f \u0420\u043e\u0441\u0441\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0435\u0448\u0438\u043b \u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u044b",attachments:"https://vk.com/app51483243"}).then((function(e){e.post_id&&m(!0)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(c._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){if(1==c.promoter)m(!0),w(!0),S(!0);else if(1==y&&1==p&&1==k){var e=Object(R.a)(Object(R.a)({},c),{},{freeEnergizerCount:10,promoter:!0});n(ae(e)),E(e)}}),[p,y,k,c]),Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(W.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(Te.jsxs)(on.a,{sx:{marginBottom:"20px"},value:s,exclusive:!0,onChange:function(e,t){null!==t&&(j(t),n(ue(t)))},"aria-label":"theme",children:[Object(Te.jsx)(bn.a,{value:"auto","aria-label":"left aligned",children:Object(Te.jsx)(hn.a,{})}),Object(Te.jsx)(bn.a,{value:"light","aria-label":"centered",children:Object(Te.jsx)(pn.a,{})}),Object(Te.jsx)(bn.a,{value:"dark","aria-label":"right aligned",children:Object(Te.jsx)(On.a,{})})]}),c&&Object(Te.jsxs)(ln.a,{sx:{width:"80vw"},children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0438 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u0441\u044f \u0434\u043e 10 "}),Object(Te.jsxs)(W.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),y?Object(Te.jsx)(un.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return _.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Te.jsxs)(W.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c \u043d\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),k?Object(Te.jsx)(un.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return P.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Te.jsxs)(W.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0441\u044c \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"}),p?Object(Te.jsx)(un.a,{disabled:!0,checked:!0}):Object(Te.jsx)($.a,{onClick:function(){return function(){return I.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"})]}),Object(Te.jsx)(W.a,{sx:{marginTop:"15px"},direction:"row",justifyContent:"center",alignItems:"center",children:Object(Te.jsx)($.a,{onClick:function(){return t.popPage()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})},vn=n(241),gn=n.n(vn);var yn=function(){var e=a.a.useState(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=a.a.useState(""),i=Object(u.a)(r,2),s=i[0],j=i[1],l=Object(O.b)(),h=Object(x.useRouter)(),p=Object(O.c)((function(e){return e.user.user}));o.a.send("VKWebAppCheckNativeAds",{ad_format:"reward"}).then((function(e){e.result?c(!1):console.log("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.")})).catch((function(e){console.log(e)}));var m=function(){var e=Object(R.a)(Object(R.a)({},p),{},{onGame:!0,energy:p.maxEnergy});l(ae(e)),v(e),h.pushPage(y)},v=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(p._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=setInterval((function(){var e=+new Date;j(p.datePoint-e),p.datePoint<e&&m()}),1e3);return function(){clearInterval(e)}}),[j,p]),Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(W.a,{sx:{width:"100vw",height:"100vh"},direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:[Object(Te.jsx)(gn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(B.a,{variant:"h6",children:"\u041f\u0410\u0423\u0417\u0410"}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u0438\u0438"}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437:"}),Object(Te.jsx)(B.a,{variant:"h6",children:function(e){var t=e/36e5,n=Math.floor(t),c=n>9?n:"0"+n,r=60*(t-n),a=Math.floor(r),i=a>9?a:"0"+a,s=60*(r-a),j=Math.floor(s);return c+":"+i+":"+(j>9?j:"0"+j)}(s)}),Object(Te.jsx)(B.a,{variant:"caption",children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0432 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0440\u043e\u043b\u0438\u043a"}),Object(Te.jsx)($.a,{disabled:n,onClick:function(){o.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((function(e){e.result?m():console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043a\u0430\u0437\u0435")})).catch((function(e){console.log(e)}))},children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443"})]})})};var wn=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.cars.cars})),n=Object(O.c)((function(e){return e.houses.houses})),c=n.filter((function(t){var n=t._id;return e.house.includes(n)})),r=n.filter((function(t){var n=t._id;return e.rent.includes(n)})),a=t.filter((function(t){var n=t._id;return e.car.includes(n)}));return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(B.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(Te.jsx)(St.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:c.map((function(e,t){return Object(Te.jsx)(Mt,{house:e,isMy:e._id},t)}))}),r.length>0&&Object(Te.jsx)(B.a,{variant:"overline",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}),Object(Te.jsx)(St.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:r.map((function(e,t){return Object(Te.jsx)(Mt,{house:e,isMy:e._id,isRent:!0},e._id)}))}),a.length>0&&Object(Te.jsx)(B.a,{variant:"overline",children:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"}),Object(Te.jsx)(St.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{marginBottom:"10px"},children:a.map((function(e,t){return Object(Te.jsx)(Kt,{car:e,isMy:e._id},e._id)}))}),Object(Te.jsx)(X.a,{})]})},Cn=n(179),zn=n.n(Cn),kn=n(582),Sn=n(242),_n=n.n(Sn);var Pn=function(e){var t=e.friend,n=e.invisible,c=e.disabled,r=Object(O.b)(),i=Object(O.c)((function(e){return e.user.user})),s=a.a.useState(!1),j=Object(u.a)(s,2),o=j[0],l=j[1],x=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(i._id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.patch("/auth/".concat(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(G.a,{disablePadding:!0,secondaryAction:Object(Te.jsx)(H.a,{onClick:function(){return function(e,c){if(0==n){var a=Object(R.a)(Object(R.a)({},i),{},{greetingIn:i.greetingIn.filter((function(e){return e!==c})),disabled:[].concat(Object(Ct.a)(i.disabled),[c]),energizer:i.energizer+1});r(ae(a)),x(a);var s=Object(R.a)(Object(R.a)({},t),{},{greetingOut:t.greetingOut.filter((function(e){return e!==i.userId})),disabled:[].concat(Object(Ct.a)(t.disabled),[i.userId]),energizer:t.energizer+1});h(e,s)}else{var j=Object(R.a)(Object(R.a)({},i),{},{greetingOut:[].concat(Object(Ct.a)(i.greetingOut),[c])});r(ae(j)),x(j);var o=Object(R.a)(Object(R.a)({},t),{},{greetingIn:[].concat(Object(Ct.a)(t.greetingIn),[i.userId])});h(e,o)}}(t._id,t.userId)},color:"primary",variant:"contained",size:"small",disabled:c,children:Object(Te.jsx)(Oe.a,{color:"secondary",variant:"dot",invisible:n,children:Object(Te.jsx)(_n.a,{})})}),children:[Object(Te.jsx)(q.a,{onClick:function(){return l(!o)},children:Object(Te.jsx)(L.a,{src:t.photo100})}),Object(Te.jsx)(J.a,{primary:Object(Te.jsx)(B.a,{variant:"subtitle1",children:t.firstName}),secondary:Object(Te.jsxs)(B.a,{variant:"caption",children:["\u0420\u0435\u043a\u043e\u0440\u0434: ",t.record.cashflow," K"]})})]}),Object(Te.jsx)(kn.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(Te.jsx)(V.a,{component:"div",children:Object(Te.jsx)(G.a,{children:Object(Te.jsxs)(W.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.prof]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.cashflow," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0439:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.bizCount]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.deposit," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.rentCount]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.houseSumm," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",t.record.carSum," \u041a"]})})]})]})})})}),Object(Te.jsx)(Le.a,{variant:"inset",component:"li"}),Object(Te.jsx)("br",{})]})};var In=function(){Object(O.b)();var e=Object(O.c)((function(e){return e.user.user})),t=Object(O.c)((function(e){return e.user.friends})),n=Object(O.c)((function(e){return e.user.users})),c=t.map((function(e){return e.id})).map((function(e){return String(e)})),r=n.filter((function(e){var t=e.userId;return c.includes(t)})),a=r.filter((function(t){var n=t.userId;return e.greetingIn.includes(n)})),i=r.filter((function(t){var n=t.userId;return e.greetingOut.includes(n)})),s=r.filter((function(t){var n=t.userId;return e.disabled.includes(n)})),j=r.filter((function(t){var n=t.userId;return!e.greetingIn.includes(n)})).filter((function(t){var n=t.userId;return!e.greetingOut.includes(n)})).filter((function(t){var n=t.userId;return!e.disabled.includes(n)}));return Object(Te.jsxs)(N.a,{disableGutters:!0,children:[0==t.length?Object(Te.jsxs)(W.a,{direction:"column",sx:{width:"100%",height:"60vh"},alignItems:"center",justifyContent:"center",spacing:1,children:[Object(Te.jsx)(zn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(Yt.a,{color:"secondary"})]}):Object(Te.jsx)(Te.Fragment,{children:0==r.length?Object(Te.jsxs)(W.a,{sx:{width:"100%",height:"60vh"},direction:"column",alignItems:"center",justifyContent:"center",spacing:1,children:[Object(Te.jsx)(zn.a,{color:"disabled",sx:{fontSize:40}}),Object(Te.jsx)(B.a,{variant:"subtitle1",children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0435"}),Object(Te.jsx)(B.a,{sx:{padding:"20px"},variant:"caption",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0433\u0440\u0430\u044e\u0442 \u0432 \u044d\u0442\u0443 \u0438\u0433\u0440\u0443. \u0412\u044b \u0438\u0445 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c, \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u0442\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0442, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 5 \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u043e\u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]}):Object(Te.jsxs)(V.a,{dense:!0,children:[a.map((function(e){return Object(Te.jsx)(Pn,{friend:e,invisible:!1,disabled:!1},e.userId)})),j.map((function(e){return Object(Te.jsx)(Pn,{friend:e,invisible:!0,disabled:!1},e.userId)})),i.map((function(e){return Object(Te.jsx)(Pn,{friend:e,invisible:!0,disabled:!0},e.userId)})),s.map((function(e){return Object(Te.jsx)(Pn,{friend:e,invisible:!0,disabled:!0},e.userId)}))]})}),Object(Te.jsx)(X.a,{})]})};var En=function(){var e=Object(O.c)((function(e){return e.user.user}));return Object(Te.jsx)(Z.a,{sx:{width:"100%"},children:Object(Te.jsxs)(W.a,{direction:"column",sx:{width:"100%"},children:[Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.prof]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.cashflow," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0439:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.bizCount]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.deposit," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0435:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.rentCount]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.houseSumm," \u041a"]})})]}),Object(Te.jsxs)(W.a,{justifyContent:"space-between",alignItems:"flex-start",direction:"row",children:[Object(Te.jsx)(B.a,{variant:"caption",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430:"}),Object(Te.jsx)(B.a,{variant:"caption",children:Object(Te.jsxs)("b",{children:[" ",e.record.carSum," \u041a"]})})]})]})})};var Kn=function(e){var t=e.fetchedUser,n=a.a.useState("one"),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(O.c)((function(e){return e.user.greetings})),j=Object(O.b)();function l(){return(l=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:51483243,scope:"friends"});case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{order:"hints",fields:"photo_100",v:"5.131",access_token:t.access_token}});case 5:n=e.sent,j(se(n.response.items));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ve.a,{}),Object(Te.jsxs)(B.a,{children:["\u041d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 ",Object(Te.jsx)("b",{children:"\u041f\u0420\u041e\u0424\u0418\u041b\u042c"})," \u043c\u043e\u0436\u043d\u043e",Object(Te.jsx)("br",{}),"-\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c",Object(Te.jsx)("br",{}),"-\u043f\u0440\u043e\u0434\u0430\u0442\u044c \u0435\u0435",Object(Te.jsx)("br",{}),"-\u0441\u0434\u0430\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443",Object(Te.jsx)("br",{}),"-\u043f\u043e\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",Object(Te.jsx)("br",{}),"-\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0445 \u0440\u0435\u043a\u043e\u0440\u0434\u044b",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),"\u041f\u0440\u0438 \u0432\u0437\u0430\u0438\u043c\u043d\u043e\u043c ",Object(Te.jsx)("b",{children:"\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438"})," \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u044d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u043a\u0443",Object(Te.jsx)("br",{}),Object(Te.jsx)("br",{}),Object(Te.jsx)("b",{children:"\u0420\u0435\u043a\u043e\u0440\u0434 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f"})," \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432"]})]});return Object(Te.jsx)(D.a,{sx:{width:"100vw",height:"100%",minHeight:"100vh",borderRadius:0},children:Object(Te.jsxs)(N.a,{children:[Object(Te.jsx)(Ae,{fetchedUser:t,info:x}),Object(Te.jsxs)(yt.a,{value:r,onChange:function(e,t){i(t)},textColor:"secondary",indicatorColor:"secondary",children:[Object(Te.jsx)(wt.a,{value:"one",label:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c"})}),Object(Te.jsx)(wt.a,{onClick:function(){return function(){return l.apply(this,arguments)}()},value:"two",label:Object(Te.jsx)(Oe.a,{color:"secondary",variant:"dot",invisible:!s,children:Object(Te.jsx)(B.a,{variant:"body2",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})})}),Object(Te.jsx)(wt.a,{value:"three",label:Object(Te.jsx)(B.a,{variant:"body2",children:"\u041c\u043e\u0439 \u0440\u0435\u043a\u043e\u0440\u0434"})})]}),"one"===r&&Object(Te.jsx)(wn,{}),"two"===r&&Object(Te.jsx)(In,{}),"three"===r&&Object(Te.jsx)(En,{}),Object(Te.jsx)(X.a,{}),Object(Te.jsx)(qe,{value:z})]})})},Fn=Object(ee.b)("houses/getHouses",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/houses");case 3:r=e.sent,c(An(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Tn=Object(ee.c)({name:"houses",initialState:{houses:[]},reducers:{setHouses:function(e,t){e.houses=t.payload}}}),An=Tn.actions.setHouses,Mn=Tn.reducer,Un=Object(ee.b)("cars/getCars",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/cars");case 3:r=e.sent,c(Wn(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Rn=Object(ee.c)({name:"cars",initialState:{cars:[]},reducers:{setCars:function(e,t){e.cars=t.payload}}}),Wn=Rn.actions.setCars,Bn=Rn.reducer,Dn=Object(ee.b)("bizs/getBizs",function(){var e=Object(b.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,c=n.dispatch,e.next=3,f.get("/bizs");case 3:r=e.sent,c(Vn(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Nn=Object(ee.c)({name:"bizs",initialState:{bizs:[]},reducers:{setBizs:function(e,t){e.bizs=t.payload}}}),Vn=Nn.actions.setBizs,Gn=Nn.reducer,Hn=(n(474),n(180)),qn=n(556),Ln=Object(x.withRouter)((function(){var e=Object(r.useState)("bright_light"),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),i=Object(u.a)(a,2),s=i[0],j=i[1],l=Object(O.c)((function(e){return e.user.user})),h=Object(O.c)((function(e){return e.user.theme})),f=Object(O.b)(),p=Object(x.useLocation)();Object(r.useEffect)((function(){0!=Object.keys(l).length&&(l.debts>0?f(je(!0)):f(je(!1)),l.greetingIn.length>0?f(oe(!0)):f(oe(!1)))}),[l]),Object(r.useEffect)((function(){function e(){return e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}f(Fn()),f(Un()),f(Dn()),f(te()),f(ne()),o.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;"VKWebAppUpdateConfig"===n&&c(r.scheme)})),function(){e.apply(this,arguments)}()}),[]);var m=Object(Hn.a)("dark"==h?{palette:{mode:"dark"},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:"light"==h?{palette:{mode:"light",background:{default:"#FFFFFF",paper:"#F2F2F2"}},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:"auto"==h?"bright_light"==n?{palette:{mode:"light",background:{default:"#FFFFFF",paper:"#F2F2F2"}},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:{palette:{mode:"dark"},typography:{fontFamily:["Jura","sans-serif"].join(",")}}:void 0);return Object(Te.jsx)(vt.a,{children:Object(Te.jsx)(qn.a,{theme:m,children:Object(Te.jsxs)(vt.c,{id:A,history:p.hasOverlay()?[]:p.getViewHistory(A),activePanel:p.getViewActivePanel(A),children:[Object(Te.jsx)(Xt,{id:k,fetchedUser:s}),Object(Te.jsx)(Zt,{id:S,fetchedUser:s}),Object(Te.jsx)(jn,{id:_}),Object(Te.jsx)(mn,{id:P,fetchedUser:s}),Object(Te.jsx)(yn,{id:I}),Object(Te.jsx)(gt,{id:E,fetchedUser:s}),Object(Te.jsx)(Bt,{id:K,fetchedUser:s}),Object(Te.jsx)(Qt,{id:F,fetchedUser:s}),Object(Te.jsx)(Kn,{id:T,fetchedUser:s})]})})})})),Jn=Object(ee.a)({reducer:{user:le,houses:Mn,cars:Bn,bizs:Gn}});o.a.send("VKWebAppInit"),s.a.render(Object(Te.jsx)(x.RouterContext.Provider,{value:U,children:Object(Te.jsx)(O.a,{store:Jn,children:Object(Te.jsx)(Ln,{})})}),document.getElementById("root"))}},[[475,1,2]]]);
//# sourceMappingURL=main.cc27e960.chunk.js.map