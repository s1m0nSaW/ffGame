{"version":3,"sources":["routers.js","axios.js","redux/slices/userSlice.js","components/Header.jsx","components/BottomNav.jsx","components/Biz.jsx","components/Work.jsx","components/Rent.jsx","panels/Main.jsx","components/BizLot.jsx","panels/shop/BizList.jsx","components/CarLot.jsx","panels/shop/CarList.jsx","components/HouseLot.jsx","panels/shop/HouseList.jsx","panels/Property.jsx","panels/bank/Report.jsx","panels/bank/Credit.jsx","panels/bank/Deposit.jsx","panels/Bank.jsx","panels/Intro.jsx","panels/Register.jsx","panels/Training.jsx","panels/Settings.jsx","panels/Pause.jsx","panels/profile/Home.jsx","panels/profile/Friends.jsx","panels/profile/Raiting.jsx","panels/Profile.jsx","redux/slices/housesSlice.js","redux/slices/carsSlice.js","redux/slices/bizsSlice.js","App.js","redux/store.js","index.js"],"names":["PAGE_REGISTER","PAGE_TRAINING","PAGE_SETTINGS","PAGE_PAUSE","PAGE_MAIN","PAGE_PROPERTY","PAGE_BANK","PAGE_PROFILE","PANEL_INTRO","PANEL_REGISTER","PANEL_TRAINING","PANEL_SETTINGS","PANEL_PAUSE","PANEL_MAIN","PANEL_PROPERTY","PANEL_BANK","PANEL_PROFILE","VIEW_MAIN","routes","Page","router","Router","start","instance","axios","create","baseURL","getUsers","createAsyncThunk","_","a","rejectWithValue","dispatch","get","res","setUsers","data","getProfs","setProfs","userSlice","createSlice","name","initialState","user","users","friends","profs","status","reducers","setUser","state","action","payload","setFriends","setStatus","extraReducers","fulfilled","console","log","pending","rejected","actions","Header","fetchedUser","useDispatch","React","useState","open","setOpen","blue","energyColor","setEnergyColor","timeLeft","setTimeLeft","enerTime","setEnerTime","useSelector","bizTime","bizs","filter","_id","includes","map","item","requiredTime","reduce","prev","curr","useEffect","energizer","energy","maxEnergy","grey","interval","setInterval","freeEnergizer","date","Date","fields","freeEnergizerOn","save","clearInterval","patch","textInfo","Stack","direction","Typography","spacing","Fragment","IconButton","size","color","onClick","fontSize","AppBar","component","sx","padding","borderRadius","top","marginBottom","position","Toolbar","disableGutters","width","Avatar","src","photo_200","variant","first_name","last_name","balance","marginTop","justifyContent","alignItems","Chip","label","bgcolor","deleteIcon","onDelete","newEnergizer","newEnergy","icon","teal","time","workTime","purple","Math","trunc","age","lime","handleFreeEnergy","milliseconds","hours","absoluteHours","floor","h","minutes","absoluteMinutes","m","seconds","absoluteSeconds","parseMillisecondsIntoReadableTime","marginLeft","Skeleton","height","animation","Container","ListItemText","primary","secondary","Snackbar","onClose","message","BottomNav","value","useRouter","bottom","left","right","elevation","BottomNavigation","onChange","event","newValue","pushPage","BottomNavigationAction","Biz","biz","setColor","Restaurant","Market","Service","green","profitColor","setProfitColor","maxProfit","minProfit","profit","setProfit","isCounting","setIsCounting","myBizs","bizIcon","setBizIcon","bizType","result","min","max","p","ceil","random","pink","onGame","pause","ListItem","disablePadding","secondaryAction","price","requiredEnergy","newBalance","handleStart","disabled","ListItemAvatar","bizName","LinearProgress","Divider","Dialog","fullWidth","DialogTitle","DialogContent","DialogContentText","risk","sellPrice","DialogActions","Button","id","myNewBizs","sellBiz","Work","cars","myHouses","houses","house","myCars","car","sumHouseExp","expenses","sumCarExp","ageTime","setAgeTime","ageInterval","salary","agePlus","prof","quit","Rent","rentPrice","Main","myRents","rent","sumRent","sumRentExp","sumCreditsDebt","credits","debt","sumCreditsPayments","payment","totalExp","children","remind","setRemind","bankrot","setBankrot","ageLimit","setAgeLimit","winning","setWinning","debts","length","deposit","amount","newAge","newDebts","content","i","credit","push","sort","x","y","getNewCreditData","accruePayments","round","style","transform","boxShadow","BizPlaceHolder","InvestPlaceHolder","RentPlaceHolder","minHeight","List","dense","index","newDeposit","takeDividends","Modal","Box","newRecord","cashflow","records","victory","BizLot","setDisabled","bizPrice","buyBiz","BizList","c","Set","avBizs","has","CarLot","isMy","Grid","Card","CardMedia","image","imageUrl","CardContent","gutterBottom","CardActions","myCars1","myEnergy","myTime","sellCar","buyCar","CarList","avCars","container","HouseLot","isRent","rentHouses","myHouse","sellHouse","rentHouse","derentHouse","buyHouse","HouseList","avHouses","c2","avHouses2","Property","setValue","Tabs","textColor","indicatorColor","Tab","Report","sumHouses","sumCars","sumBizProfit","sumCredits","summ","myCredits","newCredit","payCreditDebt","toLocaleDateString","year","month","day","payOff","Credit","setAmount","term","setTerm","setPayment","creditAmount","setCreditAmount","canCal","setCanCal","calculated","setCalculated","creditLimit","setCreditLimit","xs","FormControl","error","InputLabel","Select","labelId","target","MenuItem","terms","takeCredit","Deposit","withdrawAmount","setWithdrawAmount","disabledWithdraw","setDisabledWithdraw","TextField","type","InputLabelProps","shrink","Number","invest","withdraw","Bank","Intro","firstTime","setFirstTime","getPlayer","then","catch","centered","Register","profession","setProfession","getProf","Object","keys","firstName","profName","userId","childCount","post","datePoint","lifesCount","CircularProgress","Training","Paper","Settings","Pause","play","Home","Friends","ids","u","string","parseInt","myFriends","bridge","send","app_id","scope","response","method","params","order","v","access_token","items","fetchFriends","display","Raiting","Profile","getHouses","setHouses","houseSlice","getCars","setCars","carSlice","getBizs","setBizs","bizSlice","withRouter","setScheme","location","useLocation","subscribe","detail","scheme","fetchData","theme","createTheme","palette","mode","ThemeProvider","history","hasOverlay","getViewHistory","activePanel","getViewActivePanel","store","configureStore","reducer","carsSlice","bizsSlice","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.9cffaf14.chunk.js","sourcesContent":["import { Page, Router } from '@happysanta/router';\r\n\r\nexport const PAGE_INTRO = '/';\r\nexport const PAGE_REGISTER = '/register';\r\nexport const PAGE_TRAINING = '/training';\r\nexport const PAGE_SETTINGS = '/settings';\r\nexport const PAGE_PAUSE = '/pause';\r\nexport const PAGE_MAIN = '/main';\r\nexport const PAGE_PROPERTY = '/property';\r\nexport const PAGE_BANK = '/bank';\r\nexport const PAGE_PROFILE = '/profile';\r\n\r\nexport const PANEL_INTRO = 'panel_intro';\r\nexport const PANEL_REGISTER = 'panel_register';\r\nexport const PANEL_TRAINING = 'panel_training';\r\nexport const PANEL_SETTINGS = 'panel_settings';\r\nexport const PANEL_PAUSE = 'panel_pause';\r\nexport const PANEL_MAIN = 'panel_main';\r\nexport const PANEL_PROPERTY = 'panel_property';\r\nexport const PANEL_BANK = 'panel_bank';\r\nexport const PANEL_PROFILE = 'panel_profile';\r\n\r\nexport const VIEW_MAIN = 'view_main';\r\n\r\nconst routes = {\r\n\t[PAGE_INTRO]: new Page(PANEL_INTRO, VIEW_MAIN),\r\n\t[PAGE_REGISTER]: new Page(PANEL_REGISTER, VIEW_MAIN),\r\n\t[PAGE_TRAINING]: new Page(PANEL_TRAINING, VIEW_MAIN),\r\n\t[PAGE_SETTINGS]: new Page(PANEL_SETTINGS, VIEW_MAIN),\r\n    [PAGE_PAUSE]: new Page(PANEL_PAUSE, VIEW_MAIN),\r\n    [PAGE_MAIN]: new Page(PANEL_MAIN, VIEW_MAIN),\r\n    [PAGE_PROPERTY]: new Page(PANEL_PROPERTY, VIEW_MAIN),\r\n    [PAGE_BANK]: new Page(PANEL_BANK, VIEW_MAIN),\r\n    [PAGE_PROFILE]: new Page(PANEL_PROFILE, VIEW_MAIN),\r\n};\r\n\r\nexport const router = new Router(routes);\r\n\r\nrouter.start();","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:4444',\r\n});\r\n\r\nexport default instance;","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    user: {},\r\n    users: [],\r\n    friends: [],\r\n    profs: [],\r\n    status: '',\r\n};\r\n\r\nexport const getUsers = createAsyncThunk('users/getUsers', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/auth/users')\r\n    dispatch(setUsers((res).data))\r\n})\r\n\r\nexport const getProfs = createAsyncThunk('users/getProfs', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/profs')\r\n    dispatch(setProfs((res).data))\r\n})\r\n\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducers: {\r\n        setUser: ( state, action ) => {\r\n            state.user = action.payload\r\n        },\r\n        setUsers: ( state, action ) => {\r\n            state.users = action.payload\r\n        },\r\n        setFriends: ( state, action ) => {\r\n            state.friends = action.payload\r\n        },\r\n        setStatus: ( state, action ) => {\r\n            state.status = action.payload\r\n        },\r\n        setProfs: ( state, action ) => {\r\n            state.profs = action.payload\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [getUsers.fulfilled] : () => {\r\n            console.log('users получены')\r\n        },\r\n        [getUsers.pending] : () => {\r\n            console.log('запрос users')\r\n        },\r\n        [getUsers.rejected] : () => {\r\n            console.log('ошибка users')\r\n        },\r\n        [getProfs.fulfilled] : () => {\r\n            console.log('profs получены')\r\n        },\r\n        [getProfs.pending] : () => {\r\n            console.log('запрос profs')\r\n        },\r\n        [getProfs.rejected] : () => {\r\n            console.log('ошибка profs')\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setUser, setUsers, setFriends, setStatus, setProfs } = userSlice.actions;\r\n\r\nexport default userSlice.reducer;","\r\nimport { AppBar, Avatar, Container, ListItemText, Skeleton, Toolbar, Typography, Stack, Chip, Snackbar, Button, IconButton } from '@mui/material'\r\nimport { purple, lime, teal, grey, blue } from '@mui/material/colors';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js';\r\n\r\nimport BoltIcon from '@mui/icons-material/Bolt';\r\nimport QueryBuilderOutlinedIcon from '@mui/icons-material/QueryBuilderOutlined';\r\nimport BatteryChargingFullOutlinedIcon from '@mui/icons-material/BatteryChargingFullOutlined';\r\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\r\nimport HourglassEmptyIcon from '@mui/icons-material/HourglassEmpty';\r\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\n\r\nexport const Header = ({fetchedUser}) => {\r\n  const dispatch = useDispatch()\r\n  const [open, setOpen] = React.useState(false);\r\n  const [energyColor, setEnergyColor] = React.useState(blue[500])\r\n  const [timeLeft, setTimeLeft] = React.useState(0)\r\n  const [enerTime, setEnerTime] = React.useState(0)\r\n  const user = useSelector((state) => state.user.user)\r\n  const bizs = useSelector((state) => state.bizs.bizs)\r\n  const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n  const bizTime = myBizs.map(item => item.requiredTime).reduce((prev, curr) => prev + curr, 0)\r\n\r\n  React.useEffect( () => {\r\n    if(user.energizer > 0){\r\n      if(user.energy < user.maxEnergy){\r\n        setEnergyColor(blue[400])\r\n      } else setEnergyColor(grey[200])\r\n    } else setEnergyColor(grey[200])\r\n\r\n    const interval = setInterval(() => {\r\n      !user.freeEnergizer && setTimeLeft((timeLeft) => (timeLeft >= 100 ? 100 : timeLeft +1 ))\r\n      const date = +new Date\r\n      if(date > user.freeEnergizer){\r\n        const fields = {\r\n          ...user,\r\n          freeEnergizerOn: true,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n      }\r\n      setEnerTime(user.freeEnergizer - date)\r\n      \r\n      if (timeLeft == 100) {\r\n        setTimeLeft(0)\r\n      }\r\n    },100)\r\n    return () => {\r\n        clearInterval(interval)\r\n    }\r\n  },[user, setTimeLeft])\r\n  \r\n  const handlePlusEnergy = () => {\r\n    if(user.energizer > 0){\r\n      if(user.energy < user.maxEnergy){\r\n        const newEnergizer = user.energizer - 1\r\n        const newEnergy = user.energy + 5\r\n        const fields = {\r\n          ...user,\r\n          energizer: newEnergizer,\r\n          energy: newEnergy,\r\n          \r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFreeEnergy = () => {\r\n    const date = +new Date\r\n    const newEnergizer = user.energizer + 10\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tenergizer: newEnergizer,\r\n      freeEnergizer: date + 86400000,\r\n      freeEnergizerOn: false,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n  }\r\n\r\n  const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)}\r\n\r\n  const textInfo = (\r\n    <Stack direction=\"column\">\r\n      <Typography></Typography><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <BoltIcon />\r\n        <Typography>Энергия - расходуется каждый раз когда фиксируется прибыль от бизнеса. \r\n          Купив недвижимость, не сдавая её в аренду, можно увеличить максимальное количество энергии.<br/><br/>\r\n          Пополнить энергию можно с помощью энергетика.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <BatteryChargingFullOutlinedIcon />\r\n        <Typography>Энергетик пополняет энергию на 5 пунктов. Каждый 24 часа предлагается 10 бесплатных энергетиков, \r\n          их колисество можно увеличить до 50, выполнив некоторые условия в настройках.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <QueryBuilderOutlinedIcon />\r\n        <Typography> Время необходимо для покупки бизнеса. Общее количество времени 10 ч. Увеличить его можно купив транспорт.\r\n        </Typography>\r\n      </Stack><br/>\r\n      <Stack direction=\"row\" spacing={1}>\r\n        <HourglassEmptyIcon />\r\n        <Typography>Возраст игрока на данный момент, по достижении 60 лет игра заканчивается.\r\n        </Typography>\r\n      </Stack>\r\n    </Stack>\r\n  )\r\n\r\n  const action = (\r\n    <React.Fragment>\r\n      <IconButton\r\n        size=\"small\"\r\n        aria-label=\"close\"\r\n        color=\"inherit\"\r\n        onClick={()=>setOpen(false)}\r\n      >\r\n        <CloseIcon fontSize=\"small\" />\r\n      </IconButton>\r\n    </React.Fragment>\r\n  );\r\n\r\n  function parseMillisecondsIntoReadableTime(milliseconds){\r\n    //Get hours from milliseconds\r\n    var hours = milliseconds / (1000*60*60);\r\n    var absoluteHours = Math.floor(hours);\r\n    var h = absoluteHours > 9 ? absoluteHours : '0' + absoluteHours;\r\n  \r\n    //Get remainder from hours and convert to minutes\r\n    var minutes = (hours - absoluteHours) * 60;\r\n    var absoluteMinutes = Math.floor(minutes);\r\n    var m = absoluteMinutes > 9 ? absoluteMinutes : '0' +  absoluteMinutes;\r\n  \r\n    //Get remainder from minutes and convert to seconds\r\n    var seconds = (minutes - absoluteMinutes) * 60;\r\n    var absoluteSeconds = Math.floor(seconds);\r\n    var s = absoluteSeconds > 9 ? absoluteSeconds : '0' + absoluteSeconds;\r\n  \r\n  \r\n    return h + ':' + m + ':' + s;\r\n  }\r\n\r\n\r\n  return (\r\n      <AppBar component=\"nav\" color=\"inherit\" sx={{padding:'10px', borderRadius:'10px', top: 10, marginBottom: '10px'}} position='sticky'>\r\n        {fetchedUser ?\r\n        <Toolbar disableGutters>\r\n          <Stack direction=\"column\" sx={{ width: '100%' }} >\r\n          <Stack direction=\"row\" spacing={1}>\r\n          <Stack>\r\n            <Avatar src={fetchedUser.photo_200}/>\r\n          </Stack>\r\n          <Stack direction=\"column\">\r\n            <Typography variant='caption' >{fetchedUser.first_name} {fetchedUser.last_name}</Typography>\r\n            <Typography>Баланс: {user.balance} K</Typography>\r\n          </Stack>\r\n          </Stack>\r\n          <Stack \r\n            sx={{ marginTop: '15px'}}\r\n            direction=\"row\"\r\n            justifyContent=\"flex-start\"\r\n            alignItems=\"center\"\r\n            spacing={1}>\r\n              <Chip label={`${user.energy}/${user.maxEnergy}`} sx={{ bgcolor: energyColor }} deleteIcon={<AddCircleIcon/>} onDelete={handlePlusEnergy}  icon={<BoltIcon />} size=\"small\" />\r\n              <Chip label={user.energizer} icon={<BatteryChargingFullOutlinedIcon />} size=\"small\" sx={{ bgcolor: teal[200] }}/>\r\n              <Chip label={`${user.time - (bizTime + user.workTime)}/${user.time}`} sx={{ bgcolor: purple[200] }} icon={<QueryBuilderOutlinedIcon />} size=\"small\" />\r\n              <Chip label={`${Math.trunc(user.age/12)}/60`} sx={{ bgcolor: lime[300] }} icon={<HourglassEmptyIcon />} size=\"small\" />\r\n            </Stack>\r\n            <Stack \r\n              direction=\"row\"\r\n              sx={{ marginTop: '15px'}}>\r\n                {user.freeEnergizerOn ? <Chip label={`+10 энергетиков`} onClick={()=>handleFreeEnergy()} color=\"primary\" icon={<BatteryChargingFullOutlinedIcon />} size=\"small\" />:\r\n                <Chip label={`Бесплатные через ${parseMillisecondsIntoReadableTime(enerTime)}`} icon={<BatteryChargingFullOutlinedIcon />} size=\"small\" />}\r\n                <InfoOutlinedIcon onClick={()=>setOpen(true)} color=\"primary\" sx={{ marginLeft:'auto'}} />\r\n              </Stack>\r\n            </Stack>\r\n        </Toolbar> : \r\n        <Toolbar> \r\n          <Skeleton variant=\"circular\" width={40} height={40} animation=\"wave\" /> \r\n          <Container>\r\n          <ListItemText \r\n              primary={<Skeleton/>} \r\n              secondary={<Skeleton/>}/>\r\n          </Container>\r\n        </Toolbar>}\r\n        <div>\r\n          <Snackbar\r\n            open={open}\r\n            onClose={()=>setOpen(false)}\r\n            message={textInfo}\r\n            action={action}\r\n          />\r\n        </div>\r\n      </AppBar>\r\n    \r\n  )\r\n}\r\n","import { BottomNavigation, BottomNavigationAction, Paper } from '@mui/material'\r\nimport React from 'react'\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN, PAGE_PROPERTY, PAGE_BANK, PAGE_PROFILE } from '../routers';\r\n\r\nimport HandshakeIcon from '@mui/icons-material/Handshake';\r\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn';\r\n\r\nfunction BottomNav({value}) {\r\n    const router = useRouter()\r\n    const handleChange = (event, newValue) => {\r\n        router.pushPage(newValue)\r\n      };\r\n    return (\r\n        <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n        <BottomNavigation\r\n            value={value}\r\n            onChange={handleChange}\r\n        >\r\n            <BottomNavigationAction label=\"Главная\" value={PAGE_MAIN} icon={<MonetizationOnIcon/>}/>\r\n            <BottomNavigationAction label=\"Сделки\" value={PAGE_PROPERTY} icon={<HandshakeIcon/>}/>\r\n            <BottomNavigationAction label=\"Банк\" value={PAGE_BANK} icon={<AccountBalanceIcon/>}/>\r\n            <BottomNavigationAction label='Профиль' value={PAGE_PROFILE} icon={<HomeIcon/>}/>\r\n\r\n        </BottomNavigation>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default BottomNav","import { ListItem, Stack, Typography, ListItemAvatar, Avatar, ListItemText,\r\n    LinearProgress, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, IconButton, Button, Divider, Skeleton } from '@mui/material'\r\nimport { green, pink } from '@mui/material/colors';\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nimport PaymentsIcon from '@mui/icons-material/Payments';\r\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\nimport HomeRepairServiceIcon from '@mui/icons-material/HomeRepairService';\r\n\r\nfunction Biz({ biz }) {\r\n\r\n    const [ color, setColor ] = React.useState(\"inherit\")\r\n    const Restaurant = () => {\r\n        return(\r\n            <RestaurantIcon color={\"warning\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const Market = () => {\r\n        return(\r\n            <StorefrontIcon color={\"success\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const Service = () => {\r\n        return(\r\n            <HomeRepairServiceIcon color={\"secondary\"} onClick={()=>setOpen(true)}/>\r\n        )\r\n    }\r\n\r\n    const SkeletonIcon = () => {\r\n        return(\r\n            <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n        )\r\n    }\r\n\r\n    const [ profitColor, setProfitColor ] = React.useState(green[300])\r\n    const [ open, setOpen ] = React.useState(false)\r\n    const [ profit, setProfit ] = React.useState(((biz.maxProfit - biz.minProfit)/2)+biz.minProfit)\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const value = timeLeft * 10\r\n    const [ isCounting, setIsCounting ] = React.useState(true)\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    \r\n    const [ bizIcon, setBizIcon ] = React.useState(SkeletonIcon)\r\n\r\n    React.useEffect(()=>{\r\n        if(biz.bizType == \"Услуги\") {\r\n            setColor(\"secondary\")\r\n            setBizIcon(Service)\r\n        } else\r\n        if(biz.bizType == \"Общепит\") { \r\n            setColor(\"warning\")\r\n            setBizIcon(Restaurant)\r\n        } else\r\n        if(biz.bizType == \"Торговля\") {\r\n            setColor(\"success\")\r\n            setBizIcon(Market)\r\n        }\r\n    },[biz.bizType])\r\n\r\n    const getRandomIntInclusive = (min, max) => {\r\n\t\tmin = Math.ceil(min);\r\n\t\tmax = Math.floor(max);\r\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n\t  }\r\n\r\n    const result = () => {\r\n\t\tsetIsCounting(false)\r\n\t\tconst p = getRandomIntInclusive( -150, biz.maxProfit)\r\n        if( p > 0 ) {setProfitColor(green[700])} else {setProfitColor(pink[500])}\r\n\t\tsetProfit(p)\r\n\t}\r\n\r\n    const handleStart = (price,requiredEnergy) => {\r\n        setIsCounting(true)\r\n        if (timeLeft == 10)setTimeLeft(0)\r\n        const newBalance = user.balance + price\r\n        const newEnergy = user.energy - requiredEnergy\r\n        const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n            energy: newEnergy,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n        save(fields)\r\n    }\r\n\r\n    const sellBiz = ( id, price) => {\r\n\t\tconst newBalance = user.balance + price\r\n\t\tconst myNewBizs = myBizs.filter((biz) => biz._id !== id)\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\tbizs: myNewBizs.map(item => item._id)\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const pause = () => {\r\n        const fields = {\r\n            ...user,\r\n            onGame: false,\r\n        }\r\n        dispatch(setUser(fields))\r\n\t\tsave(fields)\r\n        //router.pushPage(PAGE_PAUSE)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            \r\n            isCounting && setTimeLeft((timeLeft) => (timeLeft >= 10 ? 10 : timeLeft +1 ))\r\n\t\t\t\r\n            if (timeLeft == 10) {\r\n                if(user.energy <= 0){\r\n                    pause()\r\n                } else {\r\n                    result()\r\n                }\r\n\t\t\t}\r\n        },500)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    },[isCounting, timeLeft])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n            secondaryAction={<Stack alignItems=\"flex-end\">\r\n                <Typography variant=\"h6\" sx={{ color: profitColor }}>{Math.trunc(profit)} K</Typography>\r\n                <IconButton \r\n                    onClick={()=>handleStart(Math.trunc(profit),biz.requiredEnergy)} \r\n                    color=\"primary\" \r\n                    disabled={isCounting} \r\n                    variant=\"contained\" \r\n                    size=\"small\"\r\n                ><PaymentsIcon/></IconButton></Stack>}\r\n        >\r\n            <ListItemAvatar>\r\n                <Avatar>\r\n                {bizIcon}\r\n                </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<React.Fragment>{biz.bizName}<br/><Typography variant=\"caption\">Макс. прибыль: {biz.maxProfit} K</Typography></React.Fragment>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={value} color={color}/>}\r\n            />\r\n        </ListItem>\r\n        \r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/>\r\n        <Dialog\r\n            open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            {biz.bizName}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Вид бизнеса: <b>{biz.bizType}</b><br/>\r\n                Расход энергии: <b>{biz.requiredEnergy}</b><br/>\r\n                Расход времени: <b>{biz.requiredTime}ч.</b><br/>\r\n                Максимальная прибыль: <b>{biz.maxProfit} K</b><br/>\r\n                Минимальная прибыль: <b>{biz.minProfit} K</b><br/>\r\n                Риск: <b>{biz.risk}</b><br/>\r\n                Сумма продажи: <b>{biz.sellPrice} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={()=>{\r\n                sellBiz(biz._id,biz.sellPrice); \r\n                setOpen(false)\r\n                }}>\r\n                Продать\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n    }\r\n\r\nexport default Biz","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\n\r\nimport { Avatar, Typography, Dialog, DialogContent, DialogContentText, DialogActions, Button, LinearProgress, ListItem, ListItemAvatar, DialogTitle, ListItemText } from '@mui/material'\r\n\r\nimport EngineeringIcon from '@mui/icons-material/Engineering';\r\n\r\nfunction Work() {\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n\tconst houses = useSelector((state) => state.houses.houses)\r\n\t\r\n\tconst myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n\tconst myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    \r\n    const [ ageTime, setAgeTime ] = React.useState(0)\r\n    const [ open, setOpen ] = React.useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n    \r\n\tconst agePlus = () => {\r\n        const newBalance = user.balance + user.salary\r\n        const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n    }\r\n\r\n    const quit = () => {\r\n        const fields = {\r\n\t\t\t...user,\r\n            workTime: 0,\r\n            salary: 0,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const ageInterval = setInterval(() => {\r\n            setAgeTime((ageTime) => (ageTime >= 100 ? 100 : ageTime +1 ))\r\n            if (ageTime == 100 ) {\r\n                agePlus()\r\n\t\t\t\tsetAgeTime(0)\r\n            }\r\n        },100)\r\n        return () => {\r\n            clearInterval(ageInterval)\r\n        }\r\n    },[ageTime])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n          secondaryAction={<Typography variant=\"h6\">{user.salary} K</Typography>}>\r\n            <ListItemAvatar onClick={()=>setOpen(true)}>\r\n            <Avatar>\r\n                <EngineeringIcon color=\"action\"/>\r\n            </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<React.Fragment>Профессия: {user.prof}<br/></React.Fragment>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={ageTime} color=\"inherit\"/>}\r\n            />\r\n        </ListItem>\r\n        <Dialog\r\n            open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            Работа\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Профессия: <b>{user.prof}</b><br/>\r\n                Расход времени: <b>8ч.</b><br/>\r\n                Расходы на дом: <b>{sumHouseExp} K</b><br/>\r\n                Расходы на транспорт: <b>{sumCarExp} K</b><br/>\r\n                Общие расходы: <b>{user.expenses} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={()=>{ \r\n                quit()\r\n                setOpen(false)\r\n                }}>\r\n                Уволиться\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n}\r\n\r\nexport default Work","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\n\r\nimport { Avatar, Typography, LinearProgress, ListItem, ListItemAvatar, ListItemText, Divider } from '@mui/material'\r\n\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\n\r\nfunction Rent({house}) {\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const value = timeLeft\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n\r\n    const result = () => {\r\n\t\tconst newBalance = user.balance + house.rentPrice\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n        setTimeLeft(0)\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            \r\n            setTimeLeft((timeLeft) => (timeLeft >= 100 ? 100 : timeLeft +1 ))\r\n\t\t\t\r\n            if (timeLeft == 100) {\r\n\t\t\t\tresult()\r\n\t\t\t}\r\n        },100)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    },[timeLeft])\r\n\r\n    return (\r\n        <>\r\n        <ListItem disablePadding\r\n          secondaryAction={<Typography variant=\"h6\">{house.rentPrice} K</Typography>}>\r\n            <ListItemAvatar>\r\n            <Avatar>\r\n                <BusinessIcon color=\"action\"/>\r\n            </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={<Typography variant=\"body2\">{house.name}</Typography>}\r\n                secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={value} color=\"inherit\"/>}\r\n            />\r\n        </ListItem>\r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/></>\r\n    )\r\n    }\r\n\r\nexport default Rent","import { IconButton, Toolbar, List, Container, Stack, Typography, ListItem, ListItemAvatar, Avatar, ListItemText, LinearProgress, Modal, Box, Button, Paper } from '@mui/material'\r\nimport { grey } from '@mui/material/colors';\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useRouter } from '@happysanta/router'\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\nimport { PAGE_PAUSE, PAGE_REGISTER, PAGE_MAIN } from '../routers';\r\n\r\nimport { Header } from '../components/Header.jsx';\r\nimport BottomNav from '../components/BottomNav';\r\nimport Biz from '../components/Biz.jsx';\r\nimport Work from '../components/Work.jsx';\r\nimport Rent from '../components/Rent.jsx';\r\nimport SavingsIcon from '@mui/icons-material/Savings';\r\nimport PaymentsIcon from '@mui/icons-material/Payments';\r\nimport BusinessCenterIcon from '@mui/icons-material/BusinessCenter';\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport { Panel } from '@vkontakte/vkui';\r\n\r\nfunction Main({fetchedUser}) {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    \r\n    const user = useSelector((state) => state.user.user)\r\n    const bizs = useSelector((state) => state.bizs.bizs)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n\r\n    const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    const sumRentExp = myRents.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n    const sumCreditsDebt = user.credits.map(item => item.debt).reduce((prev, curr) => prev + curr, 0)\r\n    const sumCreditsPayments = user.credits.map(item => item.payment).reduce((prev, curr) => prev + curr, 0)\r\n\r\n    const totalExp = (user.children * 5) + user.expenses + sumCarExp + sumHouseExp + sumRentExp\r\n\r\n    const [ageTime, setAgeTime] = React.useState(0)\r\n    const [isCounting, setIsCounting] = React.useState(true)\r\n    const [timeLeft, setTimeLeft] = React.useState(0)\r\n    const [remind, setRemind] = React.useState(false)\r\n    const [bankrot, setBankrot] = React.useState(false)\r\n    const [ageLimit, setAgeLimit] = React.useState(false)\r\n    const [winning, setWinning] = React.useState(false)\r\n\r\n    const bankrotListener = () => {\r\n        if(user.balance < (user.debts+sumCreditsDebt) && user.credits.length >= 5 && myHouses.length <= 1 \r\n        && myBizs.length <= 0 && myCars.length <= 0 && myRents.length <= 0){\r\n            setBankrot(true)\r\n        }\r\n    }\r\n\r\n    const ageLimitListener = () => {\r\n        if(user.age >= 720) {\r\n            setAgeLimit(true)\r\n        }\r\n    }\r\n\r\n    const winningListener = () => {\r\n        if((((user.deposit.amount * 0.13)/12) + sumRent) > (totalExp + sumCreditsPayments) * 2) {\r\n            setWinning(true)\r\n        }\r\n    }\r\n\r\n    const victory = () => {\r\n        const newRecord = {\r\n            id: +new Date,\r\n            prof: user.prof,\r\n            age: Math.trunc(user.age/12),\r\n            cashflow: Math.round(((user.deposit.amount * 0.13)/12) + sumRent),\r\n        }\r\n        const fields = {\r\n            ...user,\r\n            records: [...user.records,newRecord],\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n        router.pushPage(PAGE_REGISTER)\r\n    }\r\n\r\n    const accruePayments = () => {\r\n\r\n        const getNewCreditData = credits => {\r\n            let content = [];\r\n            for (let i = 0; i < credits.length; i++) {\r\n                const credit = credits[i];\r\n                if(credit.debt >= credit.amount){\r\n                    content.push({\r\n                        id: credit.id,\r\n                        amount: credit.amount,\r\n                        debt: credit.debt,\r\n                        payment: credit.payment,\r\n                    });\r\n                } else \r\n                {content.push({\r\n                    id: credit.id,\r\n                    amount: credit.amount,\r\n                    debt: credit.debt + credit.payment,\r\n                    payment: credit.payment,\r\n                });}\r\n            }\r\n            return content.sort((x, y) => x.id - y.id);\r\n        };\r\n        const newAge = user.age + 1\r\n        const newDebts = user.debts + totalExp\r\n        const fields = {\r\n            ...user,\r\n            credits: getNewCreditData(user.credits),\r\n            debts: newDebts,\r\n            age: newAge,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n    }\r\n\r\n    const takeDividends = () => {\r\n        const newBalance = user.balance + Math.round(user.deposit.amount * 0.13)\r\n        const newDeposit = {\r\n            ...user.deposit,\r\n            date: +new Date + 120000,\r\n        }\r\n        const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n        }\r\n        \r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n        \r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    React.useEffect(()=>{if(user.onGame == false) router.pushPage(PAGE_PAUSE)},[user])\r\n\r\n    React.useEffect(() => {\r\n        const ageInterval = setInterval(() => {\r\n            bankrotListener()\r\n            ageLimitListener()\r\n            winningListener()\r\n\r\n            user.onGame && setAgeTime((ageTime) => (ageTime >= 1198 ? 1198 : ageTime +1 ))\r\n            if (ageTime == 1198 ) {\r\n                if(user.debts >= 0){\r\n                    setRemind(true)\r\n                }\r\n                setAgeTime(0)\r\n            }\r\n            if (ageTime == 100 || ageTime == 200 || ageTime == 300 || ageTime == 400 ||  \r\n                ageTime == 500 ||  ageTime == 600 ||  ageTime == 700 ||  ageTime == 800 ||  \r\n                ageTime == 900 ||  ageTime == 1000 ||  ageTime == 1100 ||  ageTime == 1197) {\r\n                    accruePayments()\r\n                }\r\n            const date = +new Date\r\n            \r\n            \r\n            if(user.deposit.date <= date){\r\n                \r\n                setIsCounting(false)\r\n                setTimeLeft(100)\r\n            }\r\n            isCounting && setTimeLeft(Math.round(100-(((user.deposit.date - date)/10)/120)))\r\n            if(user.deposit.date > date) {\r\n                setIsCounting(true)\r\n            }\r\n        },100)\r\n\r\n        return () => {\r\n            clearInterval(ageInterval)\r\n        }\r\n    },[ageTime])\r\n\r\n    const style = {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 250,\r\n        bgcolor: 'background.paper',\r\n        borderRadius: '10px',\r\n        boxShadow: 24,\r\n        p: 4,\r\n    };\r\n\r\n    const BizPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <BusinessCenterIcon sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет бизнеса</Typography>\r\n            <Typography variant=\"caption\">Купить бизнес можно во вкладке \"Сделки\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    const InvestPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <SavingsIcon sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет вклада</Typography>\r\n            <Typography variant=\"caption\">Открыть вклад можно во вкладке \"Банк\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    const RentPlaceHolder = () => {\r\n        return (\r\n        <Stack direction=\"column\"\r\n            justifyContent=\"space-evenly\"\r\n            alignItems=\"center\">\r\n            <BusinessIcon sx={{ fontSize: 40, marginTop: '15px' }} />\r\n            <Typography variant=\"subtitle1\">У Вас еще нет недвижимости в аренде</Typography>\r\n            <Typography variant=\"caption\">Сдать недвижимость в аренду можно во вкладке \"Профиль\"</Typography>\r\n        </Stack>)\r\n    }\r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Container>\r\n            <Header fetchedUser={fetchedUser}/>\r\n            {user.onGame ? \r\n            <>\r\n            {user.salary != 0 && <>\r\n            <Stack direction=\"row\"><Typography sx={{ marginTop: '10px'}} variant=\"subtitle1\">Работа</Typography></Stack>\r\n            <Work/></>}\r\n            <List dense>\r\n            {myBizs.length >= 1 ? <Typography variant=\"subtitle1\">Бизнесы</Typography>:<BizPlaceHolder/>}\r\n            {myBizs.map((biz, index) => (<Biz\r\n            key={index}\r\n            biz={biz}/>\r\n            ))}\r\n            \r\n            </List>\r\n            <List dense>\r\n            {user.deposit.amount != 0 ? \r\n                <><Typography variant=\"subtitle1\">Вклад</Typography>\r\n                <ListItem disablePadding\r\n                secondaryAction={<Stack alignItems=\"flex-end\">\r\n                    <Typography variant=\"h6\">{Math.round(user.deposit.amount * 0.13)} K</Typography>\r\n                    <IconButton \r\n                        onClick={()=>takeDividends()} \r\n                        color=\"primary\" \r\n                        disabled={isCounting} \r\n                        variant=\"contained\" \r\n                        size=\"small\"\r\n                    ><PaymentsIcon/>\r\n                    </IconButton></Stack>}>\r\n                    <ListItemAvatar>\r\n                    <Avatar>\r\n                        <SavingsIcon/>\r\n                    </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                        primary={<React.Fragment>Вклад: {user.deposit.amount}К<br/></React.Fragment>}\r\n                        secondary={<LinearProgress sx={{ width: 1/2 }} variant=\"determinate\" value={timeLeft} color=\"inherit\"/>}\r\n                    />\r\n                </ListItem></> : <InvestPlaceHolder/>}\r\n            </List>\r\n            <List dense> \r\n                {myRents.length >= 1 ? <><Typography variant=\"subtitle1\">Аренда</Typography></> : <RentPlaceHolder/>}\r\n                {myRents.map((house) => (<Rent\r\n                key={house._id}\r\n                house={house}/>\r\n                ))}\r\n            </List>\r\n            <Toolbar/></> : \r\n            <Stack\r\n                \r\n                direction=\"row\"\r\n                justifyContent=\"flex-start\"\r\n                alignItems=\"center\"\r\n                spacing={2}\r\n            >\r\n                <Typography variant=\"subtitle1\">Не в игре</Typography>\r\n            </Stack>}\r\n            <Modal\r\n            open={remind}\r\n            onClose={()=>setRemind(false)}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Задолженность {user.debts} K\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Необходимо погасить во вкладке \"Банк\"</Typography>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={winning}\r\n            onClose={()=>setWinning(false)}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Поздравляем!  🥳\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Вы достигли финансовой свободы в возрасте <b>{Math.trunc(user.age/12)}</b>, с начальной профессией <b>{user.prof}</b>, \r\n                с суммой пассивного дохода <b>{Math.round(((user.deposit.amount * 0.13)/12) + sumRent)}</b></Typography><br/><br/>\r\n                <Button onClick={()=>victory()}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={bankrot}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Игра закончена\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Вы банкрот 😥</Typography><br/><br/>\r\n                <Button onClick={()=>router.pushPage(PAGE_REGISTER)}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n            open={ageLimit}\r\n            >\r\n                <Box sx={style}>\r\n                <Typography>\r\n                    Игра закончена\r\n                </Typography><br/>\r\n                <Typography variant='caption'>Вы достигли предельного возраста 😥</Typography><br/><br/>\r\n                <Button onClick={()=>router.pushPage(PAGE_REGISTER)}>Начать заново</Button>\r\n                </Box>\r\n            </Modal>\r\n            <BottomNav value={PAGE_MAIN}/>\r\n            </Container>\r\n        </Paper>\r\n    \r\n    )\r\n}\r\n\r\nexport default Main","import { ListItem, Typography, ListItemAvatar, ListItemText, Dialog, DialogTitle, \r\n    DialogContent, DialogContentText, DialogActions, Button, Divider, Skeleton, Stack } from '@mui/material'\r\n\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\nimport HomeRepairServiceIcon from '@mui/icons-material/HomeRepairService';\r\n\r\nfunction BizLot({biz}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const myBiz = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n    const bizTime = myBiz.map(item => item.requiredTime).reduce((prev, curr) => prev + curr, 0)\r\n    \r\n    const [ open, setOpen ] = React.useState(false)\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n    \r\n    const Restaurant = () => {\r\n        return(\r\n            <RestaurantIcon color={\"warning\"}/>\r\n        )\r\n    }\r\n\r\n    const Market = () => {\r\n        return(\r\n            <StorefrontIcon color={\"success\"}/>\r\n        )\r\n    }\r\n\r\n    const Service = () => {\r\n        return(\r\n            <HomeRepairServiceIcon color={\"secondary\"}/>\r\n        )\r\n    }\r\n\r\n    const SkeletonIcon = () => {\r\n        return(\r\n            <Skeleton animation=\"wave\" variant=\"circular\" width={40} height={40} />\r\n        )\r\n    }\r\n\r\n    const [ bizIcon, setBizIcon ] = React.useState(SkeletonIcon)\r\n    \r\n\r\n    React.useEffect(()=>{\r\n\r\n        if(biz.bizType == \"Услуги\") {\r\n            setBizIcon(Service)\r\n        } else\r\n        if(biz.bizType == \"Общепит\") {\r\n            setBizIcon(Restaurant)\r\n        } else\r\n        if(biz.bizType == \"Торговля\") {\r\n            setBizIcon(Market)\r\n        }\r\n        \r\n        if(biz.bizPrice <= user.balance && biz.requiredTime <= (user.time - (bizTime + user.workTime))){ \r\n            setDisabled(false)\r\n        }\r\n\r\n        if(biz.bizPrice > user.balance || biz.requiredTime > (user.time - (bizTime + user.workTime))) setDisabled(true)\r\n\r\n\r\n\r\n    },[biz, user.balance])\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)}\r\n\r\n    const buyBiz = ( id, price ) => {\r\n        const newBalance = user.balance - price\r\n\t\tconst myBizs = [...user.bizs,id]\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\tbizs: myBizs,\r\n\t\t}\r\n\t\t\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <ListItem \r\n            disablePadding\r\n            secondaryAction={<Stack justifyContent=\"flex-end\" direction=\"column\">\r\n                <Typography variant=\"body2\">Цена: {biz.bizPrice}K</Typography>\r\n                <Button disabled={disabled} onClick={()=>{\r\n                buyBiz(biz._id,biz.bizPrice);\r\n                }}>\r\n                Купить\r\n            </Button>\r\n            </Stack>}\r\n        >\r\n            <ListItemAvatar onClick={()=>setOpen(true)}>\r\n                {bizIcon}\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={biz.bizName}\r\n                secondary={<React.Fragment>\r\n                    <Typography variant=\"caption\">Макс. прибыль: <b>{biz.maxProfit} K</b></Typography><br/>\r\n                    <Typography variant=\"caption\">Необходимое время: <b>{biz.requiredTime}ч.</b></Typography>\r\n                    </React.Fragment>}\r\n            />\r\n        </ListItem>\r\n        \r\n        \r\n        <Divider variant=\"inset\" component=\"li\" /><br/>\r\n        <Dialog open={open}\r\n            onClose={()=>setOpen(false)}\r\n            fullWidth\r\n        >\r\n            <DialogTitle>\r\n            {biz.bizName}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Вид бизнеса: <b>{biz.bizType}</b><br/>\r\n                Расход энергии: <b>{biz.requiredEnergy}</b><br/>\r\n                Необходимое время: <b>{biz.requiredTime}ч.</b><br/>\r\n                Максимальная прибыль: <b>{biz.maxProfit} K</b><br/>\r\n                Минимальная прибыль: <b>{biz.minProfit} K</b><br/>\r\n                Риск: <b>{biz.risk}</b><br/>\r\n                Сумма продажи: <b>{biz.sellPrice} K</b><br/>\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button disabled={disabled} onClick={()=>{\r\n                buyBiz(biz._id,biz.bizPrice); \r\n                setOpen(false)\r\n                }}>\r\n                Купить\r\n            </Button>\r\n            <Button onClick={()=>setOpen(false)}>\r\n                Отмена\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog></>\r\n    )\r\n}\r\n\r\nexport default BizLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { List, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport BizLot from '../../components/BizLot';\r\nimport BusinessCenterIcon from '@mui/icons-material/BusinessCenter';\r\n\r\nfunction BizList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst bizs = useSelector((state) => state.bizs.bizs)\r\n    const c = new Set(user.bizs)\r\n\tconst avBizs = bizs.filter(({_id}) => !c.has(_id))\r\n    return (\r\n        <>\r\n        {avBizs.length >= 1 ? <List>\r\n            {avBizs.map((biz, index) => (<BizLot\r\n            key={index}\r\n            biz={biz}/>\r\n            ))}\r\n        </List> : \r\n        <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <BusinessCenterIcon sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступного бизнеса</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BizList","import { Button, Card, CardMedia, CardContent, CardActions, Grid, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nfunction CarLot({car,isMy}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(user.balance > car.price) setDisabled(false)\r\n    },[user.balance])\r\n\r\n    const buyCar = () => {\r\n        const newBalance = user.balance - car.price\r\n\t\tconst myCars = [...user.car,car._id]\r\n        const myEnergy = user.maxEnergy + car.energy\r\n        const myTime = user.time + car.time\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\tcar: myCars,\r\n            maxEnergy: myEnergy,\r\n            time: myTime,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const sellCar = () => {\r\n\t\tconst newBalance = user.balance + car.sellPrice\r\n\t\tconst myCars1 = myCars.filter((car) => car._id !== isMy)\r\n        const myEnergy = user.maxEnergy - car.energy\r\n        const myTime = user.time - car.time\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\tcar: myCars1.map(item => item._id),\r\n            maxEnergy: myEnergy,\r\n            time: myTime,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Grid item>\r\n        <Card>\r\n        <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`http://localhost:4444${car.imageUrl}`}\r\n        />\r\n        <CardContent>\r\n            {isMy ? <Typography gutterBottom variant=\"subtitle2\">{car.name}</Typography> : <Typography gutterBottom variant=\"h6\">\r\n            Цена: {car.price} K\r\n            </Typography>}\r\n            {isMy ? <Typography gutterBottom variant=\"body2\"> Цена: {car.price} K</Typography> : <Typography gutterBottom variant=\"subtitle2\">{car.name}</Typography>}\r\n            <Typography variant=\"caption\">\r\n                Время: <b>+{car.time}ч</b><br/>\r\n                Энергия: <b>+{car.energy}</b><br/>\r\n                Затраты в месяц: <b>{car.expenses} К</b><br/>\r\n                Цена продажи: <b>{car.sellPrice} К</b><br/>\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n            {isMy ? <Button size=\"small\" onClick={()=>sellCar()}>Продать</Button>:\r\n            <Button disabled={disabled} size=\"small\" onClick={()=>buyCar()}>Купить</Button>}\r\n        </CardActions>\r\n        </Card></Grid>\r\n  )\r\n}\r\n\r\nexport default CarLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport CarLot from '../../components/CarLot';\r\nimport CarCrashIcon from '@mui/icons-material/CarCrash';\r\n\r\nfunction CarList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst cars = useSelector((state) => state.cars.cars)\r\n    const c = new Set(user.car)\r\n\tconst avCars = cars.filter(({_id}) => !c.has(_id))\r\n    return (\r\n        <>\r\n        {avCars.length >= 1 ? <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        >\r\n            {avCars.map((car, index) => (\r\n            <CarLot key={index} car={car}/>\r\n            ))}\r\n        </Grid> : <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <CarCrashIcon sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступного транспорта</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack> }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CarList","import { Button, Card, CardMedia, CardContent, CardActions, Grid, Typography, Stack } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../redux/slices/userSlice';\r\nimport axios from '../axios.js'\r\n\r\nfunction HouseLot({house, isMy, isRent}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector((state) => state.user.user)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const rentHouses = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const [ disabled, setDisabled ] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(isMy){\r\n            if(isRent){\r\n                setDisabled(false)\r\n            } else {\r\n                if(myHouses.length > 1) setDisabled(false)\r\n                if(myHouses.length <= 1) setDisabled(true)\r\n            }\r\n        } else {\r\n            if(user.balance > house.price) setDisabled(false)\r\n        }\r\n    },[myHouses])\r\n\r\n    const buyHouse = () => {\r\n        const newBalance = user.balance - house.price\r\n\t\tconst myHouse = [...user.house,house._id]\r\n        const myEnergy = user.maxEnergy + house.energy\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\thouse: myHouse,\r\n            maxEnergy: myEnergy,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const sellHouse = () => {\r\n\t\tconst newBalance = user.balance + house.price\r\n\t\tconst myHouse = myHouses.filter((house) => house._id !== isMy)\r\n        const myEnergy = user.maxEnergy - house.energy\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n\t\t\thouse: myHouse.map(item => item._id),\r\n            maxEnergy: myEnergy,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const rentHouse = () => {\r\n\t\tconst myHouse = myHouses.filter((house) => house._id !== isMy)\r\n        const myEnergy = user.maxEnergy - house.energy\r\n        const rentHouse = [...user.rent,house._id]\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\thouse: myHouse.map(item => item._id),\r\n            maxEnergy: myEnergy,\r\n            rent: rentHouse,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n    \r\n    const derentHouse = () => {\r\n        const myHouses = [...user.house, house._id]\r\n        const myEnergy = user.maxEnergy + house.energy\r\n        const rentHouse = rentHouses.filter((h) => h._id !== house._id)\r\n\t\tconst fields = {\r\n\t\t\t...user,\r\n\t\t\thouse: myHouses,\r\n            maxEnergy: myEnergy,\r\n            rent: rentHouse.map(item => item._id),\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n\t}\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Grid item>\r\n        <Card>\r\n        <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`http://localhost:4444${house.imageUrl}`}\r\n        />\r\n        <CardContent>\r\n            {isMy ? <Stack direction=\"row\"><Typography gutterBottom variant=\"subtitle2\">{house.name}</Typography>\r\n            {isRent && <Typography variant=\"subtitle2\" sx={{marginLeft:'auto'}}>в аренде</Typography>}</Stack> : <Typography gutterBottom variant=\"h6\">\r\n            Цена: {house.price} K\r\n            </Typography>}\r\n            {isMy ? <Typography gutterBottom variant=\"body2\">Цена: {house.price} K</Typography> : <Typography gutterBottom variant=\"subtitle2\">{house.name}</Typography>}\r\n            <Typography variant=\"caption\">\r\n                Энергия: <b>+{house.energy}</b><br/>\r\n                Затраты в месяц: <b>{house.expenses} К</b><br/>\r\n                Сдача в аренду: <b>{house.rentPrice} К/мес</b>\r\n            </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        {isMy ? <><Button disabled={disabled} size=\"small\" onClick={()=>sellHouse()}>Продать</Button>\r\n        {isRent ? <Button disabled={disabled} size=\"small\" onClick={()=>derentHouse()}>Убрать с аренды</Button> : \r\n        <Button disabled={disabled} size=\"small\" onClick={()=>rentHouse()}>Сдать в аренду</Button>}</>:\r\n            <Button disabled={disabled} size=\"small\" onClick={()=>buyHouse()}>Купить</Button>}\r\n        </CardActions>\r\n        </Card></Grid>\r\n  )\r\n}\r\n\r\nexport default HouseLot","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Stack, Toolbar, Typography } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport HouseLot from '../../components/HouseLot';\r\nimport MapsHomeWorkIcon from '@mui/icons-material/MapsHomeWork';\r\n\r\nfunction HouseList() {\r\n    const user = useSelector((state) => state.user.user)\r\n\tconst houses = useSelector((state) => state.houses.houses)\r\n    const c = new Set(user.house)\r\n\tconst avHouses = houses.filter(({_id}) => !c.has(_id))\r\n    const c2 = new Set(user.rent)\r\n\tconst avHouses2 = avHouses.filter(({_id}) => !c2.has(_id))\r\n    return (\r\n        <>\r\n        {avHouses2.length >= 1 ? <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        >\r\n            {avHouses2.map((house, index) => (<HouseLot\r\n            key={index}\r\n            house={house}/>\r\n            ))}\r\n        </Grid> : <Stack direction=\"column\"\r\n        justifyContent=\"space-evenly\"\r\n        alignItems=\"center\">\r\n        <Toolbar/>\r\n        <MapsHomeWorkIcon sx={{ fontSize: 40 }} />\r\n        <Typography variant=\"subtitle1\">Нет доступной недвижимости</Typography>\r\n        <Typography variant=\"caption\">Вы скупили всё</Typography>\r\n        </Stack>}</>\r\n    )\r\n}\r\n\r\nexport default HouseList","import { Toolbar, Paper, Tab, Tabs, Container } from '@mui/material'\r\nimport React from 'react'\r\n\r\nimport BizList from './shop/BizList';\r\nimport CarList from './shop/CarList';\r\nimport HouseList from './shop/HouseList';\r\n\r\nimport { Header } from '../components/Header';\r\nimport BottomNav from '../components/BottomNav';\r\nimport { PAGE_PROPERTY } from '../routers';\r\nimport { Panel } from '@vkontakte/vkui';\r\n\r\nfunction Property({fetchedUser}) {\r\n    const [ value, setValue ] = React.useState(\"one\")\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    }\r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Container>\r\n            <Header fetchedUser={fetchedUser}/>\r\n            <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            textColor=\"secondary\"\r\n            indicatorColor=\"secondary\"\r\n            >\r\n                <Tab value=\"one\" label=\"Бизнес\" />\r\n                <Tab value=\"two\" label=\"Транспорт\" />\r\n                <Tab value=\"three\" label=\"Недвижимость\" />\r\n            </Tabs>\r\n            \r\n            {value === 'one'&&<BizList/>}\r\n            {value === 'two'&&<CarList/>}\r\n            {value === 'three'&&<HouseList/>}\r\n            <Toolbar/>\r\n            <BottomNav value={PAGE_PROPERTY}/>\r\n            </Container>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Property","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nimport { IconButton, Toolbar, Typography, Stack, List, ListItem, ListItemText, ListItemButton, Container, Button, Modal, Box } from '@mui/material';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\n\r\nfunction Report() {\r\n  const user = useSelector((state) => state.user.user)\r\n  const cars = useSelector((state) => state.cars.cars)\r\n  const houses = useSelector((state) => state.houses.houses)\r\n  const bizs = useSelector((state) => state.bizs.bizs)\r\n  \r\n  const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n  const sumHouses = myHouses.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n  const sumHouseExp = myHouses.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n  const sumRent = myRents.map(item => item.rentPrice).reduce((prev, curr) => prev + curr, 0)\r\n  const sumRentExp = myRents.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  \r\n  const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n  const sumCars = myCars.map(item => item.price).reduce((prev, curr) => prev + curr, 0)\r\n\tconst sumCarExp = myCars.map(item => item.expenses).reduce((prev, curr) => prev + curr, 0)\r\n  \r\n  const myBizs = bizs.filter(({_id}) => user.bizs.includes(_id))\r\n  const sumBizProfit = myBizs.map(item => item.maxProfit).reduce((prev, curr) => prev + curr, 0)\r\n\t\r\n  const sumCredits = user.credits.map(item => item.amount).reduce((prev, curr) => prev + curr, 0)\r\n  const sumCreditsPayments = user.credits.map(item => item.payment).reduce((prev, curr) => prev + curr, 0)\r\n\t\r\n\r\n  const [disabled, setDisabled] = React.useState(true);\r\n  const [open, setOpen] = React.useState(false);\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  React.useEffect(() => {\r\n    if(user.debts > 0) setDisabled(false)\r\n  },[user])\r\n\r\n  const payOff = () => {\r\n\t\tif(user.balance < user.debts){\r\n      setOpen(true)\r\n    } else\r\n    {\r\n      const newBalance = user.balance - user.debts\r\n      const fields = {\r\n\t\t\t...user,\r\n\t\t\tbalance: newBalance,\r\n      debts: 0,\r\n\t\t}\r\n    dispatch(setUser(fields))\r\n\t\tsave(fields)}\r\n  };\r\n\r\n  const payCreditDebt = (_id, amount, summ, payment) => {\r\n    if(summ > user.balance){\r\n        setOpen(true)\r\n    }else{\r\n        const newBalance = user.balance - summ\r\n        \r\n        const myCredits = user.credits.filter(({id}) => id != _id)\r\n        \r\n        const newCredit = {\r\n          id: _id,\r\n          amount: amount - summ,\r\n          debt: 0,\r\n          payment: payment,\r\n        }\r\n        \r\n        if(newCredit.amount > 0){\r\n          const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            credits: [...myCredits, newCredit].sort((x, y) => x.id - y.id),\r\n          }\r\n          dispatch(setUser(fields))\r\n          save(fields)\r\n        } else {\r\n          const fields = {\r\n            ...user,\r\n            balance: newBalance,\r\n            credits: myCredits.sort((x, y) => x.id - y.id),\r\n          }\r\n          dispatch(setUser(fields))\r\n          save(fields)\r\n        }\r\n    }\r\n}\r\n\r\n  const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n  }\r\n\r\n  const style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 250,\r\n    bgcolor: 'background.paper',\r\n    borderRadius: '10px',\r\n    boxShadow: 24,\r\n    p: 4,\r\n  };\r\n\r\n  return (\r\n    <Container disableGutters>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Долги</Typography>\r\n      </Stack>\r\n      <List>\r\n        {user.credits.map((credit,index)=>(\r\n                    <ListItem \r\n                    sx={{ marginTop: '10px'}}\r\n                    key={index}\r\n                    disablePadding\r\n                    secondaryAction={<Stack alignItems=\"flex-end\">\r\n                        <Typography variant=\"body1\">Долг: {credit.debt} K</Typography>\r\n                        <Button disabled={!credit.debt > 0} onClick={()=>payCreditDebt(credit.id, credit.amount, credit.debt, credit.payment)} size=\"small\">Оплатить</Button>\r\n                        </Stack>}>\r\n                      <ListItemText primary={`Кредит от ${new Date(credit.id).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: '2-digit',\r\n                        day: '2-digit',\r\n                        })}`} \r\n                        secondary={<Typography variant=\"caption\">Ежемесячный платеж {credit.payment} K</Typography>} />\r\n                    </ListItem>\r\n                ))}\r\n        <ListItem\r\n          disablePadding\r\n          secondaryAction={<Stack alignItems=\"flex-end\">\r\n              <Typography variant=\"body1\">{user.debts} K</Typography>\r\n              <Button disabled={!user.debts > 0} onClick={()=>payOff()} size=\"small\">Погасить</Button>\r\n              </Stack>}>\r\n          <ListItemText primary={'Задолженность на сегодня'} \r\n              secondary={'Погашать необходимо ежегодно'} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Доходы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>{Math.round((user.deposit.amount * 0.13)/12)} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Дивиденды</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>{sumRent} К/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Доход от аренды</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>{user.salary} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Зарплата</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'green' }}>~ {sumBizProfit} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Доход от бизнеса</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"subtitle1\" sx={{ color: 'green' }}>~ {(Math.round((user.deposit.amount * 0.13)/12)) + sumRent + user.salary + sumBizProfit} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography sx={{ color: 'green' }} variant=\"subtitle1\">Итого</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Расходы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumCreditsPayments} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Платежи по кредитам</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumHouseExp + sumRentExp} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на недвижимость</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{sumCarExp} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на транспорт</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{user.expenses} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Общие расходы</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body2\" sx={{ color: 'red' }}>{user.children * 5} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Расходы на детей</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"subtitle1\" sx={{ color: 'red' }}>{(user.children * 5) + user.expenses + sumCarExp + sumHouseExp + sumRentExp + sumCreditsPayments} K/мес</Typography>}>\r\n          <ListItemText primary={<Typography sx={{ color: 'red' }} variant=\"subtitle1\">Итого</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Активы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{user.deposit.amount} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Вклады</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumHouses} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Стоимость недвижимости</Typography>} />\r\n        </ListItem>\r\n        <ListItem \r\n        disablePadding \r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumCars} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Стоимость транспорта</Typography>} />\r\n        </ListItem>\r\n      </List>\r\n      <Stack direction=\"row\">\r\n        <Typography variant=\"subtitle1\">Пассивы</Typography>\r\n      </Stack>\r\n      <List>\r\n        <ListItem \r\n        disablePadding\r\n        secondaryAction={\r\n          <Typography variant=\"body1\">{sumCredits} K</Typography>}>\r\n          <ListItemText primary={<Typography variant=\"body2\">Кредиты на сумму</Typography>}/>\r\n        </ListItem>\r\n      </List>\r\n      <Modal\r\n      open={open}\r\n      onClose={()=>setOpen(false)}\r\n      >\r\n        <Box sx={style}>\r\n          <Typography>\r\n            Недостаточно средств 😥\r\n          </Typography>\r\n        </Box>\r\n      </Modal>\r\n      <Toolbar/>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Report","import { Box, Button, FormControl, Select, MenuItem, InputLabel, Grid, List, ListItem, ListItemText, Typography, Stack, Modal } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nfunction Credit() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user.user)\r\n    const [amount, setAmount] = React.useState('');\r\n    const [term, setTerm] = React.useState('');\r\n    const [payment, setPayment] = React.useState(0);\r\n    const [creditAmount, setCreditAmount] = React.useState('');\r\n    const [canCal, setCanCal] = React.useState(false);\r\n    const [calculated, setCalculated] = React.useState(false);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [creditLimit, setCreditLimit] = React.useState(false);\r\n    \r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const handleChange = (event) => {\r\n        setAmount(event.target.value);\r\n    };\r\n    \r\n    const handleChangeTerm = (event) => {\r\n        setTerm(event.target.value);\r\n    };\r\n\r\n    const calculate = () => {\r\n        setPayment(Math.round((((amount*0.18)*(term/12))+amount)/term))\r\n        setCreditAmount((Math.round((((amount*0.18)*(term/12))+amount)/term))*term)\r\n        setCalculated(true)\r\n    }\r\n\r\n    const takeCredit = () => {\r\n        if(user.credits.length >= 5){\r\n            setCreditLimit(true)\r\n        } else\r\n        {const date = +new Date\r\n        const terms = {\r\n            id: date,\r\n            amount: creditAmount,\r\n            debt: 0,\r\n            payment: payment,\r\n        }\r\n        const myCredits = [...user.credits, terms]  //погашение кредита, убрать из массива по айди\r\n        const newBalance = user.balance + amount\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            credits: myCredits.sort((x, y) => x.id - y.id),\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)}\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    const payOff = (_id, summ) => {\r\n        if(summ > user.balance){\r\n            setOpen(true)\r\n        }else{\r\n            const newBalance = user.balance - summ\r\n\t        const myCredits = user.credits.filter(({id}) => id != _id)\r\n            const fields = {\r\n                ...user,\r\n                balance: newBalance,\r\n                credits: myCredits.sort((x, y) => x.id - y.id),\r\n            }\r\n            dispatch(setUser(fields))\r\n            save(fields)\r\n        }\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        if(amount != '' && term != ''){\r\n            setCanCal(true)\r\n        }\r\n        \r\n    },[term,amount])\r\n\r\n    const style = {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 250,\r\n        bgcolor: 'background.paper',\r\n        borderRadius: '10px',\r\n        boxShadow: 24,\r\n        p: 4,\r\n      };\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }} >\r\n            <Typography variant=\"subtitle1\">Оформить кредит</Typography>\r\n            <Grid container spacing={1}>\r\n                <Grid item xs={6}>\r\n                    <FormControl fullWidth sx={{ marginTop: '10px'}} error>\r\n                        <InputLabel id=\"credit-amount-label\">Сумма</InputLabel>\r\n                        <Select\r\n                        labelId=\"credit-amount-label\"\r\n                        id=\"credit-amount-select\"\r\n                        value={amount}\r\n                        label=\"Amount\"\r\n                        onChange={handleChange}\r\n                        >\r\n                        <MenuItem value={100}>100 К</MenuItem>\r\n                        <MenuItem value={200}>200 К</MenuItem>\r\n                        <MenuItem value={500}>500 К</MenuItem>\r\n                        <MenuItem value={1000}>1000 К</MenuItem>\r\n                        <MenuItem value={5000}>5000 К</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <FormControl fullWidth sx={{ marginTop: '10px'}}>\r\n                        <InputLabel id=\"credit-term-label\">Срок</InputLabel>\r\n                        <Select\r\n                        labelId=\"credit-term-label\"\r\n                        id=\"credit-term-select\"\r\n                        value={term}\r\n                        label=\"Term\"\r\n                        onChange={handleChangeTerm}\r\n                        >\r\n                        <MenuItem value={12}>12 мес</MenuItem>\r\n                        <MenuItem value={24}>24 мес</MenuItem>\r\n                        <MenuItem value={60}>60 мес</MenuItem>\r\n                        <MenuItem value={120}>120 мес</MenuItem>\r\n                        <MenuItem value={240}>240 мес</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n            </Grid>\r\n            <Typography variant=\"caption\">Расчитать и оформить кредит под ~18% годовых</Typography>\r\n            <Stack direction={'column'}>\r\n            <Button sx={{ marginTop: '15px'}} disabled={!canCal} size=\"small\" variant=\"contained\" onClick={()=>calculate()}>Рассчитать</Button></Stack>\r\n            {calculated && <List>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{payment} K</Typography>}>\r\n                <ListItemText primary=\"Ежемесячный платеж\" />\r\n                </ListItem>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{creditAmount} K</Typography>}>\r\n                <ListItemText primary=\"Общая выплата\" />\r\n                </ListItem>\r\n                <ListItem \r\n                disablePadding\r\n                secondaryAction={\r\n                <Typography variant=\"body1\">{amount} K</Typography>}>\r\n                <ListItemText primary=\"Сумма кредита\" />\r\n                </ListItem>\r\n                <Stack direction={'column'}>\r\n                <Button onClick={()=>takeCredit()} sx={{ marginTop: '10px'}} disabled={!canCal} size=\"small\" variant=\"contained\">Оформить</Button></Stack>\r\n            </List>}\r\n            <List>\r\n                {user.credits.length >= 1 && <Typography variant=\"overline\">Оформленные</Typography>}\r\n                {user.credits.map((credit,index)=>(\r\n                    <ListItem \r\n                    sx={{ marginTop: '10px'}}\r\n                    key={index}\r\n                    disablePadding\r\n                    secondaryAction={<Stack alignItems=\"flex-end\">\r\n                        <Typography variant=\"body1\">Сумма {credit.amount} K</Typography>\r\n                        <Button onClick={()=>payOff(credit.id,credit.amount)} size=\"small\">Погасить</Button>\r\n                        </Stack>}>\r\n                    <ListItemText primary={`Кредит от ${new Date(credit.id).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: '2-digit',\r\n                        day: '2-digit',\r\n                        })}`} \r\n                        secondary={<Typography variant=\"caption\">Ежемесячный платеж {credit.payment} K</Typography>} />\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography>\r\n                        Недостаточно средств 😥\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n            <Modal\r\n                open={creditLimit}\r\n                onClose={()=>setCreditLimit(false)}\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography>\r\n                        Максимальное количество кредитов 😥\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Credit","import { Box, TextField, Typography, Stack, Button, Input, ListItem, ListItemText, List } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/slices/userSlice';\r\nimport axios from '../../axios.js'\r\n\r\nfunction Deposit() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user.user)\r\n    const [amount, setAmount] = React.useState(0)\r\n    const [withdrawAmount, setWithdrawAmount] = React.useState(0)\r\n    const [disabled, setDisabled] = React.useState(true)\r\n    const [disabledWithdraw, setDisabledWithdraw] = React.useState(true)\r\n\r\n    React.useEffect(()=>{\r\n        if(amount>user.balance) setDisabled(true)\r\n        if(amount<=user.balance) setDisabled(false)\r\n        if(amount<=0) setDisabled(true)\r\n    },[ amount, user ])\r\n\r\n    React.useEffect(()=>{\r\n        if(withdrawAmount>user.deposit.amount) setDisabledWithdraw(true)\r\n        if(withdrawAmount<=user.deposit.amount) setDisabledWithdraw(false)\r\n        if(withdrawAmount<=0) setDisabledWithdraw(true)\r\n    },[ withdrawAmount, user ])\r\n\r\n    const handleInvestChange = (event) => {\r\n        setAmount(event.target.value)\r\n    }\r\n\r\n    const handleWithdrawChange = (event) => {\r\n        setWithdrawAmount(event.target.value)\r\n    }\r\n    \r\n    const invest = () => {\r\n        const newDeposit = {\r\n            amount: user.deposit.amount + Number(amount),\r\n            date: +new Date + 120000,\r\n        }\r\n\r\n        const newBalance = user.balance - Number(amount)\r\n\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const withdraw = () => {\r\n        const newDeposit = {\r\n            amount: user.deposit.amount - Number(withdrawAmount),\r\n            date: +new Date + 120000,\r\n        }\r\n\r\n        const newBalance = user.balance + Number(withdrawAmount)\r\n\r\n        const fields = {\r\n\t\t\t...user,\r\n            balance: newBalance,\r\n            deposit: newDeposit,\r\n\t\t}\r\n\t\tdispatch(setUser(fields))\r\n\t\tsave(fields)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }} >\r\n            <Stack direction={'column'} spacing={1}>\r\n                <List>\r\n                <ListItem \r\n                    disablePadding\r\n                    secondaryAction={\r\n                    <Typography variant=\"body1\">{user.deposit.amount} K</Typography>}>\r\n                    <ListItemText primary=\"Вклад\" />\r\n                </ListItem></List>\r\n                <Typography variant=\"subtitle1\">Вложить</Typography>\r\n                <TextField\r\n                    id=\"outlined-number\"\r\n                    label=\"Сумма\"\r\n                    type=\"number\"\r\n                    onChange={handleInvestChange}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                />\r\n                <Typography variant=\"caption\">Дивидендная доходность ~13% в год</Typography>\r\n                <Button sx={{ marginTop: '15px'}} disabled={disabled} size=\"small\" variant=\"contained\" onClick={()=>invest()}>Вложить</Button>\r\n                \r\n                <Typography variant=\"subtitle1\">Снять</Typography>\r\n                <TextField\r\n                    id=\"outlined-number\"\r\n                    label=\"Сумма\"\r\n                    type=\"number\"\r\n                    onChange={handleWithdrawChange}\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                />\r\n                <Button sx={{ marginTop: '15px'}} disabled={disabledWithdraw} size=\"small\" variant=\"contained\" onClick={()=>withdraw()}>Снять</Button>\r\n            </Stack>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Deposit","import { Paper, Tab, Tabs, Container } from '@mui/material'\r\nimport React from 'react'\r\n\r\nimport Report from './bank/Report.jsx';\r\nimport Credit from './bank/Credit.jsx';\r\nimport Deposit from './bank/Deposit.jsx';\r\nimport { Header } from '../components/Header.jsx';\r\nimport BottomNav from '../components/BottomNav.jsx';\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PAGE_BANK } from '../routers.js';\r\n\r\nfunction Bank({fetchedUser}) {\r\n  const [ value, setValue ] = React.useState(\"one\")\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Container>\r\n      <Header fetchedUser={fetchedUser}/>\r\n      <Tabs\r\n      value={value}\r\n      onChange={handleChange}\r\n      textColor=\"secondary\"\r\n      indicatorColor=\"secondary\"\r\n      >\r\n        <Tab value=\"one\" label=\"Бухгалтерия\" />\r\n        <Tab value=\"two\" label=\"Кредиты\" />\r\n        <Tab value=\"three\" label=\"Вклады\" />\r\n      </Tabs>\r\n      \r\n      {value === 'one'&&<Report/>}\r\n      {value === 'two'&&<Credit/>}\r\n      {value === 'three'&&<Deposit/>}\r\n      \r\n      <BottomNav value={PAGE_BANK}/>\r\n      </Container>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Bank","import { Button, Paper, Stack } from '@mui/material'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport axios from '../axios.js'\r\nimport { setUser } from '../redux/slices/userSlice.js'\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN, PAGE_REGISTER, PAGE_TRAINING, PAGE_SETTINGS } from '../routers.js'\r\n\r\nfunction Intro({fetchedUser}) {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const [firstTime, setFirstTime] = React.useState(true)\r\n\r\n    const getPlayer = async () => {\r\n        await axios.get(`/auth/me/${fetchedUser.id}`).then(({data}) => {\r\n          dispatch(setUser(data))\r\n          setFirstTime(false)\r\n        }).catch(() =>{\r\n          console.log('user not found')\r\n        })\r\n    }\r\n     \r\n    if(fetchedUser){\r\n        getPlayer()\r\n    }\r\n    \r\n    \r\n    return (\r\n      <Panel centered>\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n          <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n          >\r\n            <Button disabled={firstTime} onClick={() => router.pushPage(PAGE_MAIN)}>Играть</Button>\r\n            <Button disabled={firstTime} onClick={() => router.pushPage(PAGE_REGISTER)}>Начать заново</Button>\r\n            <Button onClick={() => router.pushPage(PAGE_TRAINING)}>Обучение</Button>\r\n            <Button onClick={() => router.pushPage(PAGE_SETTINGS)}>Настройки</Button>\r\n          </Stack>\r\n        </Paper>\r\n      </Panel>\r\n    )\r\n}\r\n\r\nexport default Intro","import { Button, Paper, Typography, Stack, CircularProgress } from '@mui/material'\r\nimport React from 'react'\r\nimport axios from '../axios.js'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useRouter } from '@happysanta/router'\r\nimport { setUser } from '../redux/slices/userSlice.js';\r\nimport { PAGE_MAIN } from '../routers.js';\r\nimport { Panel } from '@vkontakte/vkui';\r\n\r\nfunction Register({ fetchedUser }) {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch()\r\n  const profs = useSelector((state) => state.user.profs)\r\n  const user = useSelector((state) => state.user.user)\r\n  const [ open, setOpen ] = React.useState(false)\r\n  const [ profession, setProfession] = React.useState()\r\n  const [ timeLeft, setTimeLeft ] = React.useState(0)\r\n  const [ isCounting, setIsCounting ] = React.useState(true)\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    router.pushPage(PAGE_MAIN)\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const interval = setInterval(() => {\r\n        \r\n      isCounting && setTimeLeft((timeLeft) => (timeLeft >= 10 ? 10 : timeLeft +1 ))\r\n  \r\n      if (timeLeft == 10 && isCounting) {\r\n        result()    \r\n      }\r\n\r\n    },200)\r\n    return () => {\r\n        clearInterval(interval)\r\n    }\r\n  },[timeLeft, isCounting, user])\r\n\r\n  const getRandomIntInclusive = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n  }\r\n\r\n  const result = () => {\r\n\t\tconst p = getRandomIntInclusive( 0, profs.length-1)\r\n    setProfession(profs[p])\r\n\t}\r\n\r\n  const getProf = async () => {\r\n\r\n    setIsCounting(false)\r\n\r\n    if (Object.keys(user).length == 0){\r\n      const deposit = {\r\n        amount: 0,\r\n        date: +new Date,\r\n      }\r\n      const fields = {\r\n        \r\n        firstName : fetchedUser.first_name,\r\n        prof: profession.profName,\r\n        workTime: 8,\r\n        salary: profession.salary,\r\n        userId: fetchedUser.id,\r\n        balance: 100,\r\n        debts: 0,\r\n        age: profession.age,\r\n        children: profession.childCount,\r\n        house: profession.house,\r\n        car: profession.car,\r\n        rent: [],\r\n        bizs: [],\r\n        deposit: deposit,\r\n        credits: [],\r\n        records: [],\r\n        expenses: profession.expenses,\r\n        onGame: true,\r\n        time: 10,\r\n        energy: 100,\r\n        maxEnergy: 100,\r\n        energizer: 0,\r\n        freeEnergizerOn: true,\r\n      }\r\n\r\n      console.log(fields)\r\n      await axios.post(`/auth/register`, fields).then((data)=>{\r\n        dispatch(setUser(data.data.user));\r\n      });\r\n      setOpen(true)\r\n\r\n    } else {\r\n      const deposit = {\r\n        amount: 0,\r\n        date: +new Date,\r\n      }\r\n      const fields = {\r\n        _id: user._id,\r\n        firstName : user.firstName,\r\n        prof: profession.profName,\r\n        workTime: 8,\r\n        salary: profession.salary,\r\n        userId: user.userId,\r\n        balance: 100,\r\n        debts: 0,\r\n        age: profession.age,\r\n        children: profession.childCount,\r\n        house: profession.house,\r\n        car: profession.car,\r\n        rent: [],\r\n        bizs: [],\r\n        deposit: deposit,\r\n        credits: [],\r\n        records: user.records,\r\n        expenses: profession.expenses,\r\n        datePoint: user.datePoint,\r\n        freeEnergizer: user.freeEnergizer,\r\n        onGame: true,\r\n        time: 10,\r\n        energy: 100,\r\n        maxEnergy: 100,\r\n        energizer: 0,\r\n        freeEnergizerOn: true,\r\n        lifesCount: user.lifesCount + 1,\r\n      }\r\n\r\n      dispatch(setUser(fields));\r\n      await axios.patch(`/auth/${user._id}`, fields)\r\n      setOpen(true)\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Stack \r\n      sx={{ width: '100vw', height: '100vh' }}\r\n      direction={'column'}\r\n      alignItems='center'\r\n      justifyContent='center'\r\n      spacing={1}>\r\n        {profession ? <><Typography variant='subtitle1'>Профессия:</Typography>\r\n        <Typography variant='h6'>{profession.profName}</Typography>\r\n        <Typography variant='caption'>Для начала игры необходимо выбрать профессию</Typography>\r\n        <Button disabled={!isCounting} onClick={()=>getProf()}>Выбрать</Button></> : \r\n        <CircularProgress/>}\r\n        {open && <>\r\n        <Typography variant='caption'>Вы получили профессию <b>{user.prof}</b></Typography>\r\n        <Typography variant='caption'>Ваша зарплата <b>{user.salary}</b> К, Вам <b>{user.age/12}</b>, количество детей: <b>{user.children}</b>.</Typography>\r\n        <Typography variant='caption'><b>Удачной игры!</b></Typography>\r\n        <Button onClick={()=>router.pushPage(PAGE_MAIN)}>Начать</Button>\r\n        </>}\r\n      </Stack>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Register\r\n\r\n//Пассивным доходом в игре считаются дивидендные акции и бизнес под управлением менеджера.<br/><br/>","import { Toolbar, Box, Tab, Tabs, Typography, Button, Stack, Container } from '@mui/material'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport React from 'react'\r\nimport { useRouter } from '@happysanta/router'\r\nimport { PAGE_MAIN } from '../routers'\r\n\r\nfunction Training() {\r\n    const router = useRouter()\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction={'column'}\r\n            alignItems='center'\r\n            justifyContent='center'\r\n            spacing={1}>\r\n            <Typography>Здесь будет материал для обучения</Typography>\r\n            <Button onClick={()=>router.pushPage(PAGE_MAIN)}>Играть</Button>\r\n            <Toolbar/>\r\n            </Stack>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Training","import { Toolbar, Paper, Typography } from '@mui/material'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport React from 'react'\r\n\r\nfunction Settings() {\r\n  \r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Typography>Настройки</Typography>\r\n      <Toolbar/>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Settings","import { Button, Paper, CssBaseline, Stack, Toolbar, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useRouter } from '@happysanta/router'\r\nimport axios from '../axios.js'\r\nimport { setUser } from '../redux/slices/userSlice.js'\r\nimport PauseIcon from '@mui/icons-material/Pause'\r\nimport { PAGE_MAIN } from '../routers.js'\r\nimport { Panel } from '@vkontakte/vkui'\r\n\r\nfunction Pause() {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const user = useSelector((state) => state.user.user)\r\n\r\n    const play = () => {\r\n        const fields = {\r\n            ...user,\r\n            onGame: true,\r\n            energy: user.maxEnergy,\r\n        }\r\n        dispatch(setUser(fields))\r\n        save(fields)\r\n        router.pushPage(PAGE_MAIN)\r\n    }\r\n\r\n    const save = async (data) => {\r\n\t\tawait axios.patch(`/auth/${user._id}`, data)\r\n    }\r\n\r\n    return (\r\n        <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n            <Stack\r\n            sx={{ width: '100vw', height: '100vh' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n            >\r\n                <PauseIcon sx={{ fontSize: 40}} />\r\n                <Typography variant='h6'>ПАУЗА</Typography>\r\n                <Typography variant='caption'>Необходима для восстановления энергии</Typography>\r\n                <Button onClick={()=>play()}>Играть</Button>\r\n            </Stack>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Pause","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Toolbar, Typography } from '@mui/material';\r\nimport HouseLot from '../../components/HouseLot';\r\nimport CarLot from '../../components/CarLot';\r\n\r\nfunction Home() {\r\n    const user = useSelector((state) => state.user.user)\r\n    const cars = useSelector((state) => state.cars.cars)\r\n    const houses = useSelector((state) => state.houses.houses)\r\n    const myHouses = houses.filter(({_id}) => user.house.includes(_id))\r\n    const myRents = houses.filter(({_id}) => user.rent.includes(_id))\r\n    const myCars = cars.filter(({_id}) => user.car.includes(_id))\r\n    return (\r\n        <>\r\n        <Typography variant=\"overline\">\r\n            Недвижимость\r\n        </Typography>\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        >\r\n            {myHouses.map((house, index) => (<HouseLot\r\n            key={index}\r\n            house={house}\r\n            isMy={house._id}/>\r\n            ))}\r\n        </Grid>\r\n        {myRents.length > 0 && <Typography variant=\"overline\">\r\n            Недвижимость в аренде\r\n        </Typography>}\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        > \r\n            {myRents.map((house, index) => (<HouseLot\r\n            key={house._id}\r\n            house={house}\r\n            isMy={house._id}\r\n            isRent={true}/>\r\n            ))}\r\n        </Grid>\r\n        {myCars.length > 0 && <Typography variant=\"overline\">\r\n            Транспорт\r\n        </Typography>}\r\n        <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"column\"\r\n        justifyContent=\"flex-start\"\r\n        alignItems=\"stretch\"\r\n        sx={{marginBottom:'10px'}}\r\n        > \r\n            {myCars.map((car, index) => (\r\n            <CarLot key={car._id} car={car} isMy={car._id}/>\r\n            ))}\r\n        </Grid>\r\n        <Toolbar/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home","import { Toolbar, Box, Tab, Tabs, Typography, CircularProgress, Button, Stack, Container } from '@mui/material'\r\nimport { grey } from '@mui/material/colors';\r\nimport React from 'react'\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport PeopleIcon from '@mui/icons-material/People';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setFriends } from '../../redux/slices/userSlice'\r\n\r\nfunction Friends() {\r\n    const dispatch = useDispatch()\r\n\r\n    const friends = useSelector((state) => state.user.friends)\r\n    const users = useSelector((state) => state.user.users)\r\n    const usersIds = users.map(u=>u.userId )\r\n\tconst ids = usersIds.map(string => parseInt(string))\r\n\tconst myFriends = friends.filter(({id}) => ids.includes(id))\r\n\r\n    async function fetchFriends() {\r\n        const response = await bridge.send('VKWebAppGetAuthToken', { \r\n            app_id: 51483243, \r\n            scope: 'friends'\r\n            })\r\n            \r\n\r\n        const data = await bridge.send('VKWebAppCallAPIMethod', {\r\n            method: 'friends.get',\r\n            params: {\r\n                order: \"hints\",\r\n                fields: 'photo_100',\r\n                v: '5.131',\r\n                access_token: response.access_token\r\n            }})\r\n\r\n            dispatch(setFriends(data.response.items))\r\n    }\r\n    \r\n    return (\r\n        <Container>\r\n        {friends.length == 0 ? \r\n        <Stack direction=\"column\"\r\n        alignItems=\"center\"\r\n        spacing={1}>\r\n            <Toolbar/>\r\n            <Toolbar/>\r\n            <PeopleIcon sx={{ fontSize: 40 }} />\r\n            <Button onClick={()=>fetchFriends()}>Посмотреть друзей</Button>\r\n        </Stack> : <>\r\n        {myFriends.length == 0 ? \r\n            <Stack direction=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            spacing={1}>\r\n                <Toolbar/>\r\n                <Toolbar/>\r\n                <PeopleIcon sx={{ fontSize: 40 }} />\r\n                <Typography variant=\"subtitle1\">У Вас ещё нет друзей в игре</Typography>\r\n                <Typography sx={{ padding:'20px' }} variant=\"caption\">На этой вкладке будет список Ваших друзей, которые играют в эту игру. \r\n                Вы их можете поприветствовать, за каждого кто ответит, получите 5 энергетиков дополнительно.</Typography>\r\n            </Stack> :\r\n            <Box sx={{ display: 'flex' }}>\r\n            <Typography>Друзья получены</Typography>\r\n        </Box>}\r\n        </>\r\n        }\r\n        <Toolbar/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Friends","import { Toolbar, Box, Typography } from '@mui/material'\r\nimport React from 'react'\r\n\r\nfunction Raiting() {\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }} >\r\n      <Typography>Raiting</Typography>\r\n      <Toolbar/>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Raiting","import { Toolbar, Paper, Tab, Tabs, Container } from '@mui/material'\r\nimport React from 'react'\r\n\r\nimport Home from './profile/Home'\r\nimport Friends from './profile/Friends'\r\nimport Raiting from './profile/Raiting'\r\nimport { Header } from '../components/Header'\r\nimport BottomNav from '../components/BottomNav'\r\nimport { Panel } from '@vkontakte/vkui'\r\nimport { PAGE_PROFILE } from '../routers'\r\n\r\nfunction Profile({fetchedUser}) {\r\n  const [ value, setValue ] = React.useState(\"one\")\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ width: '100vw', height: '100%', minHeight: '100vh', borderRadius:0 }}>\r\n      <Container>\r\n      <Header fetchedUser={fetchedUser}/> \r\n      <Tabs\r\n      value={value}\r\n      onChange={handleChange}\r\n      textColor=\"secondary\"\r\n      indicatorColor=\"secondary\"\r\n      >\r\n        <Tab value=\"one\" label=\"Собственность\" />\r\n        <Tab value=\"two\" label=\"Друзья\" />\r\n        <Tab value=\"three\" label=\"Рейтинг\" />\r\n      </Tabs>\r\n      \r\n      {value === 'one'&&<Home/>}\r\n      {value === 'two'&&<Friends/>}\r\n      {value === 'three'&&<Raiting/>}\r\n      <Toolbar/>\r\n      <BottomNav value={PAGE_PROFILE}/>\r\n      </Container>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Profile","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    houses: [],\r\n}\r\n\r\nexport const getHouses = createAsyncThunk('houses/getHouses', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/houses')\r\n    dispatch(setHouses((res).data))\r\n})\r\n\r\nexport const houseSlice = createSlice({\r\n    name: 'houses',\r\n    initialState,\r\n    reducers: {\r\n        setHouses: ( state, action ) => {\r\n            state.houses = action.payload\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [getHouses.fulfilled] : () => console.log('houses получены'),\r\n        [getHouses.pending] : () => console.log('запрос houses'),\r\n        [getHouses.rejected] : () => console.log('ошибка houses'),\r\n    }\r\n})\r\n\r\nexport const { setHouses } = houseSlice.actions\r\n\r\nexport default houseSlice.reducer","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios.js\";\r\n\r\nconst initialState = {\r\n    cars: [],\r\n}\r\n\r\nexport const getCars = createAsyncThunk('cars/getCars', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/cars')\r\n    dispatch(setCars((res).data))\r\n})\r\n\r\nexport const carSlice = createSlice({\r\n    name: 'cars',\r\n    initialState,\r\n    reducers: {\r\n        setCars: ( state, action ) => {\r\n            state.cars = action.payload\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [getCars.fulfilled] : () => console.log('cars получены'),\r\n        [getCars.pending] : () => console.log('запрос cars'),\r\n        [getCars.rejected] : () => console.log('ошибка cars'),\r\n    }\r\n})\r\n\r\nexport const { setCars } = carSlice.actions\r\n\r\nexport default carSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport axios from '../../axios.js'\r\n\r\nconst initialState = {\r\n    bizs: [],\r\n}\r\n\r\nexport const getBizs = createAsyncThunk('bizs/getBizs', async ( _, { rejectWithValue, dispatch }) => {\r\n    const res = await axios.get('/bizs')\r\n    dispatch(setBizs((res).data))\r\n})\r\n\r\nexport const bizSlice = createSlice({\r\n    name: 'bizs',\r\n    initialState,\r\n    reducers: {\r\n        setBizs: ( state, action ) => {\r\n            state.bizs = action.payload\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [getBizs.fulfilled] : () => console.log('bizs получены'),\r\n        [getBizs.pending] : () => console.log('запрос bizs'),\r\n        [getBizs.rejected] : () => console.log('ошибка bizs'),\r\n    }\r\n})\r\n\r\nexport const { setBizs } = bizSlice.actions\r\n\r\nexport default bizSlice.reducer","import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useLocation, withRouter } from '@happysanta/router';\r\n\r\nimport { VIEW_MAIN, PANEL_INTRO, PANEL_REGISTER, PANEL_TRAINING, PANEL_SETTINGS, PANEL_PAUSE, PANEL_MAIN, PANEL_PROPERTY, PANEL_BANK, PANEL_PROFILE } from './routers';\r\n\r\nimport Main from './panels/Main';\r\nimport Property from './panels/Property';\r\nimport Bank from './panels/Bank';\r\nimport Intro from './panels/Intro';\r\nimport Register from './panels/Register';\r\nimport Training from './panels/Training';\r\nimport Settings from './panels/Settings';\r\nimport Pause from './panels/Pause';\r\nimport Profile from './panels/Profile';\r\n\r\nimport { getHouses } from './redux/slices/housesSlice';\r\nimport { getCars } from './redux/slices/carsSlice';\r\nimport { getBizs } from './redux/slices/bizsSlice';\r\nimport { getUsers, getProfs } from './redux/slices/userSlice.js';\r\nimport { AdaptivityProvider, AppRoot, ConfigProvider, View } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { ThemeProvider, createTheme } from '@mui/material';\r\n\r\nconst App = () => {\r\n\tconst [scheme, setScheme] = useState('bright_light')\r\n\tconst [fetchedUser, setUser] = useState(null)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst location = useLocation()\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getHouses())\r\n\t\tdispatch(getCars())\r\n\t\tdispatch(getBizs())\r\n\t\tdispatch(getUsers())\r\n\t\tdispatch(getProfs())\r\n\r\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tsetScheme(data.scheme)\r\n\t\t\t\tconsole.log(data.scheme)\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t}\r\n\t\tfetchData();\r\n\r\n\t}, []);\r\n\r\n\tconst theme = createTheme({\r\n\t\tpalette: {\r\n\t\t\tmode: \"dark\"\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<AppRoot>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<View \r\n\t\t\tid={VIEW_MAIN} \r\n\t\t\thistory={location.hasOverlay() ? [] : location.getViewHistory(VIEW_MAIN)}\r\n\t\t\tactivePanel={location.getViewActivePanel(VIEW_MAIN)}>\r\n\t\t\t\t<Intro id={PANEL_INTRO} fetchedUser={fetchedUser}/>\r\n\t\t\t\t<Register id={PANEL_REGISTER} fetchedUser={fetchedUser}/>\r\n\t\t\t\t<Training id={PANEL_TRAINING}/>\r\n\t\t\t\t<Settings id={PANEL_SETTINGS}/>\r\n\t\t\t\t<Pause id={PANEL_PAUSE}/>\r\n\t\t\t\t<Main id={PANEL_MAIN} fetchedUser={fetchedUser}/>\r\n\t\t\t\t<Property id={PANEL_PROPERTY} fetchedUser={fetchedUser}/>\r\n\t\t\t\t<Bank id={PANEL_BANK} fetchedUser={fetchedUser}/>\r\n\t\t\t\t<Profile id={PANEL_PROFILE} fetchedUser={fetchedUser}/>\r\n\t\t\t</View>\r\n\t\t\t</ThemeProvider>\r\n\t\t</AppRoot>\r\n\t);\r\n}\r\n\r\nexport default withRouter(App);\r\n\r\n/*\r\n<Routes>\r\n\t<Route path='/' element={<AppLayout/>}/>\r\n\t<Route index element={<Intro fetchedUser={fetchedUser} />}/>\r\n\t<Route path='register' element={<Register fetchedUser={fetchedUser} />}/>\r\n\t<Route path='training' element={<Training fetchedUser={fetchedUser} />}/>\r\n\t<Route path='settings' element={<Settings fetchedUser={fetchedUser} />}/>\r\n\t<Route path='pause' element={<Pause fetchedUser={fetchedUser} />}/>\r\n\t<Route path='main/' element={<Layout fetchedUser={fetchedUser} />}>\r\n\t\t<Route path='main' element={<Main/>}/>\r\n\t\t<Route path='property' element={<Property/>}/>\r\n\t\t<Route path='bank' element={<Bank/>}/>\r\n\t\t<Route path='profile' element={<Profile/>}/>\r\n\t</Route>\r\n</Routes>\r\n*/\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport userSlice from \"./slices/userSlice\";\r\nimport houseSlice from \"./slices/housesSlice\";\r\nimport carsSlice from \"./slices/carsSlice\";\r\nimport bizsSlice from \"./slices/bizsSlice\";\r\n\r\nexport const store = configureStore({\r\n    reducer:{\r\n        user: userSlice,\r\n        houses: houseSlice,\r\n        cars: carsSlice,\r\n        bizs: bizsSlice,\r\n    }\r\n}) ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './redux/store.js'\r\nimport { router } from \"./routers\";\r\nimport { RouterContext } from \"@happysanta/router\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(\r\n  <RouterContext.Provider value={router}>\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>  \r\n    </RouterContext.Provider>\r\n, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}